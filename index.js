/*! For license information please see index.js.LICENSE.txt */
(()=>{var e,t,n={9735:(e,t,n)=>{"use strict";e.exports=n.p+"ccec098288483d5860b7.wasm"},2821:(e,t,n)=>{"use strict";e.exports=n.p+"bf63222b61cfdc321c20.wasm"},5792:function(e,t,n){var r;e=n.nmd(e),function(){var n,i,o,a,s,c,l,u,d,f,h,p,g,m,b,v,_,y,w,x,k,M,S,C,A,T,E,z,P,I,D,L,N,O,B,V,R,j,F,H,W,U,Y,q,Z,G,$,X,K,Q,J,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,de,fe,he,pe,ge,me,be,ve,_e,ye,we,xe,ke,Me,Se,Ce,Ae,Te,Ee=[].slice;Me=function(){var e,t,n,r,i;for(e={},r=0,t=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),$=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Se=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,_e=Math.round,S=Math.cos,z=Math.floor,re=Math.pow,X=Math.log,we=Math.sin,xe=Math.sqrt,m=Math.atan2,J=Math.max,g=Math.abs,l=2*a,s=a/3,i=a/180,c=180/a,(x=function(){return arguments[0]instanceof n?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,arguments,(function(){}))}).default=x,p=[],null!==e&&null!=e.exports&&(e.exports=x),void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r),x.version="1.4.1",h={},d=[],f=!1,n=function(){function e(){var e,t,n,r,i,o,a,s,c;for(o=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=h[a])o._rgb=k(h[a](Se(t.slice(0,-1))));else{for(f||(d=d.sort((function(e,t){return t.p-e.p})),f=!0),c=0,i=d.length;c<i&&!(a=(n=d[c]).test.apply(n,t));c++);a&&(o._rgb=k(h[a].apply(h,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),x._input=h,x.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],y)t.push(y[e.toLowerCase()]=y[e])}(),x.colors=Ce={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},U=function(){var e,t,n,r,i,a,s;return r=(t=Se(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,i=isNaN(e)?a:a+e/500,s=isNaN(n)?a:a-n/200,a=o.Yn*Y(a),i=o.Xn*Y(i),s=o.Zn*Y(s),[Te(3.2404542*i-1.5371385*a-.4985314*s),Te(-.969266*i+1.8760108*a+.041556*s),n=Te(.0556434*i-.2040259*a+1.0572252*s),t.length>3?t[3]:1]},Te=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},Y=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,n,r,i,o,a;return n=(r=Se(arguments))[0],t=r[1],e=r[2],o=(i=me(n,t,e))[0],[116*(a=i[1])-16,500*(o-a),200*(a-i[2])]},be=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ae=function(e){return e>o.t3?re(e,1/3):e/o.t2+o.t0},me=function(){var e,t,n,r;return n=(r=Se(arguments))[0],t=r[1],e=r[2],n=be(n),t=be(t),e=be(e),[Ae((.4124564*n+.3575761*t+.1804375*e)/o.Xn),Ae((.2126729*n+.7151522*t+.072175*e)/o.Yn),Ae((.0193339*n+.119192*t+.9503041*e)/o.Zn)]},x.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["lab"]),(function(){}))},h.lab=U,n.prototype.lab=function(){return de(this._rgb)},b=function(e){var t,n,r,i,o,a,s,c,l,u,d;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(x(i));return r}()).length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=l[0],a=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),x.lab.apply(x,n)}):3===e.length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=u[0],a=u[1],s=u[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),x.lab.apply(x,n)}):4===e.length?(d=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=d[0],a=d[1],s=d[2],c=d[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*c[t]);return r}(),x.lab.apply(x,n)}):5===e.length&&(n=b(e.slice(0,3)),r=b(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},x.bezier=function(e){var t;return(t=b(e)).scale=function(){return x.scale(t)},t},x.cubehelix=function(e,t,n,r,i){var o,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),o=0,"array"===Me(i)?a=i[1]-i[0]:(a=0,i=[i,i]),(s=function(s){var c,u,d,f,h;return c=l*((e+120)/360+t*s),f=re(i[0]+a*s,r),u=(0!==o?n[0]+s*o:n)*f*(1-f)/2,d=S(c),h=we(c),x(k([255*(f+u*(-.14861*d+1.78277*h)),255*(f+u*(-.29227*d-.90649*h)),255*(f+u*(1.97294*d)),1]))}).start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Me(n=e)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(e){return null==e?i:("array"===Me(e)?(i=e,a=e[1]-e[0]):(i=[e,e],a=0),s)},s.scale=function(){return x.scale(s)},s.hue(n),s},x.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(z(16*Math.random()));return new n(e)},p=[],B=function(e,t,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Me(e)&&(e=x(e)),"object"!==Me(t)&&(t=x(t)),a=0,o=p.length;a<o;a++)if(r===(i=p[a])[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},x.interpolate=B,n.prototype.interpolate=function(e,t,n){return B(this,e,t,n)},x.mix=B,n.prototype.mix=n.prototype.interpolate,h.rgb=function(){var e,t,n,r;for(e in n=[],t=Se(arguments))r=t[e],n.push(r);return n},x.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(e){var t;return t=Se(arguments),"array"===Me(t)&&3===t.length||4===t.length&&"number"===Me(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,j=function(e,t,r,i){var o,a;return o=e._rgb,a=t._rgb,new n(xe(re(o[0],2)*(1-r)+re(a[0],2)*r),xe(re(o[1],2)*(1-r)+re(a[1],2)*r),xe(re(o[2],2)*(1-r)+re(a[2],2)*r),i)},u=function(e){var t,r,i,o,a;for(t=1/e.length,a=[0,0,0,0],i=0,r=e.length;i<r;i++)o=e[i]._rgb,a[0]+=re(o[0],2)*t,a[1]+=re(o[1],2)*t,a[2]+=re(o[2],2)*t,a[3]+=o[3]*t;return a[0]=xe(a[0]),a[1]=xe(a[1]),a[2]=xe(a[2]),a[3]>1&&(a[3]=1),new n(k(a))},p.push(["lrgb",j]),x.average=function(e,t){var n,r,i,o,s,c,l,d,f,h,p,g,b;if(null==t&&(t="rgb"),f=e.length,l=(e=e.map((function(e){return x(e)}))).splice(0,1)[0],"lrgb"===t)return u(e);for(d in o=[],s=0,c=0,g=l.get(t))g[d]=g[d]||0,o.push(isNaN(g[d])?0:1),"h"!==t.charAt(d)||isNaN(g[d])||(n=g[d]/180*a,s+=S(n),c+=we(n));for(r=l.alpha(),p=0,h=e.length;p<h;p++)for(d in b=(i=e[p]).get(t),r+=i.alpha(),g)isNaN(b[d])||(o[d]+=1,"h"===t.charAt(d)?(n=b[d]/180*a,s+=S(n),c+=we(n)):g[d]+=b[d]);for(d in g)if("h"===t.charAt(d)){for(n=m(c/o[d],s/o[d])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;g[d]=n}else g[d]=g[d]/o[d];return x(g,t).alpha(r/f)},I=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,_e((255&n)/255*100)/100];if(null!=h.css&&(t=h.css(e)))return t;throw"unknown color: "+e},se=function(e,t){var n,r,i,o,a,s;return null==t&&(t="auto"),a=e[0],i=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),i=Math.round(i),r=Math.round(r),s=(s="000000"+(a<<16|i<<8|r).toString(16)).substr(s.length-6),o=(o="0"+_e(255*n).toString(16)).substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},h.hex=function(e){return I(e)},x.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="auto"),se(this._rgb,e)},d.push({p:4,test:function(e){if(1===arguments.length&&"string"===Me(e))return"hex"}}),N=function(){var e,t,n,r,i,o,a,s,c,l,u,d,f,h;if(i=(e=Se(arguments))[0],u=e[1],a=e[2],0===u)c=r=t=255*a;else{for(n=[0,0,0],d=2*a-(f=a<.5?a*(1+u):a+u-a*u),(h=[0,0,0])[0]=(i/=360)+1/3,h[1]=i,h[2]=i-1/3,o=s=0;s<=2;o=++s)h[o]<0&&(h[o]+=1),h[o]>1&&(h[o]-=1),6*h[o]<1?n[o]=d+6*(f-d)*h[o]:2*h[o]<1?n[o]=f:3*h[o]<2?n[o]=d+(f-d)*(2/3-h[o])*6:n[o]=d;c=(l=[_e(255*n[0]),_e(255*n[1]),_e(255*n[2])])[0],r=l[1],t=l[2]}return e.length>3?[c,r,t,e[3]]:[c,r,t]},le=function(e,t,n){var r,i,o,a,s;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),i=((J=Math.max(e,t,n))+o)/2,J===o?(s=0,r=Number.NaN):s=i<.5?(J-o)/(J+o):(J-o)/(2-J-o),e===J?r=(t-n)/(J-o):t===J?r=2+(n-e)/(J-o):n===J&&(r=4+(e-t)/(J-o)),(r*=60)<0&&(r+=360),[r,s,i]},x.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsl"]),(function(){}))},h.hsl=N,n.prototype.hsl=function(){return le(this._rgb)},O=function(){var e,t,n,r,i,o,a,s,c,l,u,d,f,h,p,g,m,b;if(i=(e=Se(arguments))[0],g=e[1],b=e[2],b*=255,0===g)c=r=t=b;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),a=b*(1-g),s=b*(1-g*(n=(i/=60)-(o=z(i)))),m=b*(1-g*(1-n)),o){case 0:c=(l=[b,m,a])[0],r=l[1],t=l[2];break;case 1:c=(u=[s,b,a])[0],r=u[1],t=u[2];break;case 2:c=(d=[a,b,m])[0],r=d[1],t=d[2];break;case 3:c=(f=[a,s,b])[0],r=f[1],t=f[2];break;case 4:c=(h=[m,a,b])[0],r=h[1],t=h[2];break;case 5:c=(p=[b,a,s])[0],r=p[1],t=p[2]}return[c,r,t,e.length>3?e[3]:1]},ue=function(){var e,t,n,r,i,o,a,s,c;return o=(a=Se(arguments))[0],n=a[1],e=a[2],i=Math.min(o,n,e),t=(J=Math.max(o,n,e))-i,c=J/255,0===J?(r=Number.NaN,s=0):(s=t/J,o===J&&(r=(n-e)/t),n===J&&(r=2+(e-o)/t),e===J&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,s,c]},x.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsv"]),(function(){}))},h.hsv=O,n.prototype.hsv=function(){return ue(this._rgb)},te=function(e){return"number"===Me(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=Se(arguments))[0]<<16)+(e[1]<<8)+e[2]},x.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},h.num=te,d.push({p:1,test:function(e){if(1===arguments.length&&"number"===Me(e)&&e>=0&&e<=16777215)return"num"}}),P=function(){var e,t,n,r,i,o,a,s,c,l,u,d,f,h,p,g,m,b,v,_;if(s=(n=Se(arguments))[0],i=n[1],t=n[2],a=a/100*255,e=255*(i/=100),0===i)d=a=r=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),u=(l=t*(1-i))+e*(1-(o=(s/=60)-(c=z(s)))),v=l+e*o,_=l+e,c){case 0:d=(f=[_,v,l])[0],a=f[1],r=f[2];break;case 1:d=(h=[u,_,l])[0],a=h[1],r=h[2];break;case 2:d=(p=[l,_,v])[0],a=p[1],r=p[2];break;case 3:d=(g=[l,u,_])[0],a=g[1],r=g[2];break;case 4:d=(m=[v,l,_])[0],a=m[1],r=m[2];break;case 5:d=(b=[_,l,u])[0],a=b[1],r=b[2]}return[d,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,i,o,a,s,c;return s=(c=Se(arguments))[0],i=c[1],t=c[2],a=Math.min(s,i,t),n=100*(r=(J=Math.max(s,i,t))-a)/255,e=a/(255-r)*100,0===r?o=Number.NaN:(s===J&&(o=(i-t)/r),i===J&&(o=2+(t-s)/r),t===J&&(o=4+(s-i)/r),(o*=60)<0&&(o+=360)),[o,n,e]},x.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hcg"]),(function(){}))},h.hcg=P,n.prototype.hcg=function(){return ae(this._rgb)},C=function(e){var t,n,r,i,o,a,s,c;if(e=e.toLowerCase(),null!=x.colors&&x.colors[e])return I(x.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=c=0;c<=3;i=++c)s[i]=+s[i];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=t=0;t<=2;i=++t)s[i]=_e(2.55*s[i]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=_e(2.55*s[i]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=N(r))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=N(r))[3]=+o[4]);return s},oe=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(_e).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(_e).join(",")+","+e[3]+")":void 0},ve=function(e){return _e(100*e)/100},L=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},h.css=function(e){return C(e)},x.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?L(this.hsl(),this.alpha()):void 0},h.named=function(e){return I(Ce[e])},d.push({p:5,test:function(e){if(1===arguments.length&&null!=Ce[e])return"named"}}),n.prototype.name=function(e){var t,n;for(n in arguments.length&&(Ce[e]&&(this._rgb=I(Ce[e])),this._rgb[3]=1),t=this.hex("rgb"),Ce)if(t===Ce[n])return n;return t},q=function(){var e,t,n,r;return n=(r=Se(arguments))[0],e=r[1],t=r[2],[n,S(t*=i)*e,we(t)*e]},Z=function(){var e,t,n,r,i,o,a,s,c;return a=(n=Se(arguments))[0],i=n[1],o=n[2],e=(s=q(a,i,o))[0],t=s[1],r=s[2],[(c=U(e,t,r))[0],c[1],r=c[2],n.length>3?n[3]:1]},W=function(){var e,t,n,r,i,o;return i=(o=Se(arguments))[0],e=o[1],t=o[2],n=xe(e*e+t*t),r=(m(t,e)*c+360)%360,0===_e(1e4*n)&&(r=Number.NaN),[i,n,r]},fe=function(){var e,t,n,r,i,o,a;return i=(o=Se(arguments))[0],n=o[1],t=o[2],r=(a=de(i,n,t))[0],e=a[1],t=a[2],W(r,e,t)},x.lch=function(){var e;return e=Se(arguments),new n(e,"lch")},x.hcl=function(){var e;return e=Se(arguments),new n(e,"hcl")},h.lch=Z,h.hcl=function(){var e,t,n,r;return t=(r=Se(arguments))[0],e=r[1],n=r[2],Z([n,e,t])},n.prototype.lch=function(){return fe(this._rgb)},n.prototype.hcl=function(){return fe(this._rgb).reverse()},ie=function(e){var t,n,r,i,o,a;return null==e&&(e="rgb"),o=(a=Se(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(o/=255)-(i=1-Math.max(o,Math.max(r,t))))*(n=i<1?1/(1-i):0),(1-r-i)*n,(1-t-i)*n,i]},M=function(){var e,t,n,r,i,o;return n=(t=Se(arguments))[0],i=t[1],o=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),i>=1?0:255*(1-i)*(1-r),o>=1?0:255*(1-o)*(1-r),e]},h.cmyk=function(){return M(Se(arguments))},x.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return ie(this._rgb)},h.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;for(t in n=[],e=Se(arguments))i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},x.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},he=function(e,t,n){var r;return e=(r=Se(arguments))[0],t=r[1],n=r[2],.2126*(e=K(e))+.7152*(t=K(t))+.0722*K(n)},K=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},H=function(e,t,r,i){var o,a;return o=e._rgb,a=t._rgb,new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},p.push(["rgb",H]),n.prototype.luminance=function(e,t){var n,r,i,o,a;return null==t&&(t="rgb"),arguments.length?(o=this._rgb,0===e?o=[0,0,0,this._rgb[3]]:1===e?o=[255,255,255,this[3]]:(n=he(this._rgb),r=1e-7,i=20,a=function(n,o){var s,c;return s=(c=n.interpolate(o,.5,t)).luminance(),Math.abs(e-s)<r||!i--?c:s>e?a(n,c):a(c,o)},o=n>e?a(x("black"),this).rgba():a(this,x("white")).rgba()),x(o).alpha(this.alpha())):he(this._rgb)},ke=function(e){var t,n,r,i;return(i=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*X(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*X(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*X(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*X(n),t=255),[r,n,t]},ge=function(){var e,t,n,r,i,o,a,s;for(i=(o=Se(arguments))[0],o[1],e=o[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=ke(s=.5*(n+r)))[2]/a[0]>=e/i?n=s:r=s;return _e(s)},x.temperature=x.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["temperature"]),(function(){}))},h.temperature=h.kelvin=h.K=ke,n.prototype.temperature=function(){return ge(this._rgb)},n.prototype.kelvin=n.prototype.temperature,x.contrast=function(e,t){var r,i,o,a;return"string"!==(o=Me(e))&&"number"!==o||(e=new n(e)),"string"!==(a=Me(t))&&"number"!==a||(t=new n(t)),(r=e.luminance())>(i=t.luminance())?(r+.05)/(i+.05):(i+.05)/(r+.05)},x.distance=function(e,t,r){var i,o,a,s,c,l,u;for(o in null==r&&(r="lab"),"string"!==(c=Me(e))&&"number"!==c||(e=new n(e)),"string"!==(l=Me(t))&&"number"!==l||(t=new n(t)),a=e.get(r),s=t.get(r),u=0,a)u+=(i=(a[o]||0)-(s[o]||0))*i;return Math.sqrt(u)},x.deltaE=function(e,t,r,i){var o,s,c,l,u,d,f,h,p,b,v,_,y,w,x,k,M,C,A,T,E,z,P,I;for(null==r&&(r=1),null==i&&(i=1),"string"!==(x=Me(e))&&"number"!==x||(e=new n(e)),"string"!==(k=Me(t))&&"number"!==k||(t=new n(t)),o=(M=e.lab())[0],c=M[1],u=M[2],s=(C=t.lab())[0],l=C[1],d=C[2],f=xe(c*c+u*u),h=xe(l*l+d*d),T=o<16?.511:.040975*o/(1+.01765*o),A=.0638*f/(1+.0131*f)+.638,w=f<1e-6?0:180*m(u,c)/a;w<0;)w+=360;for(;w>=360;)w-=360;return E=w>=164&&w<=345?.56+g(.2*S(a*(w+168)/180)):.36+g(.4*S(a*(w+35)/180)),y=xe((p=f*f*f*f)/(p+1900)),xe((z=(o-s)/(r*T))*z+(P=(_=f-h)/(i*A))*P+((b=c-l)*b+(v=u-d)*v-_*_)/((I=A*(y*E+1-y))*I))},n.prototype.get=function(e){var t,n,r,i,o;return r=(i=e.split("."))[0],t=i[1],o=this[r](),t?(n=r.indexOf(t))>-1?o[n]:console.warn("unknown channel "+t+" in mode "+r):o},n.prototype.set=function(e,t){var n,r,i,o,a;if(i=(o=e.split("."))[0],n=o[1])if(a=this[i](),(r=i.indexOf(n))>-1)if("string"===Me(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+i);else a=t;return x(a,i).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?x.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=o.Kn*e,x.lab(t).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*o.Kn,t[1]<0&&(t[1]=0),x.lch(t).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),x(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},A=function(e,t){return e>t?t:e},G=function(e,t){return e>t?e:t},ye=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},T=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(_=function(e){return function(t,n){var r,i;return r=x(n).rgb(),i=x(t).rgb(),x(e(r,i),"rgb")}})((E=function(e){return function(t,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=e(t[r],n[r]);return o}})((function(e,t){return e}))),v.multiply=_(E(ee)),v.screen=_(E(ye)),v.overlay=_(E(ne)),v.darken=_(E(A)),v.lighten=_(E(G)),v.dodge=_(E(T)),v.burn=_(E(w)),x.blend=v,x.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(i=e[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return x.limits(r,e,t)},r},x.scale=function(e,t){var n,r,i,o,a,s,c,l,u,d,f,h,p,g,m,b,v,_,y,w,k;return u="rgb",d=x("#ccc"),g=0,a=[0,1],p=[],h=[0,0],n=!1,i=[],f=!1,l=0,c=1,o=!1,r={},m=!0,s=1,w=function(e){var t,n,r,o,a,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Me(e)&&null!=x.brewer&&(e=x.brewer[e]||x.brewer[e.toLowerCase()]||e),"array"===Me(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,o=(e=e.slice(0)).length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n=e[t],"string"===Me(n)&&(e[t]=x(n));for(p.length=0,t=s=0,a=e.length-1;0<=a?s<=a:s>=a;t=0<=a?++s:--s)p.push(t/(e.length-1))}return y(),i=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},_=function(e,t){var o,a,f,g,b,_,y;if(null==t&&(t=!1),isNaN(e)||null===e)return d;if(y=t?e:n&&n.length>2?v(e)/(n.length-2):c!==l?(e-l)/(c-l):1,t||(y=k(y)),1!==s&&(y=re(y,s)),y=h[0]+y*(1-h[0]-h[1]),y=Math.min(1,Math.max(0,y)),f=Math.floor(1e4*y),m&&r[f])o=r[f];else{if("array"===Me(i))for(a=g=0,_=p.length-1;0<=_?g<=_:g>=_;a=0<=_?++g:--g){if(y<=(b=p[a])){o=i[a];break}if(y>=b&&a===p.length-1){o=i[a];break}if(y>b&&y<p[a+1]){y=(y-b)/(p[a+1]-b),o=x.interpolate(i[a],i[a+1],y,u);break}}else"function"===Me(i)&&(o=i(y));m&&(r[f]=o)}return o},y=function(){return r={}},w(e),(b=function(e){var t;return t=x(_(e)),f&&t[f]?t[f]():t}).classes=function(e){var t;return null!=e?("array"===Me(e)?(n=e,a=[e[0],e[e.length-1]]):(t=x.analyze(a),n=0===e?[t.min,t.max]:x.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,r,o,s,u,d;if(!arguments.length)return a;if(l=e[0],c=e[e.length-1],p=[],r=i.length,e.length===r&&l!==c)for(s=0,o=e.length;s<o;s++)n=e[s],p.push((n-l)/(c-l));else for(t=d=0,u=r-1;0<=u?d<=u:d>=u;t=0<=u?++d:--d)p.push(t/(r-1));return a=[l,c],b},b.mode=function(e){return arguments.length?(u=e,y(),b):u},b.range=function(e,t){return w(e),b},b.out=function(e){return f=e,b},b.spread=function(e){return arguments.length?(g=e,b):g},b.correctLightness=function(e){return null==e&&(e=!0),o=e,y(),k=o?function(e){var t,n,r,i,o,a,s,c;for(a=(t=_(0,!0).lab()[0])>(n=_(1,!0).lab()[0]),r=_(e,!0).lab()[0]-(i=t+(n-t)*e),s=0,c=1,o=20;Math.abs(r)>.01&&o-- >0;)a&&(r*=-1),r<0?(s=e,e+=.5*(c-e)):(c=e,e+=.5*(s-e)),r=_(e,!0).lab()[0]-i;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===Me(e)&&(e=[e,e]),h=e,b):h},b.colors=function(t,r){var o,s,c,l,u,d,f,h;if(arguments.length<2&&(r="hex"),u=[],0===arguments.length)u=i.slice(0);else if(1===t)u=[b(.5)];else if(t>1)s=a[0],o=a[1]-s,u=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map((function(e){return b(s+e/(t-1)*o)}));else{if(e=[],f=[],n&&n.length>2)for(c=h=1,l=n.length;1<=l?h<l:h>l;c=1<=l?++h:--h)f.push(.5*(n[c-1]+n[c]));else f=a;u=f.map((function(e){return b(e)}))}return x[r]&&(u=u.map((function(e){return e[r]()}))),u},b.cache=function(e){return null!=e?(m=e,b):m},b.gamma=function(e){return null!=e?(s=e,b):s},b.nodata=function(e){return null!=e?(d=x(e),b):d},b},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(e,t,n){var r,i,o,a,s,c;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},c=function(e,i){if(n(e,i))return null!=t&&"function"===Me(t)?r(t(e)):null!=t&&"string"===Me(t)||"number"===Me(t)?r(e[t]):r(e)},"array"===Me(e))for(a=0,o=e.length;a<o;a++)c(e[a]);else for(i in e)c(e[i],i);return s.domain=[s.min,s.max],s.limits=function(e,t){return x.limits(s,e,t)},s},x.limits=function(e,t,n){var r,i,o,a,s,c,l,u,d,f,h,p,m,b,v,_,y,w,k,M,S,C,A,T,E,P,I,D,L,N,O,B,V,R,j,F,H,W,U,Y,q,Z,G,$,K,Q,ee,te,ne,ie,oe,ae,se,ce,le;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Me(e)&&(e=x.analyze(e)),E=e.min,J=e.max,e.sum,ce=e.values.sort((function(e,t){return e-t})),1===n)return[E,J];if(A=[],"c"===t.substr(0,1)&&(A.push(E),A.push(J)),"e"===t.substr(0,1)){for(A.push(E),M=O=1,j=n-1;1<=j?O<=j:O>=j;M=1<=j?++O:--O)A.push(E+M/n*(J-E));A.push(J)}else if("l"===t.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*X(E),T=Math.LOG10E*X(J),A.push(E),M=le=1,F=n-1;1<=F?le<=F:le>=F;M=1<=F?++le:--le)A.push(re(10,P+M/n*(T-P)));A.push(J)}else if("q"===t.substr(0,1)){for(A.push(E),M=r=1,Z=n-1;1<=Z?r<=Z:r>=Z;M=1<=Z?++r:--r)B=(ce.length-1)*M/n,(V=z(B))===B?A.push(ce[V]):(R=B-V,A.push(ce[V]*(1-R)+ce[V+1]*R));A.push(J)}else if("k"===t.substr(0,1)){for(D=ce.length,b=new Array(D),w=new Array(n),ie=!0,L=0,_=null,(_=[]).push(E),M=i=1,G=n-1;1<=G?i<=G:i>=G;M=1<=G?++i:--i)_.push(E+M/n*(J-E));for(_.push(J);ie;){for(S=o=0,$=n-1;0<=$?o<=$:o>=$;S=0<=$?++o:--o)w[S]=0;for(M=a=0,K=D-1;0<=K?a<=K:a>=K;M=0<=K?++a:--a){for(se=ce[M],I=Number.MAX_VALUE,S=s=0,Q=n-1;0<=Q?s<=Q:s>=Q;S=0<=Q?++s:--s)(k=g(_[S]-se))<I&&(I=k,v=S);w[v]++,b[M]=v}for(N=new Array(n),S=c=0,ee=n-1;0<=ee?c<=ee:c>=ee;S=0<=ee?++c:--c)N[S]=null;for(M=l=0,te=D-1;0<=te?l<=te:l>=te;M=0<=te?++l:--l)null===N[y=b[M]]?N[y]=ce[M]:N[y]+=ce[M];for(S=u=0,ne=n-1;0<=ne?u<=ne:u>=ne;S=0<=ne?++u:--u)N[S]*=1/w[S];for(ie=!1,S=d=0,H=n-1;0<=H?d<=H:d>=H;S=0<=H?++d:--d)if(N[S]!==_[M]){ie=!0;break}_=N,++L>200&&(ie=!1)}for(C={},S=f=0,W=n-1;0<=W?f<=W:f>=W;S=0<=W?++f:--f)C[S]=[];for(M=h=0,U=D-1;0<=U?h<=U:h>=U;M=0<=U?++h:--h)C[y=b[M]].push(ce[M]);for(oe=[],S=p=0,Y=n-1;0<=Y?p<=Y:p>=Y;S=0<=Y?++p:--p)oe.push(C[S][0]),oe.push(C[S][C[S].length-1]);for(oe=oe.sort((function(e,t){return e-t})),A.push(oe[0]),M=m=1,q=oe.length-1;m<=q;M=m+=2)ae=oe[M],isNaN(ae)||-1!==A.indexOf(ae)||A.push(ae)}return A},D=function(e,t,n){var r,i,o,a;return e=(r=Se(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((i=(1-t)/3)+(a=(1+t*S(l*e)/S(s-l*e))/3)):e<2/3?i=1-((a=(1-t)/3)+(o=(1+t*S(l*(e-=1/3))/S(s-l*e))/3)):a=1-((o=(1-t)/3)+(i=(1+t*S(l*(e-=2/3))/S(s-l*e))/3)),[255*(a=$(n*a*3)),255*(o=$(n*o*3)),255*(i=$(n*i*3)),r.length>3?r[3]:1]},ce=function(){var e,t,n,r,i,o,a;return i=(o=Se(arguments))[0],t=o[1],e=o[2],l=2*Math.PI,i/=255,t/=255,e/=255,0==(a=1-Math.min(i,t,e)/(r=(i+t+e)/3))?n=0:(n=(i-t+(i-e))/2,n/=Math.sqrt((i-t)*(i-t)+(i-e)*(t-e)),n=Math.acos(n),e>t&&(n=l-n),n/=l),[360*n,a,r]},x.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsi"]),(function(){}))},h.hsi=D,n.prototype.hsi=function(){return ce(this._rgb)},V=function(e,t,n,r){var i,o,a,s,c,l,u,d,f,h;return"hsl"===r?(f=e.hsl(),h=t.hsl()):"hsv"===r?(f=e.hsv(),h=t.hsv()):"hcg"===r?(f=e.hcg(),h=t.hcg()):"hsi"===r?(f=e.hsi(),h=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",f=e.hcl(),h=t.hcl()),"h"===r.substr(0,1)&&(o=f[0],u=f[1],s=f[2],a=h[0],d=h[1],c=h[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?i=Number.NaN:(i=a,1!==s&&0!==s||"hsv"===r||(l=d)):(i=o,1!==c&&0!==c||"hsv"===r||(l=u)):i=o+n*(a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o),null==l&&(l=u+n*(d-u)),x[r](i,l,s+n*(c-s))},F=function(e,t,n,r){var i,o;return i=e.num(),o=t.num(),x.num(i+(o-i)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)Q=n[t],r.push([Q,V]);return r}())).push(["num",F]),R=function(e,t,r,i){var o,a;return o=e.lab(),a=t.lab(),new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},p.push(["lab",R])}.call(this)},7521:(e,t,n)=>{(t=e.exports=n(9252)(!1)).push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:200,400%7CMaterial+Icons%7COpen+Sans:300,400);",""]),t.push([e.id,'perspective-workspace{--open-settings-button--content: "expand_more";--close-settings-button--content: "expand_less";--close-button--content: "close";--settings--font-family: "Material Icons";--master-divider--background-color: #243136;--menu-maximize--content: "fullscreen";--menu-minimize--content: "fullscreen_exit";--menu-duplicate--content: "call_split";--menu-master--content: "cast";--menu-detail--content: "notes";--menu-export--content: "file_download";--menu-copy--content: "file_copy";--menu-reset--content: "autorenew";--menu-link--content: "link";--menu-unlink--content: "link_off"}perspective-viewer.workspace-detail-widget{font-family:"Open Sans";--preload-fonts: "Roboto Mono:200;Open Sans:300,400;Material Icons:400";--rt-pos-cell--color: #338dcd;--rt-neg-cell--color: #ff471e;--modal--class: light;--interface-monospace--font-family: "Roboto Mono";--inactive-column-selector--content: "\\E835";--active-column-selector--content: "\\E834";--plugin--background: #ffffff;--float--column-type--color: #2670a9;--string--column-type--color: #e32b16;--date--column-type--color: #24874b;--boolean--column-type--color: #ea7319;--settings-button--content: "more_vert";--button--font-family: "Material Icons";--overflow_hint--before: "error_outline";--overflow_hint--font-family: "Material Icons";--overflow_hint--color: rgba(0, 0, 0, .2);--overflow_hint--padding: 0 12px 0 6px;--row_pivots--before: "Group By";--column_pivots--before: "Split By";--sort-order-asc--before: "arrow_upward";--sort-order-desc--before: "arrow_downward";--sort-order-none--before: "remove";--close_button--before: "close";--sort-order-col-asc--before: "arrow_forward";--sort-order-col-desc--before: "arrow_back";--select--background-color: none;--select--padding: 0px;--column-drop-container--background: none;--column-drop-container--padding: 0px;--column-drop-container--margin: 24px 24px 0px 0px;--column-drop-label--margin: -12px 0px 0px 0px;--column-drop-label--font-size: 10px;--column-drop-label--display: inline-block;--column-container--margin: 18px 0px 0px 0px;--column-add--font-family: "Material Icons";--column-add--before: "add";--column-close--font-family: "Material Icons";--column-close--before: "close";--column-hide--before: "expand_more";--column_type--padding: 0px 0px 0px 0px;--column_type--width: 25px;--column-selector--font-family: "Material Icons";--active-column-selector--height: 45px;--column_selector--width: 31px;--column_selector--font-size: 16px;--side_panel--padding: 24px 16px 24px 17px;--settings-button--padding: 24px 17px 0px 17px;--button--font-size: 16px;--top_panel--padding: 12px 0px 24px 0px;--top-panel-row--display: inline-flex;--d3fc-treedata-axis--lines: none;--d3fc-y1-label--font-family: "Material Icons";--d3fc-y1-label--content: "arrow_upward";--d3fc-y2-label--font-family: "Material Icons";--d3fc-y2-label--content: "arrow_downward";--d3fc-tooltip--background--color: rgba(155, 155, 155, .8);--d3fc-tooltip--color: #161616;--d3fc-tooltip--border-color: #fff;--d3fc-tooltip--box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);--d3fc-gridline--color: #eaedef;--d3fc-axis--ticks: #161616;--d3fc-axis--lines: #c5c9d0;--d3fc-legend--background: rgba(255, 255, 255, .8);--d3fc-series: rgba(31, 119, 180, .5);--d3fc-series-1: #0366d6;--d3fc-series-2: #ff7f0e;--d3fc-series-3: #2ca02c;--d3fc-series-4: #d62728;--d3fc-series-5: #9467bd;--d3fc-series-6: #8c564b;--d3fc-series-7: #e377c2;--d3fc-series-8: #7f7f7f;--d3fc-series-9: #bcbd22;--d3fc-series-10: #17becf;--d3fc-full--gradient: linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--d3fc-positive--gradient: linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--d3fc-negative--gradient: linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%);--active--color: #2670a9;--side_panel--padding: 12px 0px 6px 8px;--top_panel--padding: 0px 0px 12px 0px;--column-drop-label--margin: -10px 0px 0px 0px;--settings-button--padding: 15px 8px 6px 8px;--column-drop-label--font-size: 8px;--column_selector--width: 24px;background-color:#f2f4f6}perspective-viewer.workspace-detail-widget regular-table::-webkit-scrollbar-thumb{background-color:#e0e4e9}perspective-viewer.workspace-detail-widget regular-table{-webkit-mask-image:linear-gradient(black,black),linear-gradient(to top,transparent 10%,black 90%),linear-gradient(to left,transparent 10%,black 90%);-webkit-mask-position:-12px -12px,bottom right,bottom right;-webkit-mask-size:100% 100%,12px 1000%,1000% 12px;-webkit-mask-repeat:no-repeat;transition:-webkit-mask-position .3s}perspective-viewer.workspace-detail-widget regular-table:hover{-webkit-mask-position:-12px -12px,top right,bottom left}perspective-viewer.workspace-master-widget{font-family:"Open Sans";--preload-fonts: "Roboto Mono:200;Open Sans:300,400;Material Icons:400";--rt-pos-cell--color: #338dcd;--rt-neg-cell--color: #ff471e;--modal--class: light;--interface-monospace--font-family: "Roboto Mono";--inactive-column-selector--content: "\\E835";--active-column-selector--content: "\\E834";--plugin--background: #ffffff;--float--column-type--color: #2670a9;--string--column-type--color: #e32b16;--date--column-type--color: #24874b;--boolean--column-type--color: #ea7319;--settings-button--content: "more_vert";--button--font-family: "Material Icons";--overflow_hint--before: "error_outline";--overflow_hint--font-family: "Material Icons";--overflow_hint--color: rgba(0, 0, 0, .2);--overflow_hint--padding: 0 12px 0 6px;--row_pivots--before: "Group By";--column_pivots--before: "Split By";--sort-order-asc--before: "arrow_upward";--sort-order-desc--before: "arrow_downward";--sort-order-none--before: "remove";--close_button--before: "close";--sort-order-col-asc--before: "arrow_forward";--sort-order-col-desc--before: "arrow_back";--select--background-color: none;--select--padding: 0px;--column-drop-container--background: none;--column-drop-container--padding: 0px;--column-drop-container--margin: 24px 24px 0px 0px;--column-drop-label--margin: -12px 0px 0px 0px;--column-drop-label--font-size: 10px;--column-drop-label--display: inline-block;--column-container--margin: 18px 0px 0px 0px;--column-add--font-family: "Material Icons";--column-add--before: "add";--column-close--font-family: "Material Icons";--column-close--before: "close";--column-hide--before: "expand_more";--column_type--padding: 0px 0px 0px 0px;--column_type--width: 25px;--column-selector--font-family: "Material Icons";--active-column-selector--height: 45px;--column_selector--width: 31px;--column_selector--font-size: 16px;--side_panel--padding: 24px 16px 24px 17px;--settings-button--padding: 24px 17px 0px 17px;--button--font-size: 16px;--top_panel--padding: 12px 0px 24px 0px;--top-panel-row--display: inline-flex;--d3fc-treedata-axis--lines: none;--d3fc-y1-label--font-family: "Material Icons";--d3fc-y1-label--content: "arrow_upward";--d3fc-y2-label--font-family: "Material Icons";--d3fc-y2-label--content: "arrow_downward";--d3fc-tooltip--background--color: rgba(155, 155, 155, .8);--d3fc-tooltip--color: #161616;--d3fc-tooltip--border-color: #fff;--d3fc-tooltip--box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);--d3fc-gridline--color: #eaedef;--d3fc-axis--ticks: #161616;--d3fc-axis--lines: #c5c9d0;--d3fc-legend--background: rgba(255, 255, 255, .8);--d3fc-series: rgba(31, 119, 180, .5);--d3fc-series-1: #0366d6;--d3fc-series-2: #ff7f0e;--d3fc-series-3: #2ca02c;--d3fc-series-4: #d62728;--d3fc-series-5: #9467bd;--d3fc-series-6: #8c564b;--d3fc-series-7: #e377c2;--d3fc-series-8: #7f7f7f;--d3fc-series-9: #bcbd22;--d3fc-series-10: #17becf;--d3fc-full--gradient: linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--d3fc-positive--gradient: linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--d3fc-negative--gradient: linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%);--active--color: #2670a9;--side_panel--padding: 12px 0px 6px 8px;--top_panel--padding: 0px 0px 12px 0px;--column-drop-label--margin: -10px 0px 0px 0px;--settings-button--padding: 15px 8px 6px 8px;--column-drop-label--font-size: 8px;--column_selector--width: 24px;background-color:#f2f4f6;--plugin--background: #f2f4f6}perspective-viewer.workspace-master-widget regular-table::-webkit-scrollbar-thumb{background-color:#e0e4e9}perspective-viewer.workspace-master-widget regular-table{-webkit-mask-image:linear-gradient(black,black),linear-gradient(to top,transparent 10%,black 90%),linear-gradient(to left,transparent 10%,black 90%);-webkit-mask-position:-12px -12px,bottom right,bottom right;-webkit-mask-size:100% 100%,12px 1000%,1000% 12px;-webkit-mask-repeat:no-repeat;transition:-webkit-mask-position .3s}perspective-viewer.workspace-master-widget regular-table:hover{-webkit-mask-position:-12px -12px,top right,bottom left}perspective-viewer.workspace-master-widget regular-table{--pv-divider--color: #e0e4e9 !important}perspective-viewer.workspace-master-widget regular-table td,perspective-viewer.workspace-master-widget regular-table th{border-color:#e0e4e9}perspective-column-style,perspective-expression-editor{background-color:#fff;color:#161616;border:1px solid #e0e4e9;--input--border-color: #e0e4e9;--active-color: #2670a9}.p-Menu{font-family:"Open Sans",Arial;font-weight:300;color:#161616}\n',""])},8802:(e,t,n)=>{(t=e.exports=n(9252)(!1)).push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:200,400%7CMaterial+Icons%7COpen+Sans:300,400);",""]),t.push([e.id,'perspective-workspace{--open-settings-button--content: "expand_more";--close-settings-button--content: "expand_less";--close-button--content: "close";--settings--font-family: "Material Icons";--master-divider--background-color: #243136;--menu-maximize--content: "fullscreen";--menu-minimize--content: "fullscreen_exit";--menu-duplicate--content: "call_split";--menu-master--content: "cast";--menu-detail--content: "notes";--menu-export--content: "file_download";--menu-copy--content: "file_copy";--menu-reset--content: "autorenew";--menu-link--content: "link";--menu-unlink--content: "link_off";background-color:#242526;color:#fff;--workspace-master--background-color: #242526;--workspace-tabbar--background-color: #2a2c2f;--workspace-tabbar--border: 1px solid #3b3f46;--workspace-tabbar--border-color: #3b3f46;--workspace-secondary--color: #c5c9d0}perspective-viewer.workspace-detail-widget{background-color:#f2f4f6;font-family:"Open Sans";--preload-fonts: "Roboto Mono:200;Open Sans:300,400;Material Icons:400";--rt-pos-cell--color: #338dcd;--rt-neg-cell--color: #ff471e;--modal--class: light;--interface-monospace--font-family: "Roboto Mono";--inactive-column-selector--content: "\\E835";--active-column-selector--content: "\\E834";--plugin--background: #ffffff;--float--column-type--color: #2670a9;--string--column-type--color: #e32b16;--date--column-type--color: #24874b;--boolean--column-type--color: #ea7319;--settings-button--content: "more_vert";--button--font-family: "Material Icons";--overflow_hint--before: "error_outline";--overflow_hint--font-family: "Material Icons";--overflow_hint--color: rgba(0, 0, 0, .2);--overflow_hint--padding: 0 12px 0 6px;--row_pivots--before: "Group By";--column_pivots--before: "Split By";--sort-order-asc--before: "arrow_upward";--sort-order-desc--before: "arrow_downward";--sort-order-none--before: "remove";--close_button--before: "close";--sort-order-col-asc--before: "arrow_forward";--sort-order-col-desc--before: "arrow_back";--select--background-color: none;--select--padding: 0px;--column-drop-container--background: none;--column-drop-container--padding: 0px;--column-drop-container--margin: 24px 24px 0px 0px;--column-drop-label--margin: -12px 0px 0px 0px;--column-drop-label--font-size: 10px;--column-drop-label--display: inline-block;--column-container--margin: 18px 0px 0px 0px;--column-add--font-family: "Material Icons";--column-add--before: "add";--column-close--font-family: "Material Icons";--column-close--before: "close";--column-hide--before: "expand_more";--column_type--padding: 0px 0px 0px 0px;--column_type--width: 25px;--column-selector--font-family: "Material Icons";--active-column-selector--height: 45px;--column_selector--width: 31px;--column_selector--font-size: 16px;--side_panel--padding: 24px 16px 24px 17px;--settings-button--padding: 24px 17px 0px 17px;--button--font-size: 16px;--top_panel--padding: 12px 0px 24px 0px;--top-panel-row--display: inline-flex;--d3fc-treedata-axis--lines: none;--d3fc-y1-label--font-family: "Material Icons";--d3fc-y1-label--content: "arrow_upward";--d3fc-y2-label--font-family: "Material Icons";--d3fc-y2-label--content: "arrow_downward";--d3fc-tooltip--background--color: rgba(155, 155, 155, .8);--d3fc-tooltip--color: #161616;--d3fc-tooltip--border-color: #fff;--d3fc-tooltip--box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);--d3fc-gridline--color: #eaedef;--d3fc-axis--ticks: #161616;--d3fc-axis--lines: #c5c9d0;--d3fc-legend--background: rgba(255, 255, 255, .8);--d3fc-series: rgba(31, 119, 180, .5);--d3fc-series-1: #0366d6;--d3fc-series-2: #ff7f0e;--d3fc-series-3: #2ca02c;--d3fc-series-4: #d62728;--d3fc-series-5: #9467bd;--d3fc-series-6: #8c564b;--d3fc-series-7: #e377c2;--d3fc-series-8: #7f7f7f;--d3fc-series-9: #bcbd22;--d3fc-series-10: #17becf;--d3fc-full--gradient: linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--d3fc-positive--gradient: linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--d3fc-negative--gradient: linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%);background-color:#242526;color:#fff;--plugin--background: #2a2c2f;--modal-target--background: #2a2c2f;--select--background-color: #242526;--inactive--color: #4c505b;--pv-divider--color: #4c505b;--active--background: rgba(39, 113, 170, .5);--active--color: #2770a9;--float--column-type--color: #7dc3f0;--string--column-type--color: #ff9485;--date--column-type--color: #70c77f;--boolean--column-type--color: #fec55e;--expression--operator-color: #c5c9d0;--expression--function-color: #22a0ce;--expression--error-color: #ff8888;--input-dragover--background: linear-gradient(to top, rgbs(38, 112, 169, .5), transparent 50%);--monaco-theme: vs-dark;--modal--class: dark;--calendar--filter: invert(1);--scrollbar--background-color: #3b3f46;--d3fc-legend--text: #c5c9d0;--d3fc-treedata--labels: white;--d3fc-treedata--hover-highlight: white;--d3fc-axis--ticks: #c5c9d0;--d3fc-axis--lines: #61656e;--d3fc-gridline--color: #3b3f46;--d3fc-tooltip--background: #2a2c2f;--d3fc-tooltip--color: white;--d3fc-tooltip--border-color: #242526;--d3fc-legend--background: rgba(42, 44, 47, .8);--d3fc-series: #4778c2;--d3fc-series-1: #4778c2;--d3fc-series-2: #cc7830;--d3fc-series-3: #9e54c0;--d3fc-series-4: #339699;--d3fc-series-5: #66728f;--d3fc-series-6: #d367bd;--d3fc-series-7: #6d7c4d;--d3fc-series-8: #dd6367;--d3fc-series-9: #7868ce;--d3fc-series-10: #17a67b;--d3fc-full--gradient: linear-gradient(#dd6367 0%, #242526 50%, #3289c8 100%);--d3fc-positive--gradient: linear-gradient(#242526 0%, #3289c8 100%);--d3fc-negative--gradient: linear-gradient(#dd6367 0%, #242526 100%);--warning--color: #333;--autocomplete-select-background: #555;--autocomplete-hover-background: #444;--side_panel--padding: 12px 0px 6px 8px;--top_panel--padding: 0px 0px 12px 0px;--column-drop-label--margin: -10px 0px 0px 0px;--settings-button--padding: 15px 8px 6px 8px;--column-drop-label--font-size: 8px;--column_selector--width: 24px}perspective-viewer.workspace-detail-widget regular-table::-webkit-scrollbar-thumb{background-color:#e0e4e9}perspective-viewer.workspace-detail-widget regular-table{-webkit-mask-image:linear-gradient(black,black),linear-gradient(to top,transparent 10%,black 90%),linear-gradient(to left,transparent 10%,black 90%);-webkit-mask-position:-12px -12px,bottom right,bottom right;-webkit-mask-size:100% 100%,12px 1000%,1000% 12px;-webkit-mask-repeat:no-repeat;transition:-webkit-mask-position .3s}perspective-viewer.workspace-detail-widget regular-table:hover{-webkit-mask-position:-12px -12px,top right,bottom left}perspective-viewer.workspace-detail-widget table{color:#fff}perspective-viewer.workspace-detail-widget table tr:hover{color:#fff}perspective-viewer.workspace-detail-widget regular-table{--rt-pos-cell--color: #7dc3f0;--rt-neg-cell--color: #ff9485}perspective-viewer.workspace-detail-widget regular-table table tbody tr td,perspective-viewer.workspace-detail-widget regular-table table tbody tr th{--rt-hover--border-color: #61656e;border-top-color:#3b3f46}perspective-viewer.workspace-detail-widget regular-table::-webkit-scrollbar-thumb{background-color:#3b3f46}perspective-viewer.workspace-detail-widget tbody th:empty{background:linear-gradient(to right,transparent 9px,#3b3f46 10px,transparent 11px);background-repeat:no-repeat;background-position:0px -10px}perspective-viewer.workspace-master-widget{background-color:#f2f4f6;font-family:"Open Sans";--preload-fonts: "Roboto Mono:200;Open Sans:300,400;Material Icons:400";--rt-pos-cell--color: #338dcd;--rt-neg-cell--color: #ff471e;--modal--class: light;--interface-monospace--font-family: "Roboto Mono";--inactive-column-selector--content: "\\E835";--active-column-selector--content: "\\E834";--plugin--background: #ffffff;--float--column-type--color: #2670a9;--string--column-type--color: #e32b16;--date--column-type--color: #24874b;--boolean--column-type--color: #ea7319;--settings-button--content: "more_vert";--button--font-family: "Material Icons";--overflow_hint--before: "error_outline";--overflow_hint--font-family: "Material Icons";--overflow_hint--color: rgba(0, 0, 0, .2);--overflow_hint--padding: 0 12px 0 6px;--row_pivots--before: "Group By";--column_pivots--before: "Split By";--sort-order-asc--before: "arrow_upward";--sort-order-desc--before: "arrow_downward";--sort-order-none--before: "remove";--close_button--before: "close";--sort-order-col-asc--before: "arrow_forward";--sort-order-col-desc--before: "arrow_back";--select--background-color: none;--select--padding: 0px;--column-drop-container--background: none;--column-drop-container--padding: 0px;--column-drop-container--margin: 24px 24px 0px 0px;--column-drop-label--margin: -12px 0px 0px 0px;--column-drop-label--font-size: 10px;--column-drop-label--display: inline-block;--column-container--margin: 18px 0px 0px 0px;--column-add--font-family: "Material Icons";--column-add--before: "add";--column-close--font-family: "Material Icons";--column-close--before: "close";--column-hide--before: "expand_more";--column_type--padding: 0px 0px 0px 0px;--column_type--width: 25px;--column-selector--font-family: "Material Icons";--active-column-selector--height: 45px;--column_selector--width: 31px;--column_selector--font-size: 16px;--side_panel--padding: 24px 16px 24px 17px;--settings-button--padding: 24px 17px 0px 17px;--button--font-size: 16px;--top_panel--padding: 12px 0px 24px 0px;--top-panel-row--display: inline-flex;--d3fc-treedata-axis--lines: none;--d3fc-y1-label--font-family: "Material Icons";--d3fc-y1-label--content: "arrow_upward";--d3fc-y2-label--font-family: "Material Icons";--d3fc-y2-label--content: "arrow_downward";--d3fc-tooltip--background--color: rgba(155, 155, 155, .8);--d3fc-tooltip--color: #161616;--d3fc-tooltip--border-color: #fff;--d3fc-tooltip--box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);--d3fc-gridline--color: #eaedef;--d3fc-axis--ticks: #161616;--d3fc-axis--lines: #c5c9d0;--d3fc-legend--background: rgba(255, 255, 255, .8);--d3fc-series: rgba(31, 119, 180, .5);--d3fc-series-1: #0366d6;--d3fc-series-2: #ff7f0e;--d3fc-series-3: #2ca02c;--d3fc-series-4: #d62728;--d3fc-series-5: #9467bd;--d3fc-series-6: #8c564b;--d3fc-series-7: #e377c2;--d3fc-series-8: #7f7f7f;--d3fc-series-9: #bcbd22;--d3fc-series-10: #17becf;--d3fc-full--gradient: linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--d3fc-positive--gradient: linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--d3fc-negative--gradient: linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%);background-color:#242526;color:#fff;--plugin--background: #2a2c2f;--modal-target--background: #2a2c2f;--select--background-color: #242526;--inactive--color: #4c505b;--pv-divider--color: #4c505b;--active--background: rgba(39, 113, 170, .5);--active--color: #2770a9;--float--column-type--color: #7dc3f0;--string--column-type--color: #ff9485;--date--column-type--color: #70c77f;--boolean--column-type--color: #fec55e;--expression--operator-color: #c5c9d0;--expression--function-color: #22a0ce;--expression--error-color: #ff8888;--input-dragover--background: linear-gradient(to top, rgbs(38, 112, 169, .5), transparent 50%);--monaco-theme: vs-dark;--modal--class: dark;--calendar--filter: invert(1);--scrollbar--background-color: #3b3f46;--d3fc-legend--text: #c5c9d0;--d3fc-treedata--labels: white;--d3fc-treedata--hover-highlight: white;--d3fc-axis--ticks: #c5c9d0;--d3fc-axis--lines: #61656e;--d3fc-gridline--color: #3b3f46;--d3fc-tooltip--background: #2a2c2f;--d3fc-tooltip--color: white;--d3fc-tooltip--border-color: #242526;--d3fc-legend--background: rgba(42, 44, 47, .8);--d3fc-series: #4778c2;--d3fc-series-1: #4778c2;--d3fc-series-2: #cc7830;--d3fc-series-3: #9e54c0;--d3fc-series-4: #339699;--d3fc-series-5: #66728f;--d3fc-series-6: #d367bd;--d3fc-series-7: #6d7c4d;--d3fc-series-8: #dd6367;--d3fc-series-9: #7868ce;--d3fc-series-10: #17a67b;--d3fc-full--gradient: linear-gradient(#dd6367 0%, #242526 50%, #3289c8 100%);--d3fc-positive--gradient: linear-gradient(#242526 0%, #3289c8 100%);--d3fc-negative--gradient: linear-gradient(#dd6367 0%, #242526 100%);--warning--color: #333;--autocomplete-select-background: #555;--autocomplete-hover-background: #444;--side_panel--padding: 12px 0px 6px 8px;--top_panel--padding: 0px 0px 12px 0px;--column-drop-label--margin: -10px 0px 0px 0px;--settings-button--padding: 15px 8px 6px 8px;--column-drop-label--font-size: 8px;--column_selector--width: 24px;--plugin--background: #242526}perspective-viewer.workspace-master-widget regular-table::-webkit-scrollbar-thumb{background-color:#e0e4e9}perspective-viewer.workspace-master-widget regular-table{-webkit-mask-image:linear-gradient(black,black),linear-gradient(to top,transparent 10%,black 90%),linear-gradient(to left,transparent 10%,black 90%);-webkit-mask-position:-12px -12px,bottom right,bottom right;-webkit-mask-size:100% 100%,12px 1000%,1000% 12px;-webkit-mask-repeat:no-repeat;transition:-webkit-mask-position .3s}perspective-viewer.workspace-master-widget regular-table:hover{-webkit-mask-position:-12px -12px,top right,bottom left}perspective-viewer.workspace-master-widget table{color:#fff}perspective-viewer.workspace-master-widget table tr:hover{color:#fff}perspective-viewer.workspace-master-widget regular-table{--rt-pos-cell--color: #7dc3f0;--rt-neg-cell--color: #ff9485}perspective-viewer.workspace-master-widget regular-table table tbody tr td,perspective-viewer.workspace-master-widget regular-table table tbody tr th{--rt-hover--border-color: #61656e;border-top-color:#3b3f46}perspective-viewer.workspace-master-widget regular-table::-webkit-scrollbar-thumb{background-color:#3b3f46}perspective-viewer.workspace-master-widget tbody th:empty{background:linear-gradient(to right,transparent 9px,#3b3f46 10px,transparent 11px);background-repeat:no-repeat;background-position:0px -10px}perspective-column-style,perspective-expression-editor{background-color:#2a2c2f;color:#fff;border:1px solid #3b3f46;--input--border-color: #3b3f46;--active-color: #2770a9;--inactive-color: #3b3f46}.p-Menu{font-family:"Open Sans"!important;font-weight:300!important;background:#2a2c2f!important;color:#fff!important;border:1px solid #3b3f46!important;box-shadow:0 2px 4px #0000001a!important}\n',""])},6549:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\n.dark button {\n    background-color: inherit;\n    color: white;\n    border: 1px solid rgba(255,255,255,0.2);\n}\n\n.dark #buttons {\n    background-color: #242526;\n}\n",""])},2805:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\nperspective-workspace { \n    position: absolute; \n    top: 0; \n    left: 0; \n    right: 0; \n    bottom: 0; \n}\n\n#buttons > * {\n    padding: 6px;\n    margin: 5px;\n}\n\nbutton {\n    background-color: inherit;\n    cursor: pointer;\n}\n\nbutton:hover {\n    border: 1px solid #00f !important;\n}\n\nbody {\n    overflow: hidden;\n}\n\n#message {\n    font-family: monospace;\n}\n\n#buttons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 36px;\n}\n\n#workspace {\n    height: auto;\n    position: absolute;\n    top: 36px;\n    right: 0;\n    bottom: 0;\n    left: 0;\n}\n\na {\n    text-transform: uppercase;\n    font-size: 10px;\n}\n",""])},3146:(e,t,n)=>{(e.exports=n(9252)(!1)).push([e.id,"\nbutton {\n    background-color: inherit;\n    border: 1px solid rgba(0,0,0,0.5);\n}\n\n#buttons {\n    background-color: #e1e6ea;\n}\n",""])},9252:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8407:(e,t,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),c=n(4309);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},7412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7443:(e,t,n)=>{var r=n(2118);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},4636:(e,t,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),c=n(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&c(e),h=n||u||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!l.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4865:(e,t,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4037:(e,t,n)=>{var r=n(8363),i=n(3674);e.exports=function(e,t){return e&&r(t,i(t),e)}},3886:(e,t,n)=>{var r=n(8363),i=n(1704);e.exports=function(e,t){return e&&r(t,i(t),e)}},9465:(e,t,n)=>{var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:(e,t,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),c=n(4626),l=n(278),u=n(8805),d=n(1911),f=n(8234),h=n(6904),p=n(4160),g=n(3824),m=n(9148),b=n(8517),v=n(1469),_=n(4144),y=n(6688),w=n(3218),x=n(2928),k=n(3674),M=n(1704),S="[object Arguments]",C="[object Function]",A="[object Object]",T={};T[S]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[A]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[C]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,E,z,P,I){var D,L=1&n,N=2&n,O=4&n;if(E&&(D=P?E(t,z,P,I):E(t)),void 0!==D)return D;if(!w(t))return t;var B=v(t);if(B){if(D=g(t),!L)return l(t,D)}else{var V=p(t),R=V==C||"[object GeneratorFunction]"==V;if(_(t))return c(t,L);if(V==A||V==S||R&&!P){if(D=N||R?{}:b(t),!L)return N?d(t,s(D,t)):u(t,a(D,t))}else{if(!T[V])return P?t:{};D=m(t,V,L)}}I||(I=new r);var j=I.get(t);if(j)return j;I.set(t,D),x(t)?t.forEach((function(r){D.add(e(r,n,E,r,t,I))})):y(t)&&t.forEach((function(r,i){D.set(i,e(r,n,E,i,t,I))}));var F=B?void 0:(O?N?h:f:N?M:k)(t);return i(F||t,(function(r,i){F&&(r=t[i=r]),o(D,i,e(r,n,E,i,t,I))})),D}},3118:(e,t,n)=>{var r=n(3218),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1848:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},7786:(e,t,n)=>{var r=n(1811),i=n(327);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},8866:(e,t,n)=>{var r=n(2488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4239:(e,t,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:(e,t,n)=>{var r=n(1848),i=n(2722),o=n(2351);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},9454:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),i=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),c=n(1469),l=n(4144),u=n(6719),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,b){var v=c(e),_=c(t),y=v?f:s(e),w=_?f:s(t),x=(y=y==d?h:y)==h,k=(w=w==d?h:w)==h,M=y==w;if(M&&l(e)){if(!l(t))return!1;v=!0,x=!1}if(M&&!x)return b||(b=new r),v||u(e)?i(e,t,n,g,m,b):o(e,t,y,n,g,m,b);if(!(1&n)){var S=x&&p.call(e,"__wrapped__"),C=k&&p.call(t,"__wrapped__");if(S||C){var A=S?e.value():e,T=C?t.value():t;return b||(b=new r),m(A,T,n,g,b)}}return!!M&&(b||(b=new r),a(e,t,n,g,m,b))}},5588:(e,t,n)=>{var r=n(4160),i=n(7005);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},2958:(e,t,n)=>{var r=n(6384),i=n(939);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],f=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(o)var p=o(d,f,u,e,t,h);if(!(void 0===p?i(f,d,3,o,h):p))return!1}}return!0}},2722:e=>{e.exports=function(e){return e!=e}},8458:(e,t,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},9221:(e,t,n)=>{var r=n(4160),i=n(7005);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},8749:(e,t,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},7206:(e,t,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},280:(e,t,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:(e,t,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},1573:(e,t,n)=>{var r=n(2958),i=n(1499),o=n(2634);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6432:(e,t,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),c=n(2634),l=n(327);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,n)=>{var r=n(7786);e.exports=function(e){return function(t){return r(t,e)}}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},531:(e,t,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:(e,t,n)=>{var r=n(7990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},5652:(e,t,n)=>{var r=n(8668),i=n(7443),o=n(1196),a=n(4757),s=n(3593),c=n(1814);e.exports=function(e,t,n){var l=-1,u=i,d=e.length,f=!0,h=[],p=h;if(n)f=!1,u=o;else if(d>=200){var g=t?null:s(e);if(g)return c(g);f=!1,u=a,p=new r}else p=t?[]:h;e:for(;++l<d;){var m=e[l],b=t?t(m):m;if(m=n||0!==m?m:0,f&&b==b){for(var v=p.length;v--;)if(p[v]===b)continue e;t&&p.push(b),h.push(m)}else u(p,b,n)||(p!==h&&p.push(b),h.push(m))}return h}},4757:e=>{e.exports=function(e,t){return e.has(t)}},1811:(e,t,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},4318:(e,t,n)=>{var r=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7157:(e,t,n)=>{var r=n(4318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:(e,t,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},7133:(e,t,n)=>{var r=n(4318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},8363:(e,t,n)=>{var r=n(4865),i=n(9465);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?i(n,l,u):r(n,l,u)}return n}},8805:(e,t,n)=>{var r=n(8363),i=n(9551);e.exports=function(e,t){return r(e,i(e),t)}},1911:(e,t,n)=>{var r=n(8363),i=n(1442);e.exports=function(e,t){return r(e,i(e),t)}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},3593:(e,t,n)=>{var r=n(8525),i=n(308),o=n(1814),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8777:(e,t,n)=>{var r=n(852),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},7114:(e,t,n)=>{var r=n(8668),i=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var b=e[p],v=t[p];if(a)var _=l?a(v,b,p,t,e,c):a(b,v,p,e,t,c);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(b===e||s(b,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(b!==v&&!s(b,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},8351:(e,t,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),c=n(1814),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,l,d,f);return f.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var f=l[d];if(!(c?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<u;){var b=e[f=l[d]],v=t[f];if(o)var _=c?o(v,b,f,t,e,s):o(b,v,f,e,t,s);if(!(void 0===_?b===v||a(b,v,n,o,s):_)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),i=n(9551),o=n(3674);e.exports=function(e){return r(e,o,i)}},6904:(e,t,n)=>{var r=n(8866),i=n(1442),o=n(1704);e.exports=function(e){return r(e,o,i)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var r=n(9162),i=n(3674);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},852:(e,t,n)=>{var r=n(8458),i=n(7801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},9607:(e,t,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9551:(e,t,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},1442:(e,t,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},4160:(e,t,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),c=n(4239),l=n(346),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),b=l(o),v=l(a),_=l(s),y=c;(r&&y(new r(new ArrayBuffer(1)))!=p||i&&y(new i)!=u||o&&y(o.resolve())!=d||a&&y(new a)!=f||s&&y(new s)!=h)&&(y=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return u;case b:return d;case v:return f;case _:return h}return t}),e.exports=y},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),c=n(327);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var f=c(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(f,u)&&(o(e)||i(e))}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},9148:(e,t,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},8517:(e,t,n)=>{var r=n(3118),i=n(5924),o=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:(e,t,n)=>{var r=n(3218);e.exports=function(e){return e==e&&!r(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),i=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},2634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),i=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},2351:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},5514:(e,t,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},361:(e,t,n)=>{var r=n(5990);e.exports=function(e){return r(e,5)}},3279:(e,t,n)=>{var r=n(3218),i=n(7771),o=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,f,h,p=0,g=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,p=t,d=e.apply(r,n)}function _(e){return p=e,f=setTimeout(w,t),g?v(e):d}function y(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=u}function w(){var e=i();if(y(e))return x(e);f=setTimeout(w,function(e){var n=t-(e-h);return m?s(n,u-(e-p)):n}(e))}function x(e){return f=void 0,b&&c?v(e):(c=l=void 0,d)}function k(){var e=i(),n=y(e);if(c=arguments,l=this,h=e,n){if(void 0===f)return _(h);if(m)return clearTimeout(f),f=setTimeout(w,t),v(h)}return void 0===f&&(f=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,u=(m="maxWait"in n)?a(o(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),k.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},k.flush=function(){return void 0===f?d:x(i())},k}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},9095:(e,t,n)=>{var r=n(13),i=n(222);e.exports=function(e,t){return null!=e&&i(e,t,r)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},3560:(e,t,n)=>{var r=n(4239),i=n(3218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;e.exports=s},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2928:(e,t,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;e.exports=s},3448:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},6719:(e,t,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),i=n(280),o=n(8612);e.exports=function(e){return o(e)?r(e):i(e)}},1704:(e,t,n)=>{var r=n(4636),i=n(313),o=n(8612);e.exports=function(e){return o(e)?r(e,!0):i(e)}},8306:(e,t,n)=>{var r=n(3369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var r=n(5639);e.exports=function(){return r.Date.now()}},9601:(e,t,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);e.exports=function(e){return o(e)?r(a(e)):i(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},4841:(e,t,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},5578:(e,t,n)=>{var r=n(7206),i=n(5652);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},2245:()=>{const e=document.createElement("style");e.textContent="\n.dnd-poly-drag-image {\n    opacity: .5 !important;\n}\n.dnd-poly-drag-image.dnd-poly-snapback {\n    transition-property: transform, -webkit-transform !important;\n    transition-duration: 250ms !important;\n    transition-timing-function: ease-out !important;\n}\n",document.head.appendChild(e);const t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],i=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function o(e){return e&&e.tagName}function a(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!i&&{passive:n})}function s(e,t){document.removeEventListener(e,t)}function c(e,t,n,r){void 0===r&&(r=!1);const o=i?{passive:!0,capture:r}:r;return e.addEventListener(t,n,o),{off:function(){e.removeEventListener(t,n,o)}}}function l(e,t){if(1===e.nodeType){const n=getComputedStyle(e);for(let e=0;e<n.length;e++){const r=n[e];t.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))}if(t.style.pointerEvents="none",t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("draggable"),"CANVAS"===t.nodeName){const n=e,r=t,i=n.getContext("2d").getImageData(0,0,n.width,n.height);r.getContext("2d").putImageData(i,0,0)}}if(e.hasChildNodes())for(let n=0;n<e.childNodes.length;n++)l(e.childNodes[n],t.childNodes[n])}function u(e){return 0===e.length?0:e.reduce((function(e,t){return t+e}),0)/e.length}function d(e,t){for(let n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function f(e,t,n){const r=[],i=[];for(let n=0;n<t.touches.length;n++){const o=t.touches[n];r.push(o[e+"X"]),i.push(o[e+"Y"])}n.x=u(r),n.y=u(i)}const h=["","-webkit-"];function p(e,t,n,r,i){void 0===i&&(i=!0);let o=t.x,a=t.y;r&&(o+=r.x,a+=r.y),i&&(o-=parseInt(e.offsetWidth,10)/2,a-=parseInt(e.offsetHeight,10)/2);const s="translate3d("+o+"px,"+a+"px, 0)";for(let t=0;t<h.length;t++){const r=h[t]+"transform";e.style[r]=s+" "+n[t]}}const g=function(){function e(e,t){this._dataStore=e,this._setDragImageHandler=t,this._dropEffect=r[0]}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){0!==this._dataStore.mode&&n.indexOf(e)>-1&&(this._dropEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){if(0!==this._dataStore.mode)return Object.freeze(this._dataStore.types)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._dataStore.effectAllowed},set:function(e){2===this._dataStore.mode&&n.indexOf(e)>-1&&(this._dataStore.effectAllowed=e)},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){if(2===this._dataStore.mode){if(e.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this._dataStore.data[e]=t,-1===this._dataStore.types.indexOf(e)&&this._dataStore.types.push(e)}},e.prototype.getData=function(e){if(1===this._dataStore.mode||2===this._dataStore.mode)return this._dataStore.data[e]||""},e.prototype.clearData=function(e){if(2===this._dataStore.mode){if(e&&this._dataStore.data[e]){delete this._dataStore.data[e];const t=this._dataStore.types.indexOf(e);return void(t>-1&&this._dataStore.types.splice(t,1))}this._dataStore.data={},this._dataStore.types=[]}},e.prototype.setDragImage=function(e,t,n){2===this._dataStore.mode&&this._setDragImageHandler(e,t,n)},e}();function m(e,t){return e?e===n[0]?r[0]:0===e.indexOf(n[1])||e===n[7]?r[1]:0===e.indexOf(n[4])?r[3]:e===n[6]?r[2]:r[1]:3===t.nodeType&&"A"===t.tagName?r[3]:r[1]}function b(e,t,n,r,i,o,a){void 0===o&&(o=!0),void 0===a&&(a=null),console.log("dnd-poly: dispatching "+e);const s=function(e,t,n,r,i,o,a){void 0===a&&(a=null);const s=t.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=o,c.relatedTarget=a,c.screenX=s.screenX,c.screenY=s.screenY,c.clientX=s.clientX,c.clientY=s.clientY,c.pageX=s.pageX,c.pageY=s.pageY;const l=e.getBoundingClientRect();return c.offsetX=c.clientX-l.left,c.offsetY=c.clientY-l.top,c}(t,n,e,o,document.defaultView,i,a),c=!t.dispatchEvent(s);return r.mode=0,c}function v(e,t){if(!e||e===n[7])return t;if(t===r[1]){if(0===e.indexOf(r[1]))return r[1]}else if(t===r[3]){if(0===e.indexOf(r[3])||e.indexOf("Link")>-1)return r[3]}else if(t===r[2]&&(0===e.indexOf(r[2])||e.indexOf("Move")>-1))return r[2];return r[0]}const _=function(){function e(e,t,n,r){this._initialEvent=e,this._config=t,this._sourceNode=n,this._dragOperationEndedCb=r,this._dragOperationState=0,this._immediateUserSelection=null,this._currentDropTarget=null,console.log("dnd-poly: setting up potential drag operation.."),this._lastTouchEvent=e,this._initialTouch=e.changedTouches[0],this._touchMoveHandler=this._onTouchMove.bind(this),this._touchEndOrCancelHandler=this._onTouchEndOrCancel.bind(this),a("touchmove",this._touchMoveHandler,!1),a("touchend",this._touchEndOrCancelHandler,!1),a("touchcancel",this._touchEndOrCancelHandler,!1)}return e.prototype._setup=function(){const e=this;console.log("dnd-poly: starting drag and drop operation"),this._dragOperationState=1,this._currentDragOperation=r[0],this._dragDataStore={data:{},effectAllowed:void 0,mode:3,types:[]},this._currentHotspotCoordinates={x:null,y:null},this._dragImagePageCoordinates={x:null,y:null};let t=this._sourceNode;if(this._dataTransfer=new g(this._dragDataStore,(function(n,r,i){t=n,"number"!=typeof r&&"number"!=typeof i||(e._dragImageOffset={x:r||0,y:i||0})})),this._dragDataStore.mode=2,this._dataTransfer.dropEffect=r[0],b("dragstart",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer))return console.log("dnd-poly: dragstart cancelled"),this._dragOperationState=3,this._cleanup(),!1;f("page",this._lastTouchEvent,this._dragImagePageCoordinates);const n=this._config.dragImageSetup(t);var i;if(this._dragImageTransforms=(i=n,h.map((function(e){const t=i.style[e+"transform"];return t&&"none"!==t?t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._dragImage=n,!this._dragImageOffset)if(this._config.dragImageOffset)this._dragImageOffset={x:this._config.dragImageOffset.x,y:this._config.dragImageOffset.y};else if(this._config.dragImageCenterOnTouch){const e=getComputedStyle(t);this._dragImageOffset={x:0-parseInt(e.marginLeft,10),y:0-parseInt(e.marginTop,10)}}else{const e=t.getBoundingClientRect(),n=getComputedStyle(t);this._dragImageOffset={x:e.left-this._initialTouch.clientX-parseInt(n.marginLeft,10)+e.width/2,y:e.top-this._initialTouch.clientY-parseInt(n.marginTop,10)+e.height/2}}return p(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch),document.body.appendChild(this._dragImage),this._iterationIntervalId=window.setInterval((function(){e._iterationLock?console.log("dnd-poly: iteration skipped because previous iteration hast not yet finished."):(e._iterationLock=!0,e._dragAndDropProcessModelIteration(),e._iterationLock=!1)}),this._config.iterationInterval),!0},e.prototype._cleanup=function(){console.log("dnd-poly: cleanup"),this._iterationIntervalId&&(clearInterval(this._iterationIntervalId),this._iterationIntervalId=null),s("touchmove",this._touchMoveHandler),s("touchend",this._touchEndOrCancelHandler),s("touchcancel",this._touchEndOrCancelHandler),this._dragImage&&(this._dragImage.parentNode.removeChild(this._dragImage),this._dragImage=null),this._dragOperationEndedCb(this._config,this._lastTouchEvent,this._dragOperationState)},e.prototype._onTouchMove=function(e){const t=this;if(!1!==d(e,this._initialTouch.identifier)){if(this._lastTouchEvent=e,0===this._dragOperationState){let t;if(this._config.dragStartConditionOverride)try{t=this._config.dragStartConditionOverride(e)}catch(e){console.error("dnd-poly: error in dragStartConditionOverride hook: "+e),t=!1}else t=1===e.touches.length;return t?void(!0===this._setup()&&(this._initialEvent.preventDefault(),e.preventDefault())):void this._cleanup()}if(console.log("dnd-poly: moving draggable.."),e.preventDefault(),f("client",e,this._currentHotspotCoordinates),f("page",e,this._dragImagePageCoordinates),this._config.dragImageTranslateOverride)try{let n=!1;if(this._config.dragImageTranslateOverride(e,{x:this._currentHotspotCoordinates.x,y:this._currentHotspotCoordinates.y},this._immediateUserSelection,(function(e,r){t._dragImage&&(n=!0,t._currentHotspotCoordinates.x+=e,t._currentHotspotCoordinates.y+=r,t._dragImagePageCoordinates.x+=e,t._dragImagePageCoordinates.y+=r,p(t._dragImage,t._dragImagePageCoordinates,t._dragImageTransforms,t._dragImageOffset,t._config.dragImageCenterOnTouch))})),n)return}catch(e){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+e)}p(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch)}},e.prototype._onTouchEndOrCancel=function(e){if(!1!==d(e,this._initialTouch.identifier)){if(this._config.dragImageTranslateOverride)try{this._config.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(e){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+e)}0!==this._dragOperationState?(e.preventDefault(),this._dragOperationState="touchcancel"===e.type?3:2):this._cleanup()}},e.prototype._dragAndDropProcessModelIteration=function(){const e=this,n=this._currentDragOperation;this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0];const i=b("drag",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer);if(i&&(console.log("dnd-poly: drag event cancelled."),this._currentDragOperation=r[0]),i||2===this._dragOperationState||3===this._dragOperationState)return this._dragOperationEnded(this._dragOperationState)?void function(e,t,n,r){const i=getComputedStyle(e);if("hidden"===i.visibility||"none"===i.display)return console.log("dnd-poly: source node is not visible. skipping snapback transition."),void r();t.classList.add("dnd-poly-snapback");const o=getComputedStyle(t),a=parseFloat(o.transitionDuration);if(isNaN(a)||0===a)return console.log("dnd-poly: no transition used - skipping snapback"),void r();console.log("dnd-poly: starting dragimage snap back");const s=e.getBoundingClientRect(),c={x:s.left,y:s.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(i.marginLeft,10),c.y-=parseInt(i.marginTop,10);const l=parseFloat(o.transitionDelay),u=Math.round(1e3*(a+l));p(t,c,n,void 0,!1),setTimeout(r,u)}(this._sourceNode,this._dragImage,this._dragImageTransforms,(function(){e._finishDragOperation()})):void this._finishDragOperation();const a=this._config.elementFromPoint(this._currentHotspotCoordinates.x,this._currentHotspotCoordinates.y);console.log("dnd-poly: new immediate user selection is: "+a);const s=this._currentDropTarget;a!==this._immediateUserSelection&&a!==this._currentDropTarget&&(this._immediateUserSelection=a,null!==this._currentDropTarget&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragexit",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)),null===this._immediateUserSelection?(this._currentDropTarget=this._immediateUserSelection,console.log("dnd-poly: current drop target changed to null")):(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=m(this._dragDataStore.effectAllowed,this._sourceNode),b("dragenter",this._immediateUserSelection,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragenter default prevented"),this._currentDropTarget=this._immediateUserSelection,this._currentDragOperation=v(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect)):this._immediateUserSelection!==document.body&&(this._currentDropTarget=document.body))),s!==this._currentDropTarget&&o(s)&&(console.log("dnd-poly: current drop target changed."),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragleave",s,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1,this._currentDropTarget)),o(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=m(this._dragDataStore.effectAllowed,this._sourceNode),!1===b("dragover",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragover not prevented on possible drop-target."),this._currentDragOperation=r[0]):(console.log("dnd-poly: dragover prevented."),this._currentDragOperation=v(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect))),console.log("dnd-poly: d'n'd iteration ended. current drag operation: "+this._currentDragOperation),n!==this._currentDragOperation&&this._dragImage.classList.remove(t+n);const c=t+this._currentDragOperation;this._dragImage.classList.add(c)},e.prototype._dragOperationEnded=function(e){console.log("dnd-poly: drag operation end detected with "+this._currentDragOperation);const t=this._currentDragOperation===r[0]||null===this._currentDropTarget||3===e;return t?o(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragleave",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)):o(this._currentDropTarget)&&(this._dragDataStore.mode=1,this._dataTransfer.dropEffect=this._currentDragOperation,!0===b("drop",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?this._currentDragOperation=this._dataTransfer.dropEffect:this._currentDragOperation=r[0]),t},e.prototype._finishDragOperation=function(){console.log("dnd-poly: dragimage snap back transition ended"),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=this._currentDragOperation,b("dragend",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1),this._dragOperationState=2,this._cleanup()},e}(),y={iterationInterval:150,tryFindDraggableTarget:function(e){let t=e.target;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)},dragImageSetup:function(e){const t=e.cloneNode(!0);return l(e,t),t},elementFromPoint:function(e,t){return document.elementFromPoint(e,t)}};let w;function x(e,t){if(console.log("dnd-poly: global touchstart"),w)return void console.log("dnd-poly: drag operation already active");const n=y.tryFindDraggableTarget(e,t);if(n)try{w=new _(e,y,n,M)}catch(t){throw M(y,e,3),t}else console.log("dnd-poly: no draggable at touchstart coordinates")}function k(e){console.log("dnd-poly: setup delayed dragstart..");const t=e.target,n=e.composedPath(),r=function(e){console.log("dnd-poly: aborting delayed drag because of "+e.type),o.off(),a.off(),s.off(),l.off(),t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(i)};t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));const i=window.setTimeout((function(){console.log("dnd-poly: starting delayed drag.."),o.off(),a.off(),s.off(),l.off(),x(e,n)}),y.holdToDrag),o=c(t,"touchend",r),a=c(t,"touchcancel",r),s=c(t,"touchmove",r),l=c(window,"scroll",r,!0)}function M(e,t,n){if(0===n&&(console.log("dnd-poly: Drag never started. Last event was "+t.type),e.defaultActionOverride))try{e.defaultActionOverride(t),t.defaultPrevented&&console.log("dnd-poly: defaultActionOverride has taken care of triggering the default action. preventing default on original event")}catch(e){console.log("dnd-poly: error in defaultActionOverride: "+e)}w=null}window.addEventListener("touchmove",(function(){})),function(e){if(e&&Object.keys(e).forEach((function(t){y[t]=e[t]})),!y.forceApply){const e=function(){const e={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},t=!!window.chrome||/chrome/i.test(navigator.userAgent);return e.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&"ontouchstart"in document.documentElement),e}();if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}console.log("dnd-poly: Applying mobile drag and drop polyfill."),y.holdToDrag?(console.log("dnd-poly: holdToDrag set to "+y.holdToDrag),a("touchstart",k,!1)):a("touchstart",x,!1)}({tryFindDraggableTarget:function(e,t){const n=t||e.composedPath();for(let e of n){let t=e;do{if(!1!==t.draggable&&t.getAttribute&&"true"===t.getAttribute("draggable"))return t}while((t=t.parentNode)&&t!==document.body)}},elementFromPoint:function(e,t){for(let n of this._path)if(n.elementFromPoint){let r=n.elementFromPoint(e,t);if(r){for(;r.shadowRoot;)r=r.shadowRoot.elementFromPoint(e,t);return r}}},dragStartConditionOverride:function(e){return this._path=e.composedPath(),!0},holdToDrag:500})},7722:()=>{const e=new WeakMap,t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?5e6:1e7;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let i=0,o=0,a=performance.now();const s=(e,...t)=>e.map(((e,n)=>[e,t[n]])).flat().filter((e=>!!e)).join("");function c(e,t,n){const r=Symbol("private lock"),i=n.value;return n.value=async function(...e){if(this[r]&&(await this[r],this[r]))return void await this[r];let t;this[r]=(()=>{let e;const t=new Promise((t=>{e=t}));return t.resolve=e,t})();try{t=await i.call(this,...e)}finally{const e=this[r];this[r]=void 0,e.resolve()}return t},n.value.flush=function(){return this[r]},n}var l;function u(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(u.prototype,HTMLElement.prototype),Object.setPrototypeOf(u,HTMLElement);let d=(r((l=class extends u{create_shadow_dom(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=s` <style> ${":host{bottom:0;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch}:host,div.rt-virtual-panel{position:absolute;top:0;left:0;right:0}div.rt-virtual-panel{pointer-events:none}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%}div.rt-tree-container{display:flex;align-items:center;height:100%}slot{position:absolute;overflow:hidden;overflow-anchor:none}"} </style> <div class="rt-virtual-panel"></div> <div class="rt-scroll-table-clip"> ${"<slot></slot>"} </div> `;const[,e,t]=this.shadowRoot.children;this._table_clip=t,this._virtual_panel=e,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&("both"!==this._virtual_mode&&"vertical"!==this._virtual_mode||(this._table_clip.style.top="0px"),"both"!==this._virtual_mode&&"horizontal"!==this._virtual_mode||(this._table_clip.style.left="0px"))}_calculate_viewport(e,t,n,r){const{start_row:i,end_row:o}=this._calculate_row_range(e,n),{start_col:a,end_col:s}=this._calculate_column_range(t,r);return this._nrows=e,{start_col:a,end_col:s,start_row:i,end_row:o}}_calculate_row_range(e,t){const{height:n}=this._container_size,r=this._column_sizes.row_height||19,i=this._view_cache.config.column_pivots.length+1,o=Math.max(1,this._virtual_panel.offsetHeight-this.clientHeight),a=Math.max(this.scrollTop,0)/o,s=n/r,c=t?e:this._nrows||0,l=Math.max(0,c+(i-s));let u=Math.ceil(l*a);return{start_row:u,end_row:Math.min(Math.ceil(u+s),e)}}_calculate_column_range(e,t){const n=Math.max(1,this._virtual_panel.offsetWidth-this._container_size.width),r=this.scrollLeft/n,i=this._max_scroll_column(e)+.5;if("none"===this._virtual_mode||"vertical"===this._virtual_mode)return{start_col:0,end_col:1/0};{let n=Math.floor(i*r);return{start_col:n,end_col:n+(!t&&this.table_model.num_columns()||Math.min(e,Math.ceil(this._container_size.width/60)))+1}}}_max_scroll_column(e){let t=0;if(this._view_cache.config.row_pivots.length>0)for(const e of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))t+=e;let n=e;for(;t<this._container_size.width&&n>=0;)n--,t+=this._column_sizes.indices[n]||60;return Math.min(e-1,n+1)}_validate_viewport({start_col:e,end_col:t,start_row:n,end_row:r}){const i=this._start_col!==e,o=this._start_row!==n||this._end_row!==r||this._end_col!==t;return this._start_col=e,this._end_col=t,this._start_row=n,this._end_row=r,{invalid_column:i,invalid_row:o}}_update_virtual_panel_width(e,t){if(e)if("vertical"===this._virtual_mode||"none"===this._virtual_mode)this._virtual_panel.style.width=this._column_sizes.indices.reduce(((e,t)=>e+t),0)+"px";else{const e=Math.max(1,this._virtual_panel.offsetWidth-this._container_size.width),n=this.scrollLeft/e,r=this._max_scroll_column(t);let i=0,o=0;for(;i<r;)o+=this._column_sizes.indices[i]||60,i++;const a=this._container_size.width+o;this._virtual_panel.style.width=a+"px",this.scrollLeft=n*o}}_update_virtual_panel_height(e){const{row_height:n=19}=this._column_sizes,r=this.table_model.header.num_rows()*n;let i;if("horizontal"===this._virtual_mode||"none"===this._virtual_mode)i=e*n+r;else{const o=this.clientHeight/(this._table_clip.offsetHeight-r);i=Math.min(t,e*n*o)}this._virtual_panel.style.height=i+"px"}async draw(e={}){const t=performance.now(),{invalid_viewport:n=!0,preserve_width:r=!1,reset_scroll_position:a=!1,invalid_columns:s=!1}=e;a&&this.reset_scroll(),this._invalid_schema=s||this._invalid_schema;const{num_columns:c,num_rows:l}=await this._view_cache.view(0,0,0,0);this._container_size={width:"none"===this._virtual_mode||"vertical"===this._virtual_mode?1/0:this._table_clip.clientWidth,height:"none"===this._virtual_mode||"horizontal"===this._virtual_mode?1/0:this._table_clip.clientHeight};const u=this._calculate_viewport(l,c,a,s),{invalid_row:d,invalid_column:f}=this._validate_viewport(u);if(this._update_virtual_panel_height(l),this._invalid_schema||d||f||n||f){this.dispatchEvent(new CustomEvent("regular-table-before-update",{bubbles:!0,detail:this}));let e=[];for await(e of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,r,u,c)){this._is_styling=!0;const t=this._style_callbacks;for(const e of t)await e({detail:this});if(this._is_styling=!1,!this._invalidated&&void 0!==e)break;this._invalidated=!1}this.table_model.autosize_cells(e),this.table_model.header.reset_header_cache(),r||this._update_virtual_panel_width(this._invalid_schema||f||n,c),this._invalid_schema=!1}var h;h=performance.now()-t,i=(i*o+h)/(o+1),o+=1}}).prototype,"draw",[c],Object.getOwnPropertyDescriptor(l.prototype,"draw"),l.prototype),l);var f;let h=(r((f=class extends d{register_listeners(){this.addEventListener("mousedown",this._on_click.bind(this)),this.addEventListener("dblclick",this._on_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!1}),this._register_glitch_scroll_listeners()}async _on_scroll(e){e.stopPropagation(),e.returnValue=!1,await this.draw({invalid_viewport:!1}),this.dispatchEvent(new CustomEvent("regular-table-scroll"))}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this),{passive:!1}),this.addEventListener("touchstart",this._on_touchstart.bind(this),{passive:!1}),this.addEventListener("touchmove",this._on_touchmove.bind(this),{passive:!1})}_on_mousewheel(e){if(!window.safari)return;const{clientWidth:t,clientHeight:n,scrollTop:r,scrollLeft:i,scrollHeight:o}=this;if(e.deltaY>0&&r+n>=o||e.deltaY<0&&r<=0){e.preventDefault(),e.returnValue=!1;const o=Math.max(1,this._virtual_panel.offsetHeight-n),a=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.min(o,r+e.deltaY),this.scrollLeft=Math.min(a,i+e.deltaX),this._on_scroll(e)}}_on_touchmove(e){e.preventDefault(),e.returnValue=!1;const{clientWidth:t,clientHeight:n,scrollTop:r,scrollLeft:i}=this,o=Math.max(1,this._virtual_panel.offsetHeight-n),a=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.min(o,r+(this._memo_touch_startY-e.touches[0].screenY)),this.scrollLeft=Math.min(a,i+(this._memo_touch_startX-e.touches[0].screenX)),this._on_scroll(e)}_on_touchstart(e){this._memo_touch_startY=e.touches[0].screenY,this._memo_touch_startX=e.touches[0].screenX}async _on_dblclick(t){let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),i=e.get(n);if(r){t.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",t.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(delete this._column_sizes.override[i.size_key],delete this._column_sizes.auto[i.size_key],delete this._column_sizes.indices[i.size_key]);for(const e of t.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(const n of t.shiftKey?e:[e[i._virtual_x]])n&&(n.style.minWidth="",n.style.maxWidth="",n.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(t){if(0!==t.button)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),i=e.get(n);r&&(this._on_resize_column(t,n,i),t.stopImmediatePropagation())}_on_resize_column(e,t,n){const{_virtual_x:r,size_key:i}=n,o=e.pageX,a=r+t.colSpan-1,s=this.table_model.header.get_column_header(a),c=this._column_sizes.indices[i],l=e=>this._on_resize_column_move(e,s,o,c,i,a),u=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u);const e=this._column_sizes.override[i],t=this._column_sizes.indices[i]!==e;this._column_sizes.indices[i]=e,t&&this.draw()};document.addEventListener("mousemove",l),document.addEventListener("mouseup",u)}async _on_resize_column_move(e,t,n,r,i,o){await new Promise(setTimeout);const a=e.pageX-n,s=Math.max(1,r+a);if(this._column_sizes.override[i]=s,a<0)await this.draw({preserve_width:!0});else{t.style.minWidth=s+"px",t.style.maxWidth=s+"px";const e=this._column_sizes.auto[i];for(const t of this.table_model.body.cells){const n=t[o];n&&(n.style.maxWidth=n.style.minWidth=s+"px",n.classList.toggle("rt-cell-clip",e>s))}}}}).prototype,"_on_resize_column_move",[c],Object.getOwnPropertyDescriptor(f.prototype,"_on_resize_column_move"),f.prototype),f);class p{constructor(e){this._name=e,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));const e=this._elements[this._index];return this._index+=1,e}}class g{constructor(e,t,n){this._column_sizes=e,this._container=t,this._span_factory=new p("span"),this.table=n,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(t,n){e.set(t,n)}_get_or_create_metadata(t){if(void 0===t)return{};if(e.has(t))return e.get(t);{const n={};return e.set(t,n),n}}_replace_cell(e,t){const{tr:n,row_container:r}=this._get_row(e);let i=r[t];return i&&(n.removeChild(i),r.splice(t,1,void 0)),i}_fetch_cell(e,t){if(e<0||t<0)return;const{row_container:n}=this._get_row(e);return n[t]}_get_cell(e="TD",t,n){const{tr:r,row_container:i}=this._get_row(t);let o=i[n];if(o||(n<i.length?(o=i[n]=document.createElement(e),r.insertBefore(o,i.slice(n+1).find((e=>e)))):(o=i[n]=document.createElement(e),r.appendChild(o))),o.tagName!==e){const i=document.createElement(e);r.replaceChild(i,o),this.cells[t].splice(n,1,i),o=i}return o}_get_row(e){let t=this.rows[e];t||(t=this.rows[e]=document.createElement("tr"),this.table.appendChild(t));let n=this.cells[e];return n||(n=this.cells[e]=[]),{tr:t,row_container:n}}_clean_columns(e){for(let t=0;t<this.rows.length;t++){const n=this.rows[t],r=this.cells[t];this.cells[t]=r.slice(0,e[t]||e);const i=this.cells[t].filter((e=>void 0!==e)).length;for(;n.children[i];)n.removeChild(n.children[i])}}_clean_rows(e){for(;this.table.children[e];)this.table.removeChild(this.table.children[e]);this.rows=this.rows.slice(0,e),this.cells=this.cells.slice(0,e)}}class m extends g{constructor(...e){super(...e),n(this,"_group_header_cache",[]),n(this,"_offset_cache",[])}_draw_group_th(e,t,n){const r=this._get_cell("TH",t,e[t]||0);if(e[t]+=1,r.removeAttribute("colspan"),r.style.minWidth="0",r.textContent="",n instanceof HTMLElement)r.appendChild(n);else{const e=this._span_factory.get("span");e.textContent=n,r.appendChild(e)}const i=this._span_factory.get("span");return i.className="rt-column-resize",r.appendChild(i),r}_draw_group(e,t,n){const r=this._get_or_create_metadata(n);return r.column_header=e,r.value=t,r.value=t,r}_draw_th(e,t,n,r,i){const o=this._get_or_create_metadata(n);if(o.column_header=e,o.value=t,o.size_key=i.length?i[0]:i,!(i.length>1)){const e=this._column_sizes.override[o.size_key],t=this._column_sizes.auto[o.size_key];e?(n.classList.toggle("rt-cell-clip",t>e),n.style.minWidth=e+"px",n.style.maxWidth=e+"px"):t?(n.classList.remove("rt-cell-clip"),n.style.maxWidth="",n.style.minWidth=t+"px"):(n.style.maxWidth="",n.style.maxWidth="")}return o}get_column_header(e){return this._get_cell("TH",this.num_rows()-1,e)}draw(e,t,n,r,i,o,a){const s=null==t?void 0:t.length;if(0===s)return{};let c,l,u;for(let p=0;p<s;p++){if(u=t[p]?t[p]:"",this._offset_cache[p]=this._offset_cache[p]||0,p<s-1){var d,f,h;(null===(d=this._group_header_cache)||void 0===d||null===(f=d[p])||void 0===f||null===(h=f[0])||void 0===h?void 0:h.value)===u?(c=this._group_header_cache[p][1],this._group_header_cache[p][2]+=1,1===n&&(this._group_header_cache[p][0].row_header_x=i),c.setAttribute("colspan",this._group_header_cache[p][2])):(c=this._draw_group_th(this._offset_cache,p,u),l=this._draw_group(t,u,c),this._group_header_cache[p]=[l,c,1])}else{c=this._draw_group_th(this._offset_cache,p,u),l=this._draw_th(e||t,u,c,r,i);for(const[e]of this._group_header_cache)e.size_key=l.size_key;c.removeAttribute("colspan")}l&&(l.x=r,l.column_header_y=p,l.x0=o,l._virtual_x=a,1===n&&(l.row_header_x=i))}return this._clean_rows(this._offset_cache.length),{th:c,metadata:l}}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}}class b extends g{_draw_td(e,t,n,r,{column_name:i},{ridx_offset:o},a){const s=this._get_cell(e,t,r),c=this._get_or_create_metadata(s);c.y=t+o,c.size_key=a,"TD"===e&&(c.column_header=i);const l=this._column_sizes.override[c.size_key];if(l){const e=this._column_sizes.auto[c.size_key];s.classList.toggle("rt-cell-clip",e>l),s.style.minWidth=l+"px",s.style.maxWidth=l+"px"}else s.classList.remove("rt-cell-clip"),s.style.minWidth="",s.style.maxWidth="";return n instanceof HTMLElement?(s.textContent="",s.appendChild(n)):s.textContent=n,c.value=n,{td:s,metadata:c}}draw(e,t,n,r=!1,i,o,a){const{cidx:s,column_data:c,row_headers:l,column_data_listener_metadata:u}=t;let d,{row_height:f}=n;const h=[],p=[];let g=0;const m=[];for(let v=0;v<(r?n.row_headers_length:1);v++){g=0;for(const _ of c){var b;const c=null==l?void 0:l[g];let y;if(r){const e=_[v],r=this._fetch_cell(g-(h[v]||1),s+v),i=this._get_or_create_metadata(r),a=this._fetch_cell(g,s+v-(m[g]||1)),c=this._get_or_create_metadata(a);!a||c.value!==e&&void 0!==e||a.hasAttribute("rowspan")?r&&i.value===e&&!r.hasAttribute("colspan")?(h[v]=h[v]?h[v]+1:2,r.setAttribute("rowspan",h[v]),this._replace_cell(g,s+v)):(y=this._draw_td("TH",g,e,s+v,t,n,v),y.td.style.display="",y.td.removeAttribute("rowspan"),y.td.removeAttribute("colspan"),y.metadata.row_header=_,y.metadata.row_header_x=v,y.metadata.x0=o,y.metadata.y0=n.ridx_offset,y.metadata.y1=n.y1,y.metadata._virtual_x=v,h[v]=1,m[g]=1,p[v]=y):(m[g]=m[g]?m[g]+1:2,a.setAttribute("colspan",m[g]),this._replace_cell(g,s+v))}else y=this._draw_td("TD",g,_,s,t,n,a),u&&(y.metadata.user=u[g]),y.metadata.x=i,y.metadata.x0=o,y.metadata.x1=n.x1,y.metadata.row_header=c||[],y.metadata.y0=n.ridx_offset,y.metadata.y1=n.y1,y.metadata.dx=i-o,y.metadata.dy=y.metadata.y-y.metadata.y0,y.metadata._virtual_x=s,p[0]=y;if(g++,d=y?y.metadata:d,f=f||(null===(b=y)||void 0===b?void 0:b.td.offsetHeight),g*f>e)break}}return this._clean_rows(g),{tds:p,ridx:g,metadata:d,row_height:f}}clean({ridx:e,cidx:t}){this._clean_rows(e),this._clean_columns(t)}}class v{constructor(e,t,n){this.clear(n);const[r]=n.children,[i,o]=r.children;this.table=r,this._column_sizes=t,this.header=new m(t,e,i),this.body=new b(t,e,o),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(e){e.innerHTML=s` <table cellspacing="0"> <thead></thead> <tbody></tbody> </table> `}autosize_cells(e){for(;e.length>0;){const[t,n,r]=e.pop();let i;const o=getComputedStyle(t);"border-box"!==o.boxSizing?(i=t.clientWidth,i-=parseFloat(o.paddingLeft),i-=parseFloat(o.paddingRight)):i=parseFloat(window.getComputedStyle(t).width),this._column_sizes.row_height=this._column_sizes.row_height||r.offsetHeight,this._column_sizes.indices[n.size_key]=i;const a=this._column_sizes.override.hasOwnProperty(n.size_key);i&&!a&&(this._column_sizes.auto[n.size_key]=i),"0px"===t.style.minWidth&&(t.style.minWidth=i+"px")}}async*draw(e,t,n,r,i,o){var a,s,c,l;const{width:u,height:d}=e,{view:f,config:h}=t;let{data:p,row_headers:g,column_headers:m,metadata:b}=await f(i.start_col,i.start_row,i.end_col,i.end_row);const{start_row:v=0,start_col:_=0,end_col:y=0,end_row:w=0}=i;g&&(this._row_headers_length=g.reduce(((e,t)=>Math.max(e,t.length)),0),g=g.map((e=>(e.length=this._row_headers_length,e)))),t.config.column_pivots=Array.from(Array((null==m||null===(a=m[0])||void 0===a?void 0:a.length)-1||0).keys()),t.config.row_pivots=Array.from(Array((null===(s=g)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.length)||0).keys());const x={viewport_width:0,selected_id:n,ridx_offset:v,x0:_,x1:y,y1:w,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length};let k,M=0,S=[],C=!0;if((null===(l=g)||void 0===l?void 0:l.length)>0){const e=h.row_pivots.join(","),n={column_name:e,cidx:0,column_data:g,row_headers:g,first_col:C},i=M+_;k=this.body.draw(d,n,{...x,x0:0},!0,void 0,void 0,i);const o=[];for(let n=0;n<t.config.row_pivots.length;n++)o.push(this.header.draw(e,Array(t.config.column_pivots.length+1).fill(""),1,void 0,n,_,n));if(C=!1,x.viewport_width+=o.reduce(((e,{th:t},n)=>e+(this._column_sizes.indices[n]||t.offsetWidth)),0),x.row_height=x.row_height||k.row_height,M=g[0].length,!r)for(let e=0;e<t.config.row_pivots.length;e++){const{td:t,metadata:n}=k.tds[e]||{},{th:r,metadata:i}=o[e];S.push([r||t,i||n,t||r])}}try{var A;let e=0;const t=o-i.start_col;for(;e<t;){if(!p[e]){let t=Math.max(i.end_col,0);i.start_col=t;let n=0,r=0;for(;this._column_sizes.indices.length>M+_+n+1&&r+x.viewport_width<u;)n++,r+=this._column_sizes.indices[M+_+n];if(r+x.viewport_width<u){const e=Math.min(o,t+5);i.end_col=Math.max(1,Math.min(o,e))}else i.end_col=Math.max(1,Math.min(o,t+n));const a=f(i.start_col,i.start_row,i.end_col,i.end_row);yield;const s=await a;if(0===s.data.length)return void(yield S);i.end_col=i.start_col+s.data.length;for(let t=0;t<s.data.length;t++){var T;p[e+t]=s.data[t],s.metadata&&(b[e+t]=s.metadata[t]),m&&(m[e+t]=null===(T=s.column_headers)||void 0===T?void 0:T[t])}}const t=(null==m?void 0:m[e])||"",n={column_name:t,cidx:M,column_data:p[e],column_data_listener_metadata:null==b?void 0:b[e],row_headers:g,first_col:C},a=e+_,s=M+_,c=this.header.draw(void 0,t,void 0,a,s,_,M);if(k=this.body.draw(d,n,x,!1,a,_,s),C=!1,!r)for(const{td:e,metadata:t}of k.tds)S.push([c.th||e,c.metadata||t,e||c.th]);const l=this._column_sizes.indices[M+_];var E;if(x.viewport_width+=l||(null===(E=c.th)||void 0===E?void 0:E.offsetWidth)||k.tds.reduce(((e,t)=>{var n;return e+(null===(n=t.td)||void 0===n?void 0:n.offsetWidth)}),0),x.row_height=x.row_height||k.row_height,M++,e++,x.viewport_width>u){var z;this.body.clean({ridx:(null===(z=k)||void 0===z?void 0:z.ridx)||0,cidx:M}),this.header.clean(),yield S,x.viewport_width=0;for(let[e]of S)x.viewport_width+=e.offsetWidth;if(x.viewport_width>u)return}}this.body.clean({ridx:(null===(A=k)||void 0===A?void 0:A.ridx)||0,cidx:M}),this.header.clean(),yield S}finally{var P;this.body.clean({ridx:(null===(P=k)||void 0===P?void 0:P.ridx)||0,cidx:M}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}}const _=["both","horizontal","vertical","none"];document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",class extends h{constructor(){super(),this._column_sizes={auto:{},override:{},indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new v(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto={},this._column_sizes.override={},this._column_sizes.indices=[];for(let e=0;e<this.table_model.header.num_columns();e++){const t=this.table_model.header.get_column_header(e);t.style.minWidth="",t.style.maxWidth=""}}clear(){this.table_model=new v(this._table_clip,this._column_sizes,this)}addStyleListener(e){this._style_callbacks=this._style_callbacks.concat(e);let t=!0;return()=>{if(!t)return;t=!1;const n=this._style_callbacks=this._style_callbacks.slice(),r=n.indexOf(e);n.splice(r,1)}}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(t){if(void 0!==t){if(t instanceof HTMLElement)return e.get(t);if(t.row_header_x>=0){if(t.row_header_x<this._view_cache.config.row_pivots.length){const e=this.table_model.body._fetch_cell(t.y,t.row_header_x);return this.getMeta(e)}}else{if(!(t.column_header_y>=0))return this.getMeta(this.table_model.body._fetch_cell(t.dy,t.dx+this.table_model._row_headers_length));if(t.column_header_y<this._view_cache.config.column_pivots.length){const e=this.table_model.body._fetch_cell(t.column_header_y,t.y);return this.getMeta(e)}}}}getDrawFPS(){return function(){const e=performance.now(),t=e-a,n=i,r=1e3*o/t,s=o;return i=0,o=0,a=e,{avg:n,real_fps:r,virtual_fps:1e3/n,num_frames:s,elapsed:t}}()}async scrollToCell(e,t,n,r){const i=this._virtual_panel.offsetHeight/r;this.scrollTop=i*t,this.scrollLeft=e/(this._max_scroll_column(n)||n)*(this.scrollWidth-this.clientWidth),await this.draw.flush()}setDataListener(e,{virtual_mode:t="both"}={}){console.assert(_.indexOf(t)>-1,`Unknown virtual_mode ${t};  valid options are "both" (default), "horizontal", "vertical" or "none"`),this._virtual_mode=t,this._invalid_schema=!0,this._view_cache={view:e,config:{row_pivots:[],column_pivots:[]},schema:{}},this._setup_virtual_scroll()}__noop_jsdoc_hints(){}})},851:(e,t,n)=>{var r=n(6549);"string"==typeof r&&(r=[[e.id,r,""]]);n(6723)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},9019:(e,t,n)=>{var r=n(2805);"string"==typeof r&&(r=[[e.id,r,""]]);n(6723)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},9458:(e,t,n)=>{var r=n(3146);"string"==typeof r&&(r=[[e.id,r,""]]);n(6723)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},6723:(e,t,n)=>{var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),c=null,l=0,u=[],d=n(1947);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),p(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=c||(c=m(t)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),p(e,t),t}(t),r=k.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=x.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(h(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var _,y=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function k(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},1947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},6063:(e,t,n)=>{"use strict";var r=Uint8Array,i=Uint16Array,o=Uint32Array,a=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new o(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return[n,a]},u=l(a,2),d=u[0],f=u[1];d[28]=258,f[258]=28;for(var h=l(s,0),p=h[0],g=(h[1],new i(32768)),m=0;m<32768;++m){var b=(43690&m)>>>1|(21845&m)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,g[m]=((65280&b)>>>8|(255&b)<<8)>>>1}var v=function(e,t,n){for(var r=e.length,o=0,a=new i(t);o<r;++o)e[o]&&++a[e[o]-1];var s,c=new i(t);for(o=0;o<t;++o)c[o]=c[o-1]+a[o-1]<<1;if(n){s=new i(1<<t);var l=15-t;for(o=0;o<r;++o)if(e[o])for(var u=o<<4|e[o],d=t-e[o],f=c[e[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)s[g[f]>>>l]=u}else for(s=new i(r),o=0;o<r;++o)e[o]&&(s[o]=g[c[e[o]-1]++]>>>15-e[o]);return s},_=new r(288);for(m=0;m<144;++m)_[m]=8;for(m=144;m<256;++m)_[m]=9;for(m=256;m<280;++m)_[m]=7;for(m=280;m<288;++m)_[m]=8;var y=new r(32);for(m=0;m<32;++m)y[m]=5;var w=v(_,9,1),x=v(y,5,1),k=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},M=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},C=function(e){return(e+7)/8|0},A=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var a=new(e instanceof i?i:e instanceof o?o:r)(n-t);return a.set(e.subarray(t,n)),a},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=new Error(t||T[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},z=new r(0),P=function(){function e(e){this.s={},this.p=new r(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||E(5),this.d&&E(4);var t=this.p.length,n=new r(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=function(e,t,n){var i=e.length;if(!i||n&&n.f&&!n.l)return t||new r(0);var o=!t||n,l=!n||n.i;n||(n={}),t||(t=new r(3*i));var u=function(e){var n=t.length;if(e>n){var i=new r(Math.max(2*n,e));i.set(t),t=i}},f=n.f||0,h=n.p||0,g=n.b||0,m=n.l,b=n.d,_=n.m,y=n.n,T=8*i;do{if(!m){f=M(e,h,1);var z=M(e,h+1,3);if(h+=3,!z){var P=e[(H=C(h)+4)-4]|e[H-3]<<8,I=H+P;if(I>i){l&&E(0);break}o&&u(g+P),t.set(e.subarray(H,I),g),n.b=g+=P,n.p=h=8*I,n.f=f;continue}if(1==z)m=w,b=x,_=9,y=5;else if(2==z){var D=M(e,h,31)+257,L=M(e,h+10,15)+4,N=D+M(e,h+5,31)+1;h+=14;for(var O=new r(N),B=new r(19),V=0;V<L;++V)B[c[V]]=M(e,h+3*V,7);h+=3*L;var R=k(B),j=(1<<R)-1,F=v(B,R,1);for(V=0;V<N;){var H,W=F[M(e,h,j)];if(h+=15&W,(H=W>>>4)<16)O[V++]=H;else{var U=0,Y=0;for(16==H?(Y=3+M(e,h,3),h+=2,U=O[V-1]):17==H?(Y=3+M(e,h,7),h+=3):18==H&&(Y=11+M(e,h,127),h+=7);Y--;)O[V++]=U}}var q=O.subarray(0,D),Z=O.subarray(D);_=k(q),y=k(Z),m=v(q,_,1),b=v(Z,y,1)}else E(1);if(h>T){l&&E(0);break}}o&&u(g+131072);for(var G=(1<<_)-1,$=(1<<y)-1,X=h;;X=h){var K=(U=m[S(e,h)&G])>>>4;if((h+=15&U)>T){l&&E(0);break}if(U||E(2),K<256)t[g++]=K;else{if(256==K){X=h,m=null;break}var Q=K-254;if(K>264){var J=a[V=K-257];Q=M(e,h,(1<<J)-1)+d[V],h+=J}var ee=b[S(e,h)&$],te=ee>>>4;if(ee||E(3),h+=15&ee,Z=p[te],te>3&&(J=s[te],Z+=S(e,h)&(1<<J)-1,h+=J),h>T){l&&E(0);break}o&&u(g+131072);for(var ne=g+Q;g<ne;g+=4)t[g]=t[g-Z],t[g+1]=t[g+1-Z],t[g+2]=t[g+2-Z],t[g+3]=t[g+3-Z];g=ne}}n.l=m,n.p=X,n.b=g,n.f=f,m&&(f=1,n.m=_,n.d=b,n.n=y)}while(!f);return g==t.length?t:A(t,0,g)}(this.p,this.o,this.s);this.ondata(A(n,t,this.s.b),this.d),this.o=A(n,this.s.b-32768),this.s.b=this.o.length,this.p=A(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),I=function(){function e(e){this.v=1,P.call(this,e)}return e.prototype.push=function(e,t){if(P.prototype.e.call(this,e),this.v){var n=this.p.length>3?function(e){31==e[0]&&139==e[1]&&8==e[2]||E(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)}(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}t&&(this.p.length<8&&E(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),P.prototype.c.call(this,t)},e}(),D=function(){function e(e){this.v=1,P.call(this,e)}return e.prototype.push=function(e,t){if(P.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&E(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),P.prototype.c.call(this,t)},e}(),L=function(){function e(e){this.G=I,this.I=P,this.Z=D,this.ondata=e}return e.prototype.push=function(e,t){if(this.ondata||E(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,o=function(){i.ondata.apply(i,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,t),this.p=null}}},e}(),N="undefined"!=typeof TextDecoder&&new TextDecoder;try{N.decode(z,{stream:!0})}catch(jr){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var O=n(2821),B=Object.create,V=Object.defineProperty,R=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,F=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty,W=e=>V(e,"__esModule",{value:!0}),U=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Y=e=>((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of j(t))!H.call(e,r)&&"default"!==r&&V(e,r,{get:()=>t[r],enumerable:!(n=R(t,r))||n.enumerable});return e})(W(V(null!=e?B(F(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),q=U(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),Z=U(((e,t)=>{var n=q().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),i(e[t],n[t])):Object.assign(e,{[t]:n[t]});return i(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),G={};((e,t)=>{for(var n in W(e),t)V(e,n,{get:t[n],enumerable:!0})})(G,{COLUMN_SEPARATOR_STRING:()=>ce,CONFIG_ALIASES:()=>X,CONFIG_VALID_KEYS:()=>K,DATA_TYPES:()=>$,FILTER_OPERATORS:()=>re,SORT_ORDERS:()=>ee,SORT_ORDER_IDS:()=>te,TYPE_AGGREGATES:()=>ne,TYPE_FILTERS:()=>le});var $={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},X={row_pivot:"row_pivots","row-pivot":"row_pivots","row-pivots":"row_pivots",col_pivot:"column_pivots",col_pivots:"column_pivots",column_pivot:"column_pivots","column-pivot":"column_pivots","column-pivots":"column_pivots",filters:"filter",sorts:"sort"},K=["viewport","row_pivots","column_pivots","aggregates","columns","filter","sort","computed_columns","expressions","row_pivot_depth","filter_op"],Q=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last","high","join","low","mean","median","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],J=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],ee=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],te=[2,0,1,0,1,3,4,3,4],ne={string:J,float:Q,integer:Q,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],datetime:J,date:J},re={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},ie=[re.bitwiseAnd,re.bitwiseOr,re.equals,re.doesNotEqual,re.or,re.and,re.isNull,re.isNotNull],oe=[re.lessThan,re.greaterThan,re.equals,re.lessThanOrEquals,re.greaterThanOrEquals,re.doesNotEqual,re.isNull,re.isNotNull],ae=[re.equals,re.contains,re.doesNotEqual,re.isIn,re.isNotIn,re.beginsWith,re.endsWith,re.isNull,re.isNotNull],se=[re.lessThan,re.greaterThan,re.equals,re.lessThanOrEquals,re.greaterThanOrEquals,re.doesNotEqual,re.isNull,re.isNotNull],ce="|",le={string:ae,float:oe,integer:oe,boolean:ie,datetime:se,date:se},ue=Y(Z()),de=new WeakMap,fe=0;function he(e,t){return function(){let n,r=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=i.length-1;e>=0;e--)"function"==typeof i[e]&&(n=i.splice(e,1)[0]);let o=de.get(n);de.delete(n);let a={cmd:t||"view_method",name:this._name,method:e,args:i,subscribe:!0,callback_id:o};this._worker.post(a,n,r),this._worker.unsubscribe(t,n)}}function pe(e,t){return function(){let n,r=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=i.length-1;e>=0;e--)"function"==typeof i[e]&&(n=i.splice(e,1)[0]);fe++,de.set(n,fe);let o={cmd:t||"view_method",name:this._name,method:e,args:i,subscribe:!0,callback_id:fe};this._worker.post(o,n,r,!0)}}function ge(e,t){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,i){var o={cmd:t||"view_method",name:this._name,method:e,args:n,subscribe:!1};this._worker.post(o,r,i)}.bind(this))}}function me(e,t,n){return new Promise(((r,i)=>{this._worker=e,this._name=Math.random()+"",this._worker.post({cmd:"view",view_name:this._name,table_name:t,config:n},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function be(e){let t=e;do{for(let n of Object.getOwnPropertyNames(t)){let t=e[n];"constructor"!==n&&"function"==typeof t&&(e[n]=t.bind(e))}}while(t=t!==Object&&Object.getPrototypeOf(t))}function ve(e,t,n){return new Promise(((r,i)=>{this._worker=e,this._name=n.name||Math.random()+"",be(this),t.to_arrow?(this._worker.post({cmd:"table",name:this._name,args:[],options:n||{}}),t.to_arrow().then((e=>{this._worker.post({cmd:"table",name:this._name,args:[e],options:n||{}},(()=>{t.on_update((e=>{this.update(e.delta)}),{mode:"row"}),r(this)}),i)}))):this._worker.post({cmd:"table",name:this._name,args:[t],options:n||{}},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function _e(e,t){this._worker=e,this._name=t}me.prototype,me.prototype.get_config=ge("get_config"),me.prototype.get_min_max=ge("get_min_max"),me.prototype.to_json=ge("to_json"),me.prototype.to_arrow=ge("to_arrow"),me.prototype.to_columns=ge("to_columns"),me.prototype.to_csv=ge("to_csv"),me.prototype.schema=ge("schema"),me.prototype.expression_schema=ge("expression_schema"),me.prototype.column_paths=ge("column_paths"),me.prototype.num_columns=ge("num_columns"),me.prototype.num_rows=ge("num_rows"),me.prototype.set_depth=ge("set_depth"),me.prototype.get_row_expanded=ge("get_row_expanded"),me.prototype.expand=ge("expand"),me.prototype.collapse=ge("collapse"),me.prototype.delete=ge("delete"),me.prototype.col_to_js_typed_array=ge("col_to_js_typed_array"),me.prototype.on_update=pe("on_update","view_method"),me.prototype.remove_update=he("remove_update","view_method"),me.prototype.on_delete=pe("on_delete","view_method"),me.prototype.remove_delete=he("remove_delete","view_method"),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var i=0|t,o=Math.max(i>=0?i:r-Math.abs(i),0);function a(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;o<r;){if(a(n[o],e))return!0;o++}return!1}}),ve.prototype.type="table",_e.prototype=ve.prototype,ve.prototype.view=function(e){return new me(this._worker,this._name,e)},ve.prototype.get_index=ge("get_index","table_method"),ve.prototype.get_limit=ge("get_limit","table_method"),ve.prototype.make_port=ge("make_port","table_method"),ve.prototype.remove_port=ge("remove_port","table_method"),ve.prototype.schema=ge("schema","table_method"),ve.prototype.validate_expressions=ge("validate_expressions","table_method"),ve.prototype.is_valid_filter=ge("is_valid_filter","table_method"),ve.prototype.size=ge("size","table_method"),ve.prototype.columns=ge("columns","table_method"),ve.prototype.clear=ge("clear","table_method"),ve.prototype.replace=ge("replace","table_method"),ve.prototype.delete=ge("delete","table_method"),ve.prototype.on_delete=pe("on_delete","table_method"),ve.prototype.remove=ge("remove","table_method"),ve.prototype.remove_delete=he("remove_delete","table_method"),ve.prototype.update=function(e,t){return new Promise(((n,r)=>{this._worker.post({name:this._name,cmd:"table_method",method:"update",args:[e,t||{}]},n,r,!1)}))},ve.prototype.execute=function(e){this._worker.post({cmd:"table_execute",name:this._name,f:e.toString()})};var ye=class{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},be(this)}unsubscribe(e,t){for(let e of Object.keys(this._worker.handlers))this._worker.handlers[e].resolve===t&&delete this._worker.handlers[e]}post(e,t,n,r=!1){++this._worker.msg_id,(t||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:t,reject:n,keep_alive:r}),e.id=this._worker.msg_id,this._worker.initialized.value?this.send(e):this._worker.messages.push((()=>{this.send(e),("table"===e.cmd||"view"===e.cmd)&&!this._features?.wait_for_response&&t&&t()}))}async memory_usage(){return await new Promise(((e,t)=>{this.post({cmd:"memory_usage"},e,t)}))}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push((()=>this.send({id:-1,cmd:"init_profile_thread"})))}send(){throw new Error("send() not implemented")}async open_table(e){return new _e(this,e)}_handle(e){if(!this._worker.initialized.value){if(!this._initialized&&"undefined"!=typeof document&&document&&void 0!==typeof window&&window){try{let e=document.createEvent("Event");e.initEvent("perspective-ready",!1,!0),window.dispatchEvent(e)}catch{}this._initialized=!0}let t=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],e.data?.data){this._features={};for(let t of e.data.data)this._features[t]=!0}if(t)for(let e in t)t.hasOwnProperty(e)&&t[e]()}if(e.data.id){let t=this._worker.handlers[e.data.id];t&&(e.data.error?t.reject(e.data.error):t.resolve(e.data.data),t.keep_alive||delete this._worker.handlers[e.data.id])}}table(e,t){return new ve(this,e,t||{})}terminate(){this._worker.terminate(),this._worker=void 0}},we=class extends ye{constructor(e){super(),this._ws=e,this._ws.binaryType="arraybuffer",this._full_binary,this._total_chunk_length=0,this._pending_binary_length=0,this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})};let t=()=>{this._ws.send("ping"),setTimeout(t,3e4)};setTimeout(t,3e4),this._ws.onmessage=e=>{if("pong"!==e.data)if(this._pending_binary){let t=e.data;if(this._full_binary.set(new Uint8Array(t),this._total_chunk_length),this._total_chunk_length+=t.byteLength,this._total_chunk_length!==this._pending_binary_length)return;t=this._full_binary.buffer;let n={data:{id:this._pending_binary,data:t}};if(void 0!==this._pending_port_id){let e={port_id:this._pending_port_id,delta:t};n.data.data=e}this._handle(n),delete this._pending_binary,delete this._pending_binary_length,delete this._pending_port_id,this._total_chunk_length=0,this._full_binary=null}else(e=JSON.parse(e.data)).binary_length?(this._pending_binary=e.id,this._pending_binary_length=e.binary_length,e.data&&void 0!==e.data.port_id&&(this._pending_port_id=e.data.port_id),this._full_binary=new Uint8Array(this._pending_binary_length)):this._handle({data:e})}}send(e){if(e.args&&e.args.length>0&&e.args[0]instanceof ArrayBuffer&&void 0!==e.args[0].byteLength){let t=e;return e.binary_length=e.args[0].byteLength,this._ws.send(JSON.stringify(t)),void this._ws.send(e.args[0])}this._ws.send(JSON.stringify(e))}terminate(){return new Promise((e=>{this._ws.onclose=e,this._ws.close()}))}},xe=Y(Z());function ke(e){return 559903==new Uint32Array(e.slice(0,4))[0]}var Me=function(){let e;return function(){return e||(e=new class{async worker(){return await new Worker(n.p+"perspective.worker.js")}async wasm(){let e=await O,t=[],n=0,r=new L((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e.buffer&&e.buffer instanceof ArrayBuffer)console.warn('Perspective has been compiled in "inline" mode.  While Perspective\'s runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.\nhttps://perspective.finos.org/docs/md/js.html'),ke(e.buffer)?r.push(e,!0):(n=e.byteLength,t=[e]);else if(e instanceof ArrayBuffer)n=e.byteLength,t=[new Uint8Array(e)];else{let i=(await fetch(e)).body.getReader(),o=0;for(;;){let{value:e,done:a}=await i.read();if(a)break;0===o&&ke(e.buffer)||1===o?(o=1,r.push(e,a)):(o=2,n+=e.byteLength,t.push(e))}}let i=0,o=new Uint8Array(n);for(let e of t)o.set(e,i),i+=e.byteLength;return this._wasm=o.buffer,this._wasm}}),e}}(),Se=class extends ye{constructor(e){e&&(0,xe.override_config)(e),super(),this.register()}async register(){let e,t={cmd:"init",config:(0,ue.get_config)()};if("undefined"==typeof WebAssembly)throw new Error("WebAssembly not supported. Support for ASM.JS has been removed as of 0.3.1.");for(var n in[e,t.buffer]=await Promise.all([Me().worker(),Me().wasm()]),this._worker)e[n]=this._worker[n];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(t),this._detect_transferable()}send(e){this._worker.transferable&&e.args&&e.args[0]instanceof ArrayBuffer?this._worker.postMessage(e,[e.args[0]]):this._worker.postMessage(e)}terminate(){this._worker.terminate(),this._worker=void 0}_detect_transferable(){var e=new ArrayBuffer(1);this._worker.postMessage(e,[e]),this._worker.transferable=0===e.byteLength,this._worker.transferable?console.debug("Transferable support detected"):console.warn("Transferable support not detected")}},Ce=function(){let e,t;return{getInstance:function(n){void 0===e&&(e=new Se(n));let r=JSON.stringify(n);if(t&&r!==t)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return t=r,e}}}();ue.get_type_config;var Ae,Te={override:function(e){return Me().set(e)},worker:function(e){return new Se(e)},websocket:function(e=window.location.origin.replace("http","ws")){return new we(new WebSocket(e))},shared_worker:function(e){return Ce.getInstance(e)},...Object.keys(G)};function Ee(e){return"function"==typeof e.iter?e.iter():new Ie(e)}function ze(e,t){for(var n,r=0,i=Ee(e);void 0!==(n=i.next());)if(!1===t(n,r++))return}function Pe(e){for(var t,n=0,r=[],i=Ee(e);void 0!==(t=i.next());)r[n++]=t;return r}!function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var a=0;a<i;++a){var s=(n+a)%o;if(e[s]===t)return s}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var a=0;a<i;++a){var s=(n-a+o)%o;if(e[s]===t)return s}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var a=0;a<i;++a){var s=(n+a)%o;if(t(e[s],s))return s}return-1}function i(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var a=0;a<i;++a){var s=(n-a+o)%o;if(t(e[s],s))return s}return-1}function o(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var i=e[t],o=e[n];e[t++]=o,e[n--]=i}}function a(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=r(e,t,n,i);return-1!==o?e[o]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o=i(e,t,n,r);return-1!==o?e[o]:void 0},e.lowerBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var a=r=r<0?Math.max(0,r+o):Math.min(r,o-1),s=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;s>0;){var c=s>>1,l=a+c;n(e[l],t)<0?(a=l+1,s-=c+1):s=c}return a},e.upperBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var a=r=r<0?Math.max(0,r+o):Math.min(r,o-1),s=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;s>0;){var c=s>>1,l=a+c;n(e[l],t)>0?s=c:(a=l+1,s-=c+1)}return a},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;++r)if(n?!n(e[r],t[r]):e[r]!==t[r])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,r=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var o,a=e.length;void 0===n?n=i<0?a-1:0:n<0?n=Math.max(n+a,i<0?-1:0):n>=a&&(n=i<0?a-1:a),void 0===r?r=i<0?-1:a:r<0?r=Math.max(r+a,i<0?-1:0):r>=a&&(r=i<0?a-1:a),o=i<0&&r>=n||i>0&&n>=r?0:i<0?Math.floor((r-n+1)/i+1):Math.floor((r-n-1)/i+1);for(var s=[],c=0;c<o;++c)s[c]=e[n+c*i];return s},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var i=e[t],o=t<n?1:-1,a=t;a!==n;a+=o)e[a]=e[a+o];e[n]=i}},e.reverse=o,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var a=r-n+1;if(t>0?t%=a:t<0&&(t=(t%a+a)%a),0!==t){var s=n+t;o(e,n,s-1),o(e,s,r),o(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0!==i){var o;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var a=0;a<o;++a)e[(n+a)%i]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var i=r;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=a,e.removeFirstOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t(e,n,r,i);return-1!==o&&a(e,o),o},e.removeLastOf=function(e,t,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o=n(e,t,r,i);return-1!==o&&a(e,o),o},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,a=0;a<i;++a)n<=r&&a>=n&&a<=r&&e[a]===t||r<n&&(a<=r||a>=n)&&e[a]===t?o++:o>0&&(e[a-o]=e[a]);return o>0&&(e.length=i-o),o},e.removeFirstWhere=function(e,t,n,i){var o;void 0===n&&(n=0),void 0===i&&(i=-1);var s=r(e,t,n,i);return-1!==s&&(o=a(e,s)),{index:s,value:o}},e.removeLastWhere=function(e,t,n,r){var o;void 0===n&&(n=-1),void 0===r&&(r=0);var s=i(e,t,n,r);return-1!==s&&(o=a(e,s)),{index:s,value:o}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,a=0;a<i;++a)n<=r&&a>=n&&a<=r&&t(e[a],a)||r<n&&(a<=r||a>=n)&&t(e[a],a)?o++:o>0&&(e[a-o]=e[a]);return o>0&&(e.length=i-o),o}}(Ae||(Ae={}));var Ie=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Le(Ee(e.map(Ee)))}(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();var Le=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();function Ne(){return new Oe}var Oe=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();var Be=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();function Ve(e,t){for(var n,r=0,i=Ee(e);void 0!==(n=i.next());)if(t(n,r++))return n}function Re(e,t){return new Fe(Ee(e),t)}var je,Fe=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();function He(e,t,n){var r=0,i=Ee(e),o=i.next();if(void 0===o&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===o)return n;var a,s,c=i.next();if(void 0===c&&void 0===n)return o;if(void 0===c)return t(n,o,r++);for(a=t(void 0===n?o:t(n,o,r++),c,r++);void 0!==(s=i.next());)a=t(a,s,r++);return a}function We(e){return new Xe(e,1)}!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=je.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}(),function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(je||(je={}));var Ue,Ye,qe,Ze,Ge,$e,Xe=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}(),Ke=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}(),function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),i=0,o=n,a=t.length;i<a;++i,++o){if(-1===(o=e.indexOf(t[i],o)))return null;r[i]=o}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,a=0,s=i.length;a<s;++a){var c=i[a]-r;o+=c*c}return{score:o,indices:i}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,a=r-1,s=0,c=i.length;s<c;++s){var l=i[s];o+=l-a-1,a=l}return{score:o,indices:i}},e.highlight=function(e,t,n){for(var r=[],i=0,o=0,a=t.length;i<a;){for(var s=t[i],c=t[i];++i<a&&t[i]===c+1;)c++;o<s&&r.push(e.slice(o,s)),s<c+1&&r.push(n(e.slice(s,c+1))),o=c+1}return o<e.length&&r.push(e.slice(o)),r},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(Ue||(Ue={})),function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}(),function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e}}(),function(e){e.copyText=function(e){var t=document.body,n=function(r){r.preventDefault(),r.stopPropagation(),r.clipboardData.setData("text",e),t.removeEventListener("copy",n,!0)};t.addEventListener("copy",n,!0),document.execCommand("copy")}}(Ye||(Ye={})),function(e){e.boxSizing=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,r=parseFloat(t.borderLeftWidth)||0,i=parseFloat(t.borderRightWidth)||0,o=parseFloat(t.borderBottomWidth)||0,a=parseFloat(t.paddingTop)||0,s=parseFloat(t.paddingLeft)||0,c=parseFloat(t.paddingRight)||0,l=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:r,borderRight:i,borderBottom:o,paddingTop:a,paddingLeft:s,paddingRight:c,paddingBottom:l,horizontalSum:r+s+c+i,verticalSum:n+a+l+o}},e.sizeLimits=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,r=parseFloat(t.minHeight)||0,i=parseFloat(t.maxWidth)||1/0,o=parseFloat(t.maxHeight)||1/0;return{minWidth:n,minHeight:r,maxWidth:i=Math.max(n,i),maxHeight:o=Math.max(r,o)}},e.hitTest=function(e,t,n){var r=e.getBoundingClientRect();return t>=r.left&&t<r.right&&n>=r.top&&n<r.bottom},e.scrollIntoViewIfNeeded=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<=n.top&&r.bottom>=n.bottom||(r.top<n.top&&r.height<=n.height||r.bottom>n.bottom&&r.height>=n.height?e.scrollTop-=n.top-r.top:(r.top<n.top&&r.height>n.height||r.bottom>n.bottom&&r.height<n.height)&&(e.scrollTop-=n.bottom-r.bottom))}}(qe||(qe={})),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent),e.accelKey=function(t){return e.IS_MAC?t.metaKey:t.ctrlKey}}(Ze||(Ze={})),function(e){e.calculateSpecificity=function(e){if(e in $e.specificityCache)return $e.specificityCache[e];var t=$e.calculateSingle(e);return $e.specificityCache[e]=t},e.isValid=function(e){if(e in $e.validityCache)return $e.validityCache[e];var t=!0;try{$e.testElem.querySelector(e)}catch(e){t=!1}return $e.validityCache[e]=t},e.matches=function(e,t){return $e.protoMatchFunc.call(e,t)}}(Ge||(Ge={})),function(e){var t;e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(t=Element.prototype).matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var t=this,n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return-1!==Array.prototype.indexOf.call(n,t)},e.calculateSingle=function(e){var t=0,u=0,d=0;function f(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(l," $1 ");e.length>0;)if(f(n))t++;else if(f(r))u++;else if(f(i))u++;else if(f(a))d++;else if(f(s))u++;else if(f(o))d++;else if(!f(c))return 0;return(t=Math.min(t,255))<<16|(u=Math.min(u,255))<<8|Math.min(d,255)};var n=/^#[^\s\+>~#\.\[:]+/,r=/^\.[^\s\+>~#\.\[:]+/,i=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,a=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,s=/^:[^\s\+>~#\.\[:]+/,c=/^[\s\+>~\*]+/,l=/:not\(([^\)]+)\)/g}($e||($e={}));var Qe,Je=function(){function e(e){this._root=new Qe.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=Qe.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=Qe.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return Qe.iterItems(this._root)},e.prototype.retro=function(){return Qe.retroItems(this._root)},e.prototype.slice=function(e,t){return Qe.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return Qe.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return Qe.itemAt(this._root,e)},e.prototype.has=function(e,t){return Qe.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return Qe.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return Qe.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=Qe.insertItem(this._root,e,this.cmp);return this._root=Qe.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;ze(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=Qe.deleteItem(this._root,e,t);return this._root=Qe.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=Qe.removeItem(this._root,e);return this._root=Qe.maybeExtractRoot(this._root),t},e.prototype.clear=function(){Qe.clear(this._root),this._root=new Qe.LeafNode},e}();!function(e){e.from=function(t,n){var r=new e(n);return r.assign(t),r}}(Je||(Je={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function r(e){for(;0===e.type;)e=e.children[0];return e}function i(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}function o(e){0===e.type?(ze(e.children,o),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.LeafNode=n,e.firstLeaf=r,e.lastLeaf=i,e.iterItems=function(e){var t=r(e);return new c(t,0,-1)},e.retroItems=function(e){var t=i(e);return new l(t,t.size-1,-1)},e.sliceItems=function(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var r=Math.max(0,n-t);if(0===r)return Ne();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new c(e,t,r)},e.retroSliceItems=function(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var r=Math.max(0,t-n);if(0===r)return Ne();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new l(e,t,r)},e.itemAt=function(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){for(;0===e.type;){var n=u(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}},e.hasItem=function(e,t,n){for(;0===e.type;){var r=d(e.items,t,n);e=e.children[r]}return f(e.items,t,n)>=0},e.indexOf=function(e,t,n){for(var r=0;0===e.type;){var i=d(e.items,t,n);i>0&&(r+=e.sizes[i-1]),e=e.children[i]}var o=f(e.items,t,n);return o>=0?r+o:-r+o},e.getItem=function(e,t,n){for(;0===e.type;){var r=d(e.items,t,n);e=e.children[r]}var i=f(e.items,t,n);return i>=0?e.items[i]:void 0},e.insertItem=function e(t,n,r){if(1===t.type){var i,o=f(t.items,n,r);return o>=0?(i=t.items[o],t.items[o]=n):(i=void 0,Ae.insert(t.items,-o-1,n)),i}var s=d(t.items,n,r),c=t.children[s],l=c.size,u=e(c,n,r),g=c.size;if(t.items[s]=c.items[0],l===g)return u;if(c.width>a){var m=p(c);Ae.insert(t.children,s+1,m),Ae.insert(t.items,s+1,m.items[0])}return h(t,s),u},e.deleteItem=function e(t,n,r){if(1===t.type){var i=f(t.items,n,r);if(i<0)return;return Ae.removeAt(t.items,i)}var o=d(t.items,n,r),a=t.children[o],c=a.size,l=e(a,n,r);return c===a.size||(t.items[o]=a.items[0],a.width<s&&(o=g(t,o)),h(t,o)),l},e.removeItem=function e(t,n){if(n<0&&(n+=t.size),!(n<0||n>=t.size)){if(1===t.type)return Ae.removeAt(t.items,n);var r=u(t.sizes,n);r>0&&(n-=t.sizes[r]);var i=t.children[r],o=e(i,n);return t.items[r]=i.items[0],i.width<s&&(r=g(t,r)),h(t,r),o}},e.clear=o,e.maybeSplitRoot=function(e){if(e.width<=a)return e;var n=new t,r=p(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+r.size,n.children[0]=e,n.children[1]=r,n.items[0]=e.items[0],n.items[1]=r.items[0],n},e.maybeExtractRoot=function(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return o(e),t};var a=32,s=a>>1,c=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),l=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function u(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]>t)return r;return n-1}function d(e,t,n){for(var r=e.length,i=1;i<r;++i)if(n(e[i],t)>0)return i-1;return r-1}function f(e,t,n){for(var r=e.length,i=0;i<r;++i){var o=n(e[i],t);if(0===o)return i;if(o>0)return-i-1}return-r-1}function h(e,t){for(var n=e.sizes,r=e.children,i=t>0?n[t-1]:0,o=r.length;t<o;++t)i=n[t]=i+r[t].size;n.length=r.length}function p(e){if(1===e.type){for(var r=new n,i=e.items,o=r.items,a=s,c=i.length;a<c;++a)o.push(i[a]);return i.length=s,e.next&&(e.next.prev=r),r.next=e.next,r.prev=e,e.next=r,r}var l=new t,u=e.children,d=l.children;for(a=s,c=u.length;a<c;++a)d.push(u[a]);u.length=s;var f=e.items,p=l.items;for(a=s,c=f.length;a<c;++a)p.push(f[a]);return f.length=s,h(e,s),h(l,0),l}function g(e,t){var n,r,i,a,c,l,u=e.children[t],d=0===t?e.children[t+1]:e.children[t-1],f=0===t,p=1===u.type,g=d.width>s;if(p&&g&&f){var m=d;return(b=u).items.push(m.items.shift()),e.items[t+1]=m.items[0],t}if(p&&g&&!f)return m=d,(b=u).items.unshift(m.items.pop()),e.items[t]=b.items[0],t-1;if(p&&!g&&f){var b=u;return(n=(m=d).items).unshift.apply(n,b.items),Ae.removeAt(e.children,t),Ae.removeAt(e.items,t+1),b.prev&&(b.prev.next=m),m.prev=b.prev,o(b),t}if(p&&!g&&!f)return b=u,(r=(m=d).items).push.apply(r,b.items),Ae.removeAt(e.children,t),Ae.removeAt(e.items,t),b.next&&(b.next.prev=m),m.next=b.next,o(b),t-1;if(!p&&g&&f)return m=d,(b=u).children.push(m.children.shift()),b.items.push(m.items.shift()),e.items[t+1]=m.items[0],h(b,b.width-1),h(m,0),t;if(!p&&g&&!f)return m=d,(b=u).children.unshift(m.children.pop()),b.items.unshift(m.items.pop()),e.items[t]=b.items[0],h(b,0),h(m,m.width-1),t-1;if(!p&&!g&&f)return b=u,(i=(m=d).children).unshift.apply(i,b.children),(a=m.items).unshift.apply(a,b.items),Ae.removeAt(e.children,t),Ae.removeAt(e.items,t+1),h(m,0),b.children.length=0,o(b),t;if(!p&&!g&&!f)return b=u,(c=(m=d).children).push.apply(c,b.children),(l=m.items).push.apply(l,b.items),Ae.removeAt(e.children,t),Ae.removeAt(e.items,t),h(m,0),b.children.length=0,o(b),t-1;throw"unreachable"}}(Qe||(Qe={}));var et,tt=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),ze(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new et.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new et.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof et.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new et.LinkedListNode(this,e),r=t,i=r.prev;return n.next=r,n.prev=i,r.prev=n,i.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof et.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new et.LinkedListNode(this,e),r=t,i=r.next;return n.next=i,n.prev=r,r.next=n,i.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof et.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();!function(e){e.from=function(t){var n=new e;return n.assign(t),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var r=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=r;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=i}(tt||(tt={})),function(e){e.LinkedListNode=function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t}}(et||(et={}));var nt,rt=function(e,t){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},it=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}(),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0},t}(it);!function(e){function t(e,t){var n,i=r.get(e);i&&0!==i.length?function(n,r){for(var i,a=Ee(n);void 0!==(i=a.next());)if((s=i)&&!function(e,t,n){var r=!0;try{r="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(e){o(e)}return r}(s,e,t))return!1;var s;return!0}("function"==typeof(n=i).retro?n.retro():new Ke(n))&&u(e,t):u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){t.isConflatable&&function(n,r){for(var i,o=Ee(n);void 0!==(i=o.next());)if((a=i).handler===e&&a.msg&&a.msg.type===t.type&&a.msg.isConflatable&&a.msg.conflate(t))return!0;var a;return!1}(n)||function(e,t){n.addLast({handler:e,msg:t}),0===a&&(a=c(d))}(e,t)},e.installMessageHook=function(e,t){var n=r.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):r.set(e,[t]))},e.removeMessageHook=function(e,t){var n=r.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,f(n))}},e.clearData=function(e){var t=r.get(e);t&&t.length>0&&(Ae.fill(t,null),f(t)),ze(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){s||0===a||(l(a),s=!0,d(),s=!1)},e.getExceptionHandler=function(){return o},e.setExceptionHandler=function(e){var t=o;return o=e,t};var n=new tt,r=new WeakMap,i=new Set,o=function(e){console.error(e)},a=0,s=!1,c="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,l="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(e){o(e)}}function d(){if(a=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var r=n.removeFirst();if(r===e)return;r.handler&&r.msg&&t(r.handler,r.msg)}}}function f(e){0===i.size&&c(h),i.add(e)}function h(){i.forEach(p),i.clear()}function p(e){Ae.removeAllWhere(e,g)}function g(e){return null===e}}(nt||(nt={}));var at,st=function(){function e(e){this._pid=at.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=at.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,r=at.ensureMap(e);n=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(e);var i=this._coerceValue(e,t);this._maybeNotify(e,n,r[this._pid]=i)},e.prototype.coerce=function(e){var t,n=at.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var r=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=r)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var r=this._changed;r&&!this._compareValue(t,n)&&r(e,t,n)},e}();!function(e){e.clearData=function(e){at.ownerData.delete(e)}}(st||(st={})),function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(at||(at={}));var ct,lt,ut=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return ct.connect(this,e,t)},e.prototype.disconnect=function(e,t){return ct.disconnect(this,e,t)},e.prototype.emit=function(e){ct.emit(this,e)},e}();!function(e){e.disconnectBetween=function(e,t){ct.disconnectBetween(e,t)},e.disconnectSender=function(e){ct.disconnectSender(e)},e.disconnectReceiver=function(e){ct.disconnectReceiver(e)},e.disconnectAll=function(e){ct.disconnectAll(e)},e.clearData=function(e){ct.disconnectAll(e)},e.getExceptionHandler=function(){return ct.exceptionHandler},e.setExceptionHandler=function(e){var t=ct.exceptionHandler;return ct.exceptionHandler=e,t}}(ut||(ut={})),function(e){function t(e){var t=r.get(e);t&&0!==t.length&&(ze(t,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,l(i.get(t))}})),l(t))}function n(e){var t=i.get(e);t&&0!==t.length&&(ze(t,(function(e){if(e.signal){var t=e.signal.sender;e.signal=null,l(r.get(t))}})),l(t))}e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,t,n){n=n||void 0;var o=r.get(e.sender);if(o||(o=[],r.set(e.sender,o)),s(o,e,t,n))return!1;var a=n||t,c=i.get(a);c||(c=[],i.set(a,c));var l={signal:e,slot:t,thisArg:n};return o.push(l),c.push(l),!0},e.disconnect=function(e,t,n){n=n||void 0;var o=r.get(e.sender);if(!o||0===o.length)return!1;var a=s(o,e,t,n);if(!a)return!1;var c=n||t,u=i.get(c);return a.signal=null,l(o),l(u),!0},e.disconnectBetween=function(e,t){var n=r.get(e);if(n&&0!==n.length){var o=i.get(t);o&&0!==o.length&&(ze(o,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),l(n),l(o))}},e.disconnectSender=t,e.disconnectReceiver=n,e.disconnectAll=function(e){t(e),n(e)},e.emit=function(e,t){var n=r.get(e.sender);if(n&&0!==n.length)for(var i=0,o=n.length;i<o;++i){var a=n[i];a.signal===e&&c(a,t)}};var r=new WeakMap,i=new WeakMap,o=new Set,a="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function s(e,t,n,r){return Ve(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function c(t,n){var r=t.signal,i=t.slot,o=t.thisArg;try{i.call(o,r.sender,n)}catch(t){e.exceptionHandler(t)}}function l(e){0===o.size&&a(u),o.add(e)}function u(){o.forEach(d),o.clear()}function d(e){Ae.removeAllWhere(e,f)}function f(e){return null===e.signal}}(ct||(ct={})),function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=function e(r,i){if(r===i)return!0;if(t(r)||t(i))return!1;var o=n(r),a=n(i);return o===a&&(o&&a?function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;++r)if(!e(t[r],n[r]))return!1;return!0}(r,i):function(t,n){if(t===n)return!0;for(var r in t)if(void 0!==t[r]&&!(r in n))return!1;for(var r in n)if(void 0!==n[r]&&!(r in t))return!1;for(var r in t){var i=t[r],o=n[r];if(void 0!==i||void 0!==o){if(void 0===i||void 0===o)return!1;if(!e(i,o))return!1}}return!0}(r,i))},e.deepCopy=function e(r){return t(r)?r:n(r)?function(t){for(var n=new Array(t.length),r=0,i=t.length;r<i;++r)n[r]=e(t[r]);return n}(r):function(t){var n={};for(var r in t){var i=t[r];void 0!==i&&(n[r]=e(i))}return n}(r)}}(lt||(lt={}));var dt,ft,ht=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}();!function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)}}(),function(e){var t;e.getRandomValues=(t="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(8173)||null)&&"function"==typeof t.getRandomValues?function(e){return t.getRandomValues(e)}:t&&"function"==typeof t.randomFillSync?function(e){return t.randomFillSync(e)}:t&&"function"==typeof t.randomBytes?function(e){for(var n=t.randomBytes(e.length),r=0,i=n.length;r<i;++r)e[r]=n[r]}:function(e){for(var t=0,n=0,r=e.length;n<r;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}}(dt||(dt={})),function(e){e.uuid4=function(){for(var e=new Uint8Array(16),t=new Array(256),n=0;n<16;++n)t[n]="0"+n.toString(16);for(n=16;n<256;++n)t[n]=n.toString(16);return function(){return dt.getRandomValues(e),e[6]=64|15&e[6],e[8]=128|63&e[8],t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}()}(ft||(ft={}));var pt=function(e,t){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function gt(e,t){function n(){this.constructor=e}pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var mt=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}(),bt=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new ut(t),t}gt(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),ut.clearData(this))}}(mt),function(){function e(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(e){e.dispose()})),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}());!function(e){e.from=function(t){var n=new e;return ze(t,(function(e){n.add(e)})),n}}(bt||(bt={}));var vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new ut(t),t}return gt(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),ut.clearData(this))},t}(bt);function _t(){return wt.keyboardLayout}!function(e){e.from=function(t){var n=new e;return ze(t,(function(e){n.add(e)})),n}}(vt||(vt={}));var yt=function(){function e(t,n){this.name=t,this._codes=n,this._keys=e.extractKeys(n)}return e.prototype.keys=function(){return Object.keys(this._keys)},e.prototype.isValidKey=function(e){return e in this._keys},e.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},e}();!function(e){e.extractKeys=function(e){var t=Object.create(null);for(var n in e)t[e[n]]=!0;return t}}(yt||(yt={}));var wt,xt=new yt("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});!function(e){e.keyboardLayout=xt}(wt||(wt={}));var kt,Mt=function(){function e(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new ut(this),this._commandExecuted=new ut(this),this._keyBindingChanged=new ut(this)}return Object.defineProperty(e.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),e.prototype.listCommands=function(){return Object.keys(this._commands)},e.prototype.hasCommand=function(e){return e in this._commands},e.prototype.addCommand=function(e,t){var n=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=kt.createCommand(t),this._commandChanged.emit({id:e,type:"added"}),new mt((function(){delete n._commands[e],n._commandChanged.emit({id:e,type:"removed"})}))},e.prototype.notifyCommandChanged=function(e){if(void 0!==e&&!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})},e.prototype.label=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.label.call(void 0,t):""},e.prototype.mnemonic=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.mnemonic.call(void 0,t):-1},e.prototype.icon=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.icon.call(void 0,t):""},e.prototype.iconClass=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.iconClass.call(void 0,t):""},e.prototype.iconLabel=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.iconLabel.call(void 0,t):""},e.prototype.caption=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.caption.call(void 0,t):""},e.prototype.usage=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.usage.call(void 0,t):""},e.prototype.className=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.className.call(void 0,t):""},e.prototype.dataset=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return n?n.dataset.call(void 0,t):{}},e.prototype.isEnabled=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return!!n&&n.isEnabled.call(void 0,t)},e.prototype.isToggled=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return!!n&&n.isToggled.call(void 0,t)},e.prototype.isToggleable=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return!!n&&n.isToggleable},e.prototype.isVisible=function(e,t){void 0===t&&(t=lt.emptyObject);var n=this._commands[e];return!!n&&n.isVisible.call(void 0,t)},e.prototype.execute=function(e,t){void 0===t&&(t=lt.emptyObject);var n,r=this._commands[e];if(!r)return Promise.reject(new Error("Command '"+e+"' not registered."));try{n=r.execute.call(void 0,t)}catch(e){n=Promise.reject(e)}var i=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:t,result:i}),i},e.prototype.addKeyBinding=function(e){var t=this,n=kt.createKeyBinding(e);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new mt((function(){Ae.removeFirstOf(t._keyBindings,n),t._keyBindingChanged.emit({binding:n,type:"removed"})}))},e.prototype.processKeydownEvent=function(t){if(!this._replaying){var n=e.keystrokeForKeydownEvent(t);if(!n)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(n);var r=kt.matchKeyBinding(this._keyBindings,this._keystrokes,t),i=r.exact,o=r.partial;if(!i&&!o)return this._replayKeydownEvents(),void this._clearPendingState();if(t.preventDefault(),t.stopPropagation(),i&&!o)return this._executeKeyBinding(i),void this._clearPendingState();i&&(this._exactKeyMatch=i),this._keydownEvents.push(t),this._startTimer()}},e.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=window.setTimeout((function(){e._onPendingTimeout()}),kt.CHORD_TIMEOUT)},e.prototype._clearTimer=function(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)},e.prototype._replayKeydownEvents=function(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(kt.replayKeyEvent),this._replaying=!1)},e.prototype._executeKeyBinding=function(e){var t=e.command,n=e.args;if(this.hasCommand(t)&&this.isEnabled(t,n))this.execute(t,n);else{var r=this.hasCommand(t)?"enabled":"registered",i="Cannot execute key binding '"+e.keys.join(", ")+"':",o="command '"+t+"' is not "+r+".";console.warn(i+" "+o)}},e.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},e.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},e}();!function(e){function t(e){for(var t="",n=!1,r=!1,i=!1,o=!1,a=0,s=e.split(/\s+/);a<s.length;a++){var c=s[a];"Accel"===c?Ze.IS_MAC?r=!0:i=!0:"Alt"===c?n=!0:"Cmd"===c?r=!0:"Ctrl"===c?i=!0:"Shift"===c?o=!0:c.length>0&&(t=c)}return{cmd:r,ctrl:i,alt:n,shift:o,key:t}}function n(e){var n="",r=t(e);return r.ctrl&&(n+="Ctrl "),r.alt&&(n+="Alt "),r.shift&&(n+="Shift "),r.cmd&&Ze.IS_MAC&&(n+="Cmd "),n+r.key}e.parseKeystroke=t,e.normalizeKeystroke=n,e.normalizeKeys=function(e){return(Ze.IS_WIN?e.winKeys||e.keys:Ze.IS_MAC?e.macKeys||e.keys:e.linuxKeys||e.keys).map(n)},e.formatKeystroke=function(e){var n="",r=t(e);return Ze.IS_MAC?(r.ctrl&&(n+="⌃ "),r.alt&&(n+="⌥ "),r.shift&&(n+="⇧ "),r.cmd&&(n+="⌘ ")):(r.ctrl&&(n+="Ctrl+"),r.alt&&(n+="Alt+"),r.shift&&(n+="Shift+")),n+r.key},e.keystrokeForKeydownEvent=function(e){var t=_t().keyForKeydownEvent(e);if(!t)return"";var n="";return e.ctrlKey&&(n+="Ctrl "),e.altKey&&(n+="Alt "),e.shiftKey&&(n+="Shift "),e.metaKey&&Ze.IS_MAC&&(n+="Cmd "),n+t}}(Mt||(Mt={})),function(e){e.CHORD_TIMEOUT=1e3,e.createCommand=function(e){var c,l;return e.icon&&"string"!=typeof e.icon?(l=s(e.iconClass,t),c=s(e.icon,a)):c=l=s(e.iconClass||e.icon,t),{execute:e.execute,label:s(e.label,t),mnemonic:s(e.mnemonic,n),icon:c,iconClass:l,iconLabel:s(e.iconLabel,t),caption:s(e.caption,t),usage:s(e.usage,t),className:s(e.className,t),dataset:s(e.dataset,o),isEnabled:e.isEnabled||r,isToggled:e.isToggled||i,isToggleable:e.isToggleable||!!e.isToggled,isVisible:e.isVisible||r}},e.createKeyBinding=function(e){return{keys:Mt.normalizeKeys(e),selector:c(e),command:e.command,args:e.args||lt.emptyObject}},e.matchKeyBinding=function(e,t,n){for(var r=null,i=!1,o=1/0,a=0,s=0,c=e.length;s<c;++s){var d=e[s],f=l(d.keys,t);if(0!==f)if(2!==f){var h=u(d.selector,n);if(!(-1===h||h>o)){var p=Ge.calculateSpecificity(d.selector);(!r||h<o||p>=a)&&(r=d,o=h,a=p)}}else i||-1===u(d.selector,n)||(i=!0)}return{exact:r,partial:i}},e.replayKeyEvent=function(e){e.target.dispatchEvent(function(e){var t=document.createEvent("Event"),n=e.bubbles||!0,r=e.cancelable||!0;return t.initEvent(e.type||"keydown",n,r),t.key=e.key||"",t.keyCode=e.keyCode||0,t.which=e.keyCode||0,t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.view=e.view||window,t}(e))};var t=function(){return""},n=function(){return-1},r=function(){return!0},i=function(){return!1},o=function(){return{}},a=function(){};function s(e,t){return void 0===e?t:"function"==typeof e?e:function(){return e}}function c(e){if(-1!==e.selector.indexOf(","))throw new Error("Selector cannot contain commas: "+e.selector);if(!Ge.isValid(e.selector))throw new Error("Invalid selector: "+e.selector);return e.selector}function l(e,t){if(e.length<t.length)return 0;for(var n=0,r=t.length;n<r;++n)if(e[n]!==t[n])return 0;return e.length>t.length?2:1}function u(e,t){for(var n=t.target,r=t.currentTarget,i=0;null!==n;n=n.parentElement,++i){if(n.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(n.hasAttribute("data-p-suppress-shortcuts"))return-1;if(Ge.matches(n,e))return i;if(n===r)return-1}return-1}}(kt||(kt={}));var St,Ct,At,Tt=function(e,t){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},Et=function(e){this.type="text",this.content=e},zt=function(e,t,n,r){this.type="element",this.tag=e,this.attrs=t,this.children=n,this.renderer=r};function Pt(e){for(var t,n={},r=[],i=1,o=arguments.length;i<o;++i){var a=arguments[i];"string"==typeof a?r.push(new Et(a)):a instanceof Et||a instanceof zt?r.push(a):a instanceof Array?s(r,a):1!==i&&2!==i||!a||"object"!=typeof a||("render"in a?t=a:n=a)}return new zt(e,n,r,t);function s(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];"string"==typeof i?e.push(new Et(i)):(i instanceof Et||i instanceof zt)&&e.push(i)}}}(function(e,t){function n(){this.constructor=e}Tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})((function(e,t,n){return At.call(this,e,t,[],n||void 0)||this}),At=zt),function(e){e.a=e.bind(void 0,"a"),e.abbr=e.bind(void 0,"abbr"),e.address=e.bind(void 0,"address"),e.area=e.bind(void 0,"area"),e.article=e.bind(void 0,"article"),e.aside=e.bind(void 0,"aside"),e.audio=e.bind(void 0,"audio"),e.b=e.bind(void 0,"b"),e.bdi=e.bind(void 0,"bdi"),e.bdo=e.bind(void 0,"bdo"),e.blockquote=e.bind(void 0,"blockquote"),e.br=e.bind(void 0,"br"),e.button=e.bind(void 0,"button"),e.canvas=e.bind(void 0,"canvas"),e.caption=e.bind(void 0,"caption"),e.cite=e.bind(void 0,"cite"),e.code=e.bind(void 0,"code"),e.col=e.bind(void 0,"col"),e.colgroup=e.bind(void 0,"colgroup"),e.data=e.bind(void 0,"data"),e.datalist=e.bind(void 0,"datalist"),e.dd=e.bind(void 0,"dd"),e.del=e.bind(void 0,"del"),e.dfn=e.bind(void 0,"dfn"),e.div=e.bind(void 0,"div"),e.dl=e.bind(void 0,"dl"),e.dt=e.bind(void 0,"dt"),e.em=e.bind(void 0,"em"),e.embed=e.bind(void 0,"embed"),e.fieldset=e.bind(void 0,"fieldset"),e.figcaption=e.bind(void 0,"figcaption"),e.figure=e.bind(void 0,"figure"),e.footer=e.bind(void 0,"footer"),e.form=e.bind(void 0,"form"),e.h1=e.bind(void 0,"h1"),e.h2=e.bind(void 0,"h2"),e.h3=e.bind(void 0,"h3"),e.h4=e.bind(void 0,"h4"),e.h5=e.bind(void 0,"h5"),e.h6=e.bind(void 0,"h6"),e.header=e.bind(void 0,"header"),e.hr=e.bind(void 0,"hr"),e.i=e.bind(void 0,"i"),e.iframe=e.bind(void 0,"iframe"),e.img=e.bind(void 0,"img"),e.input=e.bind(void 0,"input"),e.ins=e.bind(void 0,"ins"),e.kbd=e.bind(void 0,"kbd"),e.label=e.bind(void 0,"label"),e.legend=e.bind(void 0,"legend"),e.li=e.bind(void 0,"li"),e.main=e.bind(void 0,"main"),e.map=e.bind(void 0,"map"),e.mark=e.bind(void 0,"mark"),e.meter=e.bind(void 0,"meter"),e.nav=e.bind(void 0,"nav"),e.noscript=e.bind(void 0,"noscript"),e.object=e.bind(void 0,"object"),e.ol=e.bind(void 0,"ol"),e.optgroup=e.bind(void 0,"optgroup"),e.option=e.bind(void 0,"option"),e.output=e.bind(void 0,"output"),e.p=e.bind(void 0,"p"),e.param=e.bind(void 0,"param"),e.pre=e.bind(void 0,"pre"),e.progress=e.bind(void 0,"progress"),e.q=e.bind(void 0,"q"),e.rp=e.bind(void 0,"rp"),e.rt=e.bind(void 0,"rt"),e.ruby=e.bind(void 0,"ruby"),e.s=e.bind(void 0,"s"),e.samp=e.bind(void 0,"samp"),e.section=e.bind(void 0,"section"),e.select=e.bind(void 0,"select"),e.small=e.bind(void 0,"small"),e.source=e.bind(void 0,"source"),e.span=e.bind(void 0,"span"),e.strong=e.bind(void 0,"strong"),e.sub=e.bind(void 0,"sub"),e.summary=e.bind(void 0,"summary"),e.sup=e.bind(void 0,"sup"),e.table=e.bind(void 0,"table"),e.tbody=e.bind(void 0,"tbody"),e.td=e.bind(void 0,"td"),e.textarea=e.bind(void 0,"textarea"),e.tfoot=e.bind(void 0,"tfoot"),e.th=e.bind(void 0,"th"),e.thead=e.bind(void 0,"thead"),e.time=e.bind(void 0,"time"),e.title=e.bind(void 0,"title"),e.tr=e.bind(void 0,"tr"),e.track=e.bind(void 0,"track"),e.u=e.bind(void 0,"u"),e.ul=e.bind(void 0,"ul"),e.var_=e.bind(void 0,"var"),e.video=e.bind(void 0,"video"),e.wbr=e.bind(void 0,"wbr")}(Pt||(Pt={})),function(e){e.realize=function(e){return Ct.createDOMNode(e)},e.render=function(e,t){var n=Ct.hostMap.get(t)||[],r=Ct.asContentArray(e);Ct.hostMap.set(t,r),Ct.updateContent(t,n,r)}}(St||(St={})),function(e){function t(e){var n=arguments[1]||null,r=arguments[2]||null;if(n)n.insertBefore(t(e),r);else{if("text"===e.type)return document.createTextNode(e.content);if(i(n=document.createElement(e.tag),e.attrs),e.renderer)return e.renderer.render(n,{attrs:e.attrs,children:e.children}),n;for(var o=0,a=e.children.length;o<a;++o)t(e.children[o],n)}return n}function n(e,t,r,i){for(var o=t.length-1;o>=r;--o){var a=t[o],s=i?e.lastChild:e.childNodes[o];"text"===a.type||(a.renderer&&a.renderer.unrender?a.renderer.unrender(s,{attrs:a.attrs,children:a.children}):n(s,a.children,0,!1)),i&&e.removeChild(s)}}e.hostMap=new WeakMap,e.asContentArray=function(e){return e?e instanceof Array?e:[e]:[]},e.createDOMNode=t,e.updateContent=function e(r,i,a){if(i!==a){for(var s=function(e,t){for(var n=e.firstChild,r=Object.create(null),i=0,o=t;i<o.length;i++){var a=o[i];"element"===a.type&&a.attrs.key&&(r[a.attrs.key]={vNode:a,element:n}),n=n.nextSibling}return r}(r,i),c=i.slice(),l=r.firstChild,u=a.length,d=0;d<u;++d)if(d>=c.length)t(a[d],r);else{var f=c[d],h=a[d];if(f!==h)if("text"!==f.type||"text"!==h.type)if("text"!==f.type&&"text"!==h.type)if(!f.renderer==!h.renderer){var p=h.attrs.key;if(p&&p in s){var g=s[p];g.vNode!==f&&(Ae.move(c,c.indexOf(g.vNode,d+1),d),r.insertBefore(g.element,l),f=g.vNode,l=g.element)}if(f!==h){var m=f.attrs.key;m&&m!==p?(Ae.insert(c,d,h),t(h,r,l)):f.tag===h.tag?(o(l,f.attrs,h.attrs),h.renderer?h.renderer.render(l,{attrs:h.attrs,children:h.children}):e(l,f.children,h.children),l=l.nextSibling):(Ae.insert(c,d,h),t(h,r,l))}else l=l.nextSibling}else Ae.insert(c,d,h),t(h,r,l);else Ae.insert(c,d,h),t(h,r,l);else l.textContent=h.content,l=l.nextSibling;else l=l.nextSibling}n(r,c,u,!0)}};var r={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function i(e,t){for(var n in t)n in r||("on"===n.substr(0,2)?e[n]=t[n]:e.setAttribute(n,t[n]));void 0!==t.className&&e.setAttribute("class",t.className),void 0!==t.htmlFor&&e.setAttribute("for",t.htmlFor),t.dataset&&function(e,t){for(var n in t)e.setAttribute("data-"+n,t[n])}(e,t.dataset),t.style&&function(e,t){var n,r=e.style;for(n in t)r[n]=t[n]}(e,t.style)}function o(e,t,n){if(t!==n){var i;for(i in t)i in r||i in n||("on"===i.substr(0,2)?e[i]=null:e.removeAttribute(i));for(i in n)i in r||t[i]===n[i]||("on"===i.substr(0,2)?e[i]=n[i]:e.setAttribute(i,n[i]));t.className!==n.className&&(void 0!==n.className?e.setAttribute("class",n.className):e.removeAttribute("class")),t.htmlFor!==n.htmlFor&&(void 0!==n.htmlFor?e.setAttribute("for",n.htmlFor):e.removeAttribute("for")),t.dataset!==n.dataset&&function(e,t,n){for(var r in t)r in n||e.removeAttribute("data-"+r);for(var i in n)t[i]!==n[i]&&e.setAttribute("data-"+i,n[i])}(e,t.dataset||{},n.dataset||{}),t.style!==n.style&&function(e,t,n){var r,i=e.style;for(r in t)r in n||(i[r]="");for(r in n)t[r]!==n[r]&&(i[r]=n[r])}(e,t.style||{},n.style||{})}}}(Ct||(Ct={}));var It,Dt=function(){function e(e){var t=this;this._onScrollFrame=function(){if(t._scrollTarget){var e=t._scrollTarget,n=e.element,r=e.edge,i=e.distance,o=It.SCROLL_EDGE_SIZE-i,a=Math.pow(o/It.SCROLL_EDGE_SIZE,2),s=Math.max(1,Math.round(a*It.SCROLL_EDGE_SIZE));switch(r){case"top":n.scrollTop-=s;break;case"left":n.scrollLeft-=s;break;case"right":n.scrollLeft+=s;break;case"bottom":n.scrollTop+=s}requestAnimationFrame(t._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return e.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=It.createMouseEvent("mouseup",-1,-1);It.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.start=function(e,t){var n=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise((function(e,t){n._resolve=e}));var r=It.createMouseEvent("mousemove",e,t);return document.dispatchEvent(r),this._promise},e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation()}},e.prototype.moveDragImage=function(e,t){if(this.dragImage){var n=this.dragImage.style;n.top=t+"px",n.left=e+"px"}},e.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)},e.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),0===e.button)if(this._updateCurrentTarget(e),this._currentTarget){if("none"===this._dropAction)return It.dispatchDragLeave(this,this._currentTarget,null,e),void this._finalize("none");var t=It.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}else this._finalize("none")},e.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.dispose()},e.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},e.prototype._updateDragScroll=function(e){var t=It.findScrollTarget(e);(this._scrollTarget||t)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)},e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget,n=this._currentTarget,r=this._currentElement,i=document.elementFromPoint(e.clientX,e.clientY);this._currentElement=i,i!==r&&i!==n&&It.dispatchDragExit(this,n,i,e),i!==r&&i!==n&&(n=It.dispatchDragEnter(this,i,n,e)),n!==t&&(this._currentTarget=n,It.dispatchDragLeave(this,t,n,e));var o=It.dispatchDragOver(this,n,e);this._setDropAction(o)},e.prototype._attachDragImage=function(e,t){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.top=t+"px",n.left=e+"px",document.body.appendChild(this.dragImage)}},e.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},e.prototype._setDropAction=function(t){if(t=It.validateAction(t,this.supportedActions),!this._override||this._dropAction!==t)switch(t){case"none":this._dropAction=t,this._override=e.overrideCursor("no-drop");break;case"copy":this._dropAction=t,this._override=e.overrideCursor("copy");break;case"link":this._dropAction=t,this._override=e.overrideCursor("alias");break;case"move":this._dropAction=t,this._override=e.overrideCursor("move")}},e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)},e}();!function(e){e.overrideCursor=function(e){var n=++t;return document.body.style.cursor=e,document.body.classList.add("lm-mod-override-cursor"),document.body.classList.add("p-mod-override-cursor"),new mt((function(){n===t&&(document.body.style.cursor="",document.body.classList.remove("lm-mod-override-cursor"),document.body.classList.remove("p-mod-override-cursor"))}))};var t=0}(Dt||(Dt={})),function(e){e.SCROLL_EDGE_SIZE=20,e.validateAction=function(e,r){return t[e]&n[r]?e:"none"},e.createMouseEvent=function(e,t,n){var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,!0,!0,window,0,0,0,t,n,!1,!1,!1,!1,0,null),r},e.findScrollTarget=function(t){for(var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);i;i=i.parentElement){var o=i.hasAttribute("data-lm-dragscroll");if(o=o||i.hasAttribute("data-p-dragscroll")){var a=0,s=0;i===document.body&&(a=window.pageXOffset,s=window.pageYOffset);var c=i.getBoundingClientRect(),l=c.top+s,u=c.left+a,d=u+c.width,f=l+c.height;if(!(n<u||n>=d||r<l||r>=f)){var h=n-u+1,p=r-l+1,g=d-n,m=f-r,b=Math.min(h,p,g,m);if(!(b>e.SCROLL_EDGE_SIZE)){var v=void 0;switch(b){case m:v="bottom";break;case p:v="top";break;case g:v="right";break;case h:v="left";break;default:throw"unreachable"}var _=i.scrollWidth-i.clientWidth,y=i.scrollHeight-i.clientHeight,w=void 0;switch(v){case"top":w=y>0&&i.scrollTop>0;break;case"left":w=_>0&&i.scrollLeft>0;break;case"right":w=_>0&&i.scrollLeft<_;break;case"bottom":w=y>0&&i.scrollTop<y;break;default:throw"unreachable"}if(w)return{element:i,edge:v,distance:b}}}}}return null},e.dispatchDragEnter=function(e,t,n,i){if(!t)return null;var o=r("lm-dragenter",e,i,n),a=!t.dispatchEvent(o);return a?t:(o=r("p-dragenter",e,i,n),(a=!t.dispatchEvent(o))?t:t===document.body?n:(o=r("lm-dragenter",e,i,n),document.body.dispatchEvent(o),o=r("p-dragenter",e,i,n),document.body.dispatchEvent(o),document.body))},e.dispatchDragExit=function(e,t,n,i){if(t){var o=r("lm-dragexit",e,i,n);t.dispatchEvent(o),o=r("p-dragexit",e,i,n),t.dispatchEvent(o)}},e.dispatchDragLeave=function(e,t,n,i){if(t){var o=r("lm-dragleave",e,i,n);t.dispatchEvent(o),o=r("p-dragleave",e,i,n),t.dispatchEvent(o)}},e.dispatchDragOver=function(e,t,n){if(!t)return"none";var i=r("lm-dragover",e,n,null),o=!t.dispatchEvent(i);return o?i.dropAction:(i=r("p-dragover",e,n,null),(o=!t.dispatchEvent(i))?i.dropAction:"none")},e.dispatchDrop=function(e,t,n){if(!t)return"none";var i=r("lm-drop",e,n,null),o=!t.dispatchEvent(i);return o?i.dropAction:(i=r("p-drop",e,n,null),(o=!t.dispatchEvent(i))?i.dropAction:"none")};var t={none:0,copy:1,link:2,move:4},n={none:t.none,copy:t.copy,link:t.link,move:t.move,"copy-link":t.copy|t.link,"copy-move":t.copy|t.move,"link-move":t.link|t.move,all:t.copy|t.link|t.move};function r(e,t,n,r){var i=document.createEvent("MouseEvent");return i.initMouseEvent(e,!0,!0,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,r),i.dropAction="none",i.mimeData=t.mimeData,i.proposedAction=t.proposedAction,i.supportedActions=t.supportedActions,i.source=t.source,i}}(It||(It={}));var Lt,Nt=function(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1};!function(e){e.calc=function(e,t){var n=e.length;if(0===n)return t;for(var r=0,i=0,o=0,a=0,s=0,c=0;c<n;++c){var l=(v=e[c]).minSize,u=v.maxSize,d=v.sizeHint;v.done=!1,v.size=Math.max(l,Math.min(d,u)),o+=v.size,r+=l,i+=u,v.stretch>0&&(a+=v.stretch,s++)}if(t===o)return 0;if(t<=r){for(c=0;c<n;++c)(v=e[c]).size=v.minSize;return t-r}if(t>=i){for(c=0;c<n;++c)(v=e[c]).size=v.maxSize;return t-i}var f=.01,h=n;if(t<o){for(var p=o-t;s>0&&p>f;){var g=p,m=a;for(c=0;c<n;++c)if(!(v=e[c]).done&&0!==v.stretch){var b=v.stretch*g/m;v.size-b<=v.minSize?(p-=v.size-v.minSize,a-=v.stretch,v.size=v.minSize,v.done=!0,h--,s--):(p-=b,v.size-=b)}}for(;h>0&&p>f;)for(b=p/h,c=0;c<n;++c)(v=e[c]).done||(v.size-b<=v.minSize?(p-=v.size-v.minSize,v.size=v.minSize,v.done=!0,h--):(p-=b,v.size-=b))}else{for(p=t-o;s>0&&p>f;)for(g=p,m=a,c=0;c<n;++c)(v=e[c]).done||0===v.stretch||(b=v.stretch*g/m,v.size+b>=v.maxSize?(p-=v.maxSize-v.size,a-=v.stretch,v.size=v.maxSize,v.done=!0,h--,s--):(p-=b,v.size+=b));for(;h>0&&p>f;)for(b=p/h,c=0;c<n;++c){var v;(v=e[c]).done||(v.size+b>=v.maxSize?(p-=v.maxSize-v.size,v.size=v.maxSize,v.done=!0,h--):(p-=b,v.size+=b))}}return 0},e.adjust=function(e,t,n){0!==e.length&&0!==n&&(n>0?function(e,t,n){for(var r=0,i=0;i<=t;++i)r+=(l=e[i]).maxSize-l.size;for(var o=0,a=(i=t+1,e.length);i<a;++i)o+=(l=e[i]).size-l.minSize;var s=n=Math.min(n,r,o);for(i=t;i>=0&&s>0;--i)(u=(l=e[i]).maxSize-l.size)>=s?(l.sizeHint=l.size+s,s=0):(l.sizeHint=l.size+u,s-=u);var c=n;for(i=t+1,a=e.length;i<a&&c>0;++i){var l,u;(u=(l=e[i]).size-l.minSize)>=c?(l.sizeHint=l.size-c,c=0):(l.sizeHint=l.size-u,c-=u)}}(e,t,n):function(e,t,n){for(var r=0,i=t+1,o=e.length;i<o;++i)r+=(l=e[i]).maxSize-l.size;var a=0;for(i=0;i<=t;++i)a+=(l=e[i]).size-l.minSize;var s=n=Math.min(n,r,a);for(i=t+1,o=e.length;i<o&&s>0;++i)(u=(l=e[i]).maxSize-l.size)>=s?(l.sizeHint=l.size+s,s=0):(l.sizeHint=l.size+u,s-=u);var c=n;for(i=t;i>=0&&c>0;--i){var l,u;(u=(l=e[i]).size-l.minSize)>=c?(l.sizeHint=l.size-c,c=0):(l.sizeHint=l.size-u,c-=u)}}(e,t,-n))}}(Lt||(Lt={}));var Ot=function(e,t){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Bt(e,t){function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Vt,Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jt=function(){function e(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new ut(this),this.owner=e.owner,void 0!==e.label&&(this._label=e.label),void 0!==e.mnemonic&&(this._mnemonic=e.mnemonic),void 0!==e.icon?"string"==typeof e.icon?(this._icon=null,this._iconClass=e.icon):this._icon=e.icon:this._icon=null,void 0!==e.iconClass&&(this._iconClass=e.iconClass),void 0!==e.iconLabel&&(this._iconLabel=e.iconLabel),void 0!==e.iconRenderer&&(this._icon=e.iconRenderer),void 0!==e.caption&&(this._caption=e.caption),void 0!==e.className&&(this._className=e.className),void 0!==e.closable&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return null===this._icon?this.iconClass:this._icon},set:function(e){if("string"==typeof e)this._icon=null,this.iconClass=e;else{if(this._icon===e)return;this._icon=e,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(e){this.icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),e}(),Ft=function(){function e(e){void 0===e&&(e={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new ut(this),this.node=Vt.createNode(e),this.addClass("lm-Widget"),this.addClass("p-Widget")}return e.prototype.dispose=function(){this.isDisposed||(this.setFlag(e.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&e.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),ut.clearData(this),nt.clearData(this),st.clearData(this))},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.testFlag(e.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.testFlag(e.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.testFlag(e.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.testFlag(e.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return Vt.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(t&&this.contains(t))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-removed",this);nt.sendMessage(this._parent,n)}this._parent=t,this._parent&&!this._parent.isDisposed&&(n=new e.ChildMessage("child-added",this),nt.sendMessage(this._parent,n)),this.isDisposed||nt.sendMessage(this,e.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){if(this._layout!==t){if(this.testFlag(e.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(t.parent)throw new Error("Cannot change layout parent.");this._layout=t,t.parent=this}},enumerable:!0,configurable:!0}),e.prototype.children=function(){return this._layout?this._layout.iter():Ne()},e.prototype.contains=function(e){for(var t=e;t;t=t._parent)if(t===this)return!0;return!1},e.prototype.hasClass=function(e){return this.node.classList.contains(e)},e.prototype.addClass=function(e){this.node.classList.add(e)},e.prototype.removeClass=function(e){this.node.classList.remove(e)},e.prototype.toggleClass=function(e,t){return!0===t?(this.node.classList.add(e),!0):!1===t?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},e.prototype.update=function(){nt.postMessage(this,e.Msg.UpdateRequest)},e.prototype.fit=function(){nt.postMessage(this,e.Msg.FitRequest)},e.prototype.activate=function(){nt.postMessage(this,e.Msg.ActivateRequest)},e.prototype.close=function(){nt.sendMessage(this,e.Msg.CloseRequest)},e.prototype.show=function(){if(this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||nt.sendMessage(this,e.Msg.BeforeShow),this.clearFlag(e.Flag.IsHidden),this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||nt.sendMessage(this,e.Msg.AfterShow),this.parent)){var t=new e.ChildMessage("child-shown",this);nt.sendMessage(this.parent,t)}},e.prototype.hide=function(){if(!this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||nt.sendMessage(this,e.Msg.BeforeHide),this.setFlag(e.Flag.IsHidden),this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||nt.sendMessage(this,e.Msg.AfterHide),this.parent)){var t=new e.ChildMessage("child-hidden",this);nt.sendMessage(this.parent,t)}},e.prototype.setHidden=function(e){e?this.hide():this.show()},e.prototype.testFlag=function(e){return 0!=(this._flags&e)},e.prototype.setFlag=function(e){this._flags|=e},e.prototype.clearFlag=function(e){this._flags&=~e},e.prototype.processMessage=function(t){switch(t.type){case"resize":this.notifyLayout(t),this.onResize(t);break;case"update-request":this.notifyLayout(t),this.onUpdateRequest(t);break;case"fit-request":this.notifyLayout(t),this.onFitRequest(t);break;case"before-show":this.notifyLayout(t),this.onBeforeShow(t);break;case"after-show":this.setFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterShow(t);break;case"before-hide":this.notifyLayout(t),this.onBeforeHide(t);break;case"after-hide":this.clearFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterHide(t);break;case"before-attach":this.notifyLayout(t),this.onBeforeAttach(t);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(e.Flag.IsVisible),this.setFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterAttach(t);break;case"before-detach":this.notifyLayout(t),this.onBeforeDetach(t);break;case"after-detach":this.clearFlag(e.Flag.IsVisible),this.clearFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterDetach(t);break;case"activate-request":this.notifyLayout(t),this.onActivateRequest(t);break;case"close-request":this.notifyLayout(t),this.onCloseRequest(t);break;case"child-added":this.notifyLayout(t),this.onChildAdded(t);break;case"child-removed":this.notifyLayout(t),this.onChildRemoved(t);break;default:this.notifyLayout(t)}},e.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},e.prototype.onCloseRequest=function(t){this.parent?this.parent=null:this.isAttached&&e.detach(this)},e.prototype.onResize=function(e){},e.prototype.onUpdateRequest=function(e){},e.prototype.onFitRequest=function(e){},e.prototype.onActivateRequest=function(e){},e.prototype.onBeforeShow=function(e){},e.prototype.onAfterShow=function(e){},e.prototype.onBeforeHide=function(e){},e.prototype.onAfterHide=function(e){},e.prototype.onBeforeAttach=function(e){},e.prototype.onAfterAttach=function(e){},e.prototype.onBeforeDetach=function(e){},e.prototype.onAfterDetach=function(e){},e.prototype.onChildAdded=function(e){},e.prototype.onChildRemoved=function(e){},e}();!function(e){var t,n;(n=e.Flag||(e.Flag={}))[n.IsDisposed=1]="IsDisposed",n[n.IsAttached=2]="IsAttached",n[n.IsHidden=4]="IsHidden",n[n.IsVisible=8]="IsVisible",n[n.DisallowLayout=16]="DisallowLayout",(t=e.Msg||(e.Msg={})).BeforeShow=new it("before-show"),t.AfterShow=new it("after-show"),t.BeforeHide=new it("before-hide"),t.AfterHide=new it("after-hide"),t.BeforeAttach=new it("before-attach"),t.AfterAttach=new it("after-attach"),t.BeforeDetach=new it("before-detach"),t.AfterDetach=new it("after-detach"),t.ParentChanged=new it("parent-changed"),t.UpdateRequest=new ot("update-request"),t.FitRequest=new ot("fit-request"),t.ActivateRequest=new ot("activate-request"),t.CloseRequest=new ot("close-request");var r=function(e){function t(t,n){var r=e.call(this,t)||this;return r.child=n,r}return Bt(t,e),t}(it);e.ChildMessage=r;var i=function(e){function t(t,n){var r=e.call(this,"resize")||this;return r.width=t,r.height=n,r}return Bt(t,e),t}(it);e.ResizeMessage=i,function(e){e.UnknownSize=new e(-1,-1)}(i=e.ResizeMessage||(e.ResizeMessage={})),e.attach=function(t,n,r){if(void 0===r&&(r=null),t.parent)throw new Error("Cannot attach a child widget.");if(t.isAttached||document.body.contains(t.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");nt.sendMessage(t,e.Msg.BeforeAttach),n.insertBefore(t.node,r),nt.sendMessage(t,e.Msg.AfterAttach)},e.detach=function(t){if(t.parent)throw new Error("Cannot detach a child widget.");if(!t.isAttached||!document.body.contains(t.node))throw new Error("Widget is not attached.");nt.sendMessage(t,e.Msg.BeforeDetach),t.node.parentNode.removeChild(t.node),nt.sendMessage(t,e.Msg.AfterDetach)}}(Ft||(Ft={})),function(e){e.titleProperty=new st({name:"title",create:function(e){return new jt({owner:e})}}),e.createNode=function(e){return e.node||document.createElement("div")}}(Vt||(Vt={}));var Ht=function(){function e(e){void 0===e&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return e.prototype.dispose=function(){this._parent=null,this._disposed=!0,ut.clearData(this),st.clearData(this)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),e.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e)}},e.prototype.init=function(){var e=this;ze(this,(function(t){t.parent=e.parent}))},e.prototype.onResize=function(e){ze(this,(function(e){nt.sendMessage(e,Ft.ResizeMessage.UnknownSize)}))},e.prototype.onUpdateRequest=function(e){ze(this,(function(e){nt.sendMessage(e,Ft.ResizeMessage.UnknownSize)}))},e.prototype.onBeforeAttach=function(e){ze(this,(function(t){nt.sendMessage(t,e)}))},e.prototype.onAfterAttach=function(e){ze(this,(function(t){nt.sendMessage(t,e)}))},e.prototype.onBeforeDetach=function(e){ze(this,(function(t){nt.sendMessage(t,e)}))},e.prototype.onAfterDetach=function(e){ze(this,(function(t){nt.sendMessage(t,e)}))},e.prototype.onBeforeShow=function(e){ze(this,(function(t){t.isHidden||nt.sendMessage(t,e)}))},e.prototype.onAfterShow=function(e){ze(this,(function(t){t.isHidden||nt.sendMessage(t,e)}))},e.prototype.onBeforeHide=function(e){ze(this,(function(t){t.isHidden||nt.sendMessage(t,e)}))},e.prototype.onAfterHide=function(e){ze(this,(function(t){t.isHidden||nt.sendMessage(t,e)}))},e.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},e.prototype.onFitRequest=function(e){},e.prototype.onChildShown=function(e){},e.prototype.onChildHidden=function(e){},e}();!function(e){e.getHorizontalAlignment=function(e){return Wt.horizontalAlignmentProperty.get(e)},e.setHorizontalAlignment=function(e,t){Wt.horizontalAlignmentProperty.set(e,t)},e.getVerticalAlignment=function(e){return Wt.verticalAlignmentProperty.get(e)},e.setVerticalAlignment=function(e,t){Wt.verticalAlignmentProperty.set(e,t)}}(Ht||(Ht={}));var Wt,Ut=function(){function e(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),e.prototype.fit=function(){var e=qe.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},e.prototype.update=function(e,t,n,r){var i=Math.max(this._minWidth,Math.min(n,this._maxWidth)),o=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(i<n)switch(Ht.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-i)/2;break;case"right":e+=n-i;break;default:throw"unreachable"}if(o<r)switch(Ht.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(r-o)/2;break;case"bottom":t+=r-o;break;default:throw"unreachable"}var a=!1,s=this.widget.node.style;if(this._top!==t&&(this._top=t,s.top=t+"px"),this._left!==e&&(this._left=e,s.left=e+"px"),this._width!==i&&(a=!0,this._width=i,s.width=i+"px"),this._height!==o&&(a=!0,this._height=o,s.height=o+"px"),a){var c=new Ft.ResizeMessage(i,o);nt.sendMessage(this.widget,c)}},e}();!function(e){function t(e){e.parent&&e.parent.layout&&e.parent.update()}e.horizontalAlignmentProperty=new st({name:"horizontalAlignment",create:function(){return"center"},changed:t}),e.verticalAlignmentProperty=new st({name:"verticalAlignment",create:function(){return"top"},changed:t})}(Wt||(Wt={}));var Yt,qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widgets=[],t}return Bt(t,e),t.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return Ee(this._widgets)},t.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},t.prototype.insertWidget=function(e,t){t.parent=this.parent;var n=this._widgets.indexOf(t),r=Math.max(0,Math.min(e,this._widgets.length));if(-1===n)return Ae.insert(this._widgets,r,t),void(this.parent&&this.attachWidget(r,t));r===this._widgets.length&&r--,n!==r&&(Ae.move(this._widgets,n,r),this.parent&&this.moveWidget(n,r,t))},t.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},t.prototype.removeWidgetAt=function(e){var t=Ae.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),ze(this,(function(e,n){t.attachWidget(n,e)}))},t.prototype.attachWidget=function(e,t){var n=this.parent.node.children[e];this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,n),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterAttach)},t.prototype.moveWidget=function(e,t,n){this.parent.isAttached&&nt.sendMessage(n,Ft.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&nt.sendMessage(n,Ft.Msg.AfterDetach);var r=this.parent.node.children[t];this.parent.isAttached&&nt.sendMessage(n,Ft.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,r),this.parent.isAttached&&nt.sendMessage(n,Ft.Msg.AfterAttach)},t.prototype.detachWidget=function(e,t){this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterDetach)},t}(Ht),Zt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==t.direction&&(n._direction=t.direction),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=Yt.clampSpacing(t.spacing)),n}return Bt(t,e),t.prototype.dispose=function(){ze(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Yt.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){Ae.insert(this._items,e,new Ut(t)),Ae.insert(this._sizers,e,new Nt),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){Ae.move(this._items,e,t),Ae.move(this._sizers,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=Ae.removeAt(this._items,e);Ae.removeAt(this._sizers,e),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=0,r=this._items.length;n<r;++n)e+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,e-1);var i=Yt.isHorizontal(this._direction),o=i?this._fixed:0,a=i?0:this._fixed;for(n=0,r=this._items.length;n<r;++n){var s=this._items[n],c=this._sizers[n];s.isHidden?(c.minSize=0,c.maxSize=0):(s.fit(),c.sizeHint=t.getSizeBasis(s.widget),c.stretch=t.getStretch(s.widget),i?(c.minSize=s.minWidth,c.maxSize=s.maxWidth,o+=s.minWidth,a=Math.max(a,s.minHeight)):(c.minSize=s.minHeight,c.maxSize=s.maxHeight,a+=s.minHeight,o=Math.max(o,s.minWidth)))}var l=this._box=qe.boxSizing(this.parent.node);o+=l.horizontalSum,a+=l.verticalSum;var u=this.parent.node.style;u.minWidth=o+"px",u.minHeight=a+"px",this._dirty=!0,this.parent.parent&&nt.sendMessage(this.parent.parent,Ft.Msg.FitRequest),this._dirty&&nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,r=0,i=this._items.length;r<i;++r)n+=+!this._items[r].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=qe.boxSizing(this.parent.node));var o,a=this._box.paddingTop,s=this._box.paddingLeft,c=e-this._box.horizontalSum,l=t-this._box.verticalSum;switch(this._direction){case"left-to-right":o=Lt.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":o=Lt.calc(this._sizers,Math.max(0,l-this._fixed));break;case"right-to-left":o=Lt.calc(this._sizers,Math.max(0,c-this._fixed)),s+=c;break;case"bottom-to-top":o=Lt.calc(this._sizers,Math.max(0,l-this._fixed)),a+=l;break;default:throw"unreachable"}var u=0,d=0;if(o>0)switch(this._alignment){case"start":break;case"center":u=0,d=o/2;break;case"end":u=0,d=o;break;case"justify":u=o/n,d=0;break;default:throw"unreachable"}for(r=0,i=this._items.length;r<i;++r){var f=this._items[r];if(!f.isHidden){var h=this._sizers[r].size;switch(this._direction){case"left-to-right":f.update(s+d,a,h+u,l),s+=h+u+this._spacing;break;case"top-to-bottom":f.update(s,a+d,c,h+u),a+=h+u+this._spacing;break;case"right-to-left":f.update(s-d-h-u,a,h+u,l),s-=h+u+this._spacing;break;case"bottom-to-top":f.update(s,a-d-h-u,c,h+u),a-=h+u+this._spacing;break;default:throw"unreachable"}}}}},t}(qt);!function(e){e.getStretch=function(e){return Yt.stretchProperty.get(e)},e.setStretch=function(e,t){Yt.stretchProperty.set(e,t)},e.getSizeBasis=function(e){return Yt.sizeBasisProperty.get(e)},e.setSizeBasis=function(e,t){Yt.sizeBasisProperty.set(e,t)}}(Zt||(Zt={})),function(e){function t(e){e.parent&&e.parent.layout instanceof Zt&&e.parent.fit()}e.stretchProperty=new st({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.sizeBasisProperty=new st({name:"sizeBasis",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.isHorizontal=function(e){return"left-to-right"===e||"right-to-left"===e},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))}}(Yt||(Yt={}));var Gt,$t=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.addClass("lm-Panel"),n.addClass("p-Panel"),n.layout=Gt.createLayout(t),n}return Bt(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.layout.addWidget(e)},t.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},t}(Ft);!function(e){e.createLayout=function(e){return e.layout||new qt}}(Gt||(Gt={}));var Xt,Kt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:Xt.createLayout(t)})||this;return n.addClass("lm-BoxPanel"),n.addClass("p-BoxPanel"),n}return Bt(t,e),Object.defineProperty(t.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child"),e.child.addClass("p-BoxPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child"),e.child.removeClass("p-BoxPanel-child")},t}($t);!function(e){e.getStretch=function(e){return Zt.getStretch(e)},e.setStretch=function(e,t){Zt.setStretch(e,t)},e.getSizeBasis=function(e){return Zt.getSizeBasis(e)},e.setSizeBasis=function(e,t){Zt.setSizeBasis(e,t)}}(Kt||(Kt={})),function(e){e.createLayout=function(e){return e.layout||new Zt(e)}}(Xt||(Xt={}));var Qt,Jt=function(e){function t(n){var r=e.call(this,{node:Qt.createNode()})||this;return r._activeIndex=-1,r._items=[],r._results=null,r.addClass("lm-CommandPalette"),r.addClass("p-CommandPalette"),r.setFlag(Ft.Flag.DisallowLayout),r.commands=n.commands,r.renderer=n.renderer||t.defaultRenderer,r.commands.commandChanged.connect(r._onGenericChange,r),r.commands.keyBindingChanged.connect(r._onGenericChange,r),r}return Bt(t,e),t.prototype.dispose=function(){this._items.length=0,this._results=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.addItem=function(e){var t=Qt.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},t.prototype.addItems=function(e){var t=this,n=e.map((function(e){return Qt.createItem(t.commands,e)}));return n.forEach((function(e){return t._items.push(e)})),this.refresh(),n},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){Ae.removeAt(this._items,e)&&this.refresh()},t.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},t.prototype.refresh=function(){this._results=null,""!==this.inputNode.value?this.node.getElementsByClassName("lm-close-icon")[0].style.display="inherit":this.node.getElementsByClassName("lm-close-icon")[0].style.display="none",this.update()},t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},t.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},t.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,n=this.contentNode,r=this._results;if(r||(r=this._results=Qt.search(this._items,t),this._activeIndex=t?Ae.findFirstIndex(r,Qt.canActivate):-1),t||0!==r.length)if(t&&0===r.length){var i=this.renderer.renderEmptyMessage({query:t});St.render(i,n)}else{for(var o=this.renderer,a=this._activeIndex,s=new Array(r.length),c=0,l=r.length;c<l;++c){var u=r[c];if("header"===u.type){var d=u.indices,f=u.category;s[c]=o.renderHeader({category:f,indices:d})}else{var h=u.item,p=(d=u.indices,c===a);s[c]=o.renderItem({item:h,indices:d,active:p})}}if(St.render(s,n),a<0||a>=r.length)n.scrollTop=0;else{var g=n.children[a];qe.scrollIntoViewIfNeeded(n,g)}}else St.render(null,n)},t.prototype._evtClick=function(e){if(0===e.button){if(e.target.classList.contains("lm-close-icon"))return this.inputNode.value="",void this.refresh();var t=Ae.findFirstIndex(this.contentNode.children,(function(t){return t.contains(e.target)}));-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},t.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem()}},t.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<t-1?e+1:0,r=0===n?t-1:n-1;this._activeIndex=Ae.findFirstIndex(this._results,Qt.canActivate,n,r),this.update()}},t.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<=0?t-1:e-1,r=n===t-1?0:n+1;this._activeIndex=Ae.findLastIndex(this._results,Qt.canActivate,n,r),this.update()}},t.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if("header"===t.type){var n=this.inputNode;return n.value=t.category.toLowerCase()+" ",n.focus(),void this.refresh()}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},t.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e),this.toggleClass("p-mod-focused",e)},t.prototype._onGenericChange=function(){this.refresh()},t}(Ft);!function(e){var t=function(){function e(){}return e.prototype.renderHeader=function(e){var t=this.formatHeader(e);return Pt.li({className:"lm-CommandPalette-header p-CommandPalette-header"},t)},e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return Pt.li({className:t,dataset:n},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e))},e.prototype.renderEmptyMessage=function(e){var t=this.formatEmptyMessage(e);return Pt.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},t)},e.prototype.renderItemIcon=function(e){var t=this.createIconClass(e);return"string"==typeof e.item.icon?Pt.div({className:t},e.item.iconLabel):Pt.div({className:t},e.item.icon,e.item.iconLabel)},e.prototype.renderItemContent=function(e){return Pt.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(e),this.renderItemCaption(e))},e.prototype.renderItemLabel=function(e){var t=this.formatItemLabel(e);return Pt.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},t)},e.prototype.renderItemCaption=function(e){var t=this.formatItemCaption(e);return Pt.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},t)},e.prototype.renderItemShortcut=function(e){var t=this.formatItemShortcut(e);return Pt.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},t)},e.prototype.createItemClass=function(e){var t="lm-CommandPalette-item";t+=" p-CommandPalette-item",e.item.isEnabled||(t+=" lm-mod-disabled",t+=" p-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled",t+=" p-mod-toggled"),e.active&&(t+=" lm-mod-active",t+=" p-mod-active");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){return Rt(Rt({},e.item.dataset),{command:e.item.command})},e.prototype.createIconClass=function(e){var t="lm-CommandPalette-itemIcon";t+=" p-CommandPalette-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t},e.prototype.formatHeader=function(e){return e.indices&&0!==e.indices.length?Ue.highlight(e.category,e.indices,Pt.mark):e.category},e.prototype.formatEmptyMessage=function(e){return"No commands found that match '"+e.query+"'"},e.prototype.formatItemShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(Mt.formatKeystroke).join(", "):null},e.prototype.formatItemLabel=function(e){return e.indices&&0!==e.indices.length?Ue.highlight(e.item.label,e.indices,Pt.mark):e.item.label},e.prototype.formatItemCaption=function(e){return e.item.caption},e}();e.Renderer=t,e.defaultRenderer=new t}(Jt||(Jt={})),function(e){function t(e,t){for(var n=e.category.toLowerCase(),r=n+" "+e.label.toLowerCase(),i=1/0,o=null,a=/\b\w/g;;){var s=a.exec(r);if(!s)break;var c=Ue.matchSumOfDeltas(r,t,s.index);if(!c)break;c&&c.score<=i&&(i=c.score,o=c.indices)}if(!o||i===1/0)return null;for(var l=n.length+1,u=Ae.lowerBound(o,l,(function(e,t){return e-t})),d=o.slice(0,u),f=o.slice(u),h=0,p=f.length;h<p;++h)f[h]-=l;return 0===d.length?{matchType:0,categoryIndices:null,labelIndices:f,score:i,item:e}:0===f.length?{matchType:1,categoryIndices:d,labelIndices:null,score:i,item:e}:{matchType:2,categoryIndices:d,labelIndices:f,score:i,item:e}}function n(e,t){var n=e.matchType-t.matchType;if(0!==n)return n;var r=e.score-t.score;if(0!==r)return r;var i=0,o=0;switch(e.matchType){case 0:i=e.labelIndices[0],o=t.labelIndices[0];break;case 1:case 2:i=e.categoryIndices[0],o=t.categoryIndices[0]}if(i!==o)return i-o;var a=e.item.category.localeCompare(t.item.category);if(0!==a)return a;var s=e.item.rank,c=t.item.rank;return s!==c?s<c?-1:1:e.item.label.localeCompare(t.item.label)}e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("input"),i=document.createElement("ul"),o=document.createElement("button");return t.className="lm-CommandPalette-search",n.className="lm-CommandPalette-wrapper",r.className="lm-CommandPalette-input",o.className="lm-close-icon",i.className="lm-CommandPalette-content",t.classList.add("p-CommandPalette-search"),n.classList.add("p-CommandPalette-wrapper"),r.classList.add("p-CommandPalette-input"),i.classList.add("p-CommandPalette-content"),r.spellcheck=!1,n.appendChild(r),n.appendChild(o),t.appendChild(n),e.appendChild(t),e.appendChild(i),e},e.createItem=function(e,t){return new r(e,t)},e.search=function(e,r){var i=function(e,n){n=n.replace(/\s+/g,"").toLowerCase();for(var r=[],i=0,o=e.length;i<o;++i){var a=e[i];if(a.isVisible)if(n){var s=t(a,n);s&&(a.isEnabled||(s.score+=1e3),r.push(s))}else r.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:a})}return r}(e,r);return i.sort(n),function(e){var t=new Array(e.length);Ae.fill(t,!1);for(var n=[],r=0,i=e.length;r<i;++r)if(!t[r]){var o=e[r],a=o.item,s=o.categoryIndices,c=a.category;n.push({type:"header",category:c,indices:s});for(var l=r;l<i;++l)if(!t[l]){var u=e[l],d=u.item,f=u.labelIndices;d.category===c&&(n.push({type:"item",item:d,indices:f}),t[l]=!0)}}return n}(i)},e.canActivate=function(e){return"item"===e.type&&e.item.isEnabled};var r=function(){function e(e,t){this._commands=e,this.category=t.category.trim().replace(/\s+/g," "),this.command=t.command,this.args=t.args||lt.emptyObject,this.rank=void 0!==t.rank?t.rank:1/0}return Object.defineProperty(e.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){var e=this.command,t=this.args;return Ae.findLastValue(this._commands.keyBindings,(function(n){return n.command===e&&lt.deepEqual(n.args,t)}))||null},enumerable:!0,configurable:!0}),e}()}(Qt||(Qt={}));var en,tn,nn=function(e){function t(n){var r=e.call(this,{node:en.createNode()})||this;return r._childIndex=-1,r._activeIndex=-1,r._openTimerID=0,r._closeTimerID=0,r._items=[],r._childMenu=null,r._parentMenu=null,r._aboutToClose=new ut(r),r._menuRequested=new ut(r),r.addClass("lm-Menu"),r.addClass("p-Menu"),r.setFlag(Ft.Flag.DisallowLayout),r.commands=n.commands,r.renderer=n.renderer||t.defaultRenderer,r}return Bt(t,e),t.prototype.dispose=function(){this.close(),this._items.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),-1===e||en.canActivate(this._items[e])||(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,n=t<e-1?t+1:0,r=0===n?e-1:n-1;this.activeIndex=Ae.findFirstIndex(this._items,en.canActivate,n,r)},t.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,n=t<=0?e-1:t-1,r=n===e-1?0:n+1;this.activeIndex=Ae.findLastIndex(this._items,en.canActivate,n,r)},t.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==e.type){this.rootMenu.close();var t=e.command,n=e.args;this.commands.isEnabled(t,n)?this.commands.execute(t,n):console.log("Command '"+t+"' is disabled.")}else this._openChildMenu(!0)}},t.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},t.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(e,this._items.length)),r=en.createItem(this,t);return Ae.insert(this._items,n,r),this.update(),r},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1,Ae.removeAt(this._items,e)&&this.update()},t.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},t.prototype.open=function(e,t,n){if(void 0===n&&(n={}),!this.isAttached){var r=n.forceX||!1,i=n.forceY||!1;en.openRootMenu(this,e,t,r,i),this.activate()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._items,n=this.renderer,r=this._activeIndex,i=en.computeCollapsed(t),o=new Array(t.length),a=0,s=t.length;a<s;++a){var c=t[a],l=a===r,u=i[a];o[a]=n.renderItem({item:c,active:l,collapsed:u})}St.render(o,this.contentNode)},t.prototype.onCloseRequest=function(t){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),e.prototype.onCloseRequest.call(this,t)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t)if(27!==t)if(37!==t)if(38!==t)if(39!==t)if(40!==t){var n=_t().keyForKeydownEvent(e);if(n){var r=this._activeIndex+1,i=en.findMnemonic(this._items,n,r);-1===i.index||i.multiple?-1!==i.index?this.activeIndex=i.index:-1!==i.auto&&(this.activeIndex=i.auto):(this.activeIndex=i.index,this.triggerActiveItem())}}else this.activateNextItem();else{var o=this.activeItem;o&&"submenu"===o.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},t.prototype._evtMouseMove=function(e){var t=Ae.findFirstIndex(this.contentNode.children,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));if(t!==this._activeIndex){if(this.activeIndex=t,(t=this.activeIndex)===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},t.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},t.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),this._childMenu){var t=e.clientX,n=e.clientY;qe.hitTest(this._childMenu.node,t,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},t.prototype._evtMouseDown=function(e){this._parentMenu||(en.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},t.prototype._openChildMenu=function(e){void 0===e&&(e=!1);var t=this.activeItem;if(t&&"submenu"===t.type&&t.submenu){var n=t.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,nt.sendMessage(this,Ft.Msg.UpdateRequest);var r=this.contentNode.children[this._activeIndex];en.openSubmenu(n,r),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},t.prototype._startOpenTimer=function(){var e=this;0===this._openTimerID&&(this._openTimerID=window.setTimeout((function(){e._openTimerID=0,e._openChildMenu()}),en.TIMER_DELAY))},t.prototype._startCloseTimer=function(){var e=this;0===this._closeTimerID&&(this._closeTimerID=window.setTimeout((function(){e._closeTimerID=0,e._closeChildMenu()}),en.TIMER_DELAY))},t.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},t.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},t}(Ft);!function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e),r=this.createItemARIA(e);return Pt.li(Rt({className:t,dataset:n},r),this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return"string"==typeof e.item.icon?Pt.div({className:t},e.item.iconLabel):Pt.div({className:t},e.item.icon,e.item.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return Pt.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},t)},e.prototype.renderShortcut=function(e){var t=this.formatShortcut(e);return Pt.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},t)},e.prototype.renderSubmenu=function(e){return Pt.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(e){var t="lm-Menu-item";t+=" p-Menu-item",e.item.isEnabled||(t+=" lm-mod-disabled",t+=" p-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled",t+=" p-mod-toggled"),e.item.isVisible||(t+=" lm-mod-hidden",t+=" p-mod-hidden"),e.active&&(t+=" lm-mod-active",t+=" p-mod-active"),e.collapsed&&(t+=" lm-mod-collapsed",t+=" p-mod-collapsed");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){var t=e.item,n=t.type,r=t.command,i=t.dataset;return Rt(Rt({},i),"command"===n?{type:n,command:r}:{type:n})},e.prototype.createIconClass=function(e){var t="lm-Menu-itemIcon";t+=" p-Menu-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t},e.prototype.createItemARIA=function(e){var t={};switch(e.item.type){case"separator":t.role="presentation";break;case"submenu":t["aria-haspopup"]="true";break;default:t.role="menuitem"}return t},e.prototype.formatLabel=function(e){var t=e.item,n=t.label,r=t.mnemonic;if(r<0||r>=n.length)return n;var i=n.slice(0,r),o=n.slice(r+1),a=n[r];return[i,Pt.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},a),o]},e.prototype.formatShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(Mt.formatKeystroke).join(", "):null},e}();e.Renderer=t,e.defaultRenderer=new t}(nn||(nn={})),function(e){function t(e){return"separator"!==e.type&&e.isEnabled&&e.isVisible}e.TIMER_DELAY=300,e.SUBMENU_OVERLAP=3,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-Menu-content",t.classList.add("p-Menu-content"),e.appendChild(t),t.setAttribute("role","menu"),e.tabIndex=-1,e},e.canActivate=t,e.createItem=function(e,t){return new n(e.commands,t)},e.hitTestMenus=function(e,t,n){for(var r=e;r;r=r.childMenu)if(qe.hitTest(r.node,t,n))return!0;return!1},e.computeCollapsed=function(e){var t=new Array(e.length);Ae.fill(t,!1);for(var n=0,r=e.length;n<r;++n)if((a=e[n]).isVisible){if("separator"!==a.type)break;t[n]=!0}for(var i=r-1;i>=0;--i)if((a=e[i]).isVisible){if("separator"!==a.type)break;t[i]=!0}for(var o=!1;++n<i;){var a;(a=e[n]).isVisible&&("separator"!==a.type?o=!1:o?t[n]=!0:o=!0)}return t},e.openRootMenu=function(e,t,n,r,i){nt.sendMessage(e,Ft.Msg.UpdateRequest);var o=window.pageXOffset,a=window.pageYOffset,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=c-(i?n:0),u=e.node,d=u.style;d.top="",d.left="",d.width="",d.height="",d.visibility="hidden",d.maxHeight=l+"px",Ft.attach(e,document.body);var f=u.getBoundingClientRect(),h=f.width,p=f.height;!r&&t+h>o+s&&(t=o+s-h),!i&&n+p>a+c&&(n>a+c?n=a+c-p:n-=p),d.top=Math.max(0,n)+"px",d.left=Math.max(0,t)+"px",d.visibility=""},e.openSubmenu=function(t,n){nt.sendMessage(t,Ft.Msg.UpdateRequest);var r=window.pageXOffset,i=window.pageYOffset,o=document.documentElement.clientWidth,a=document.documentElement.clientHeight,s=a,c=t.node,l=c.style;l.top="",l.left="",l.width="",l.height="",l.visibility="hidden",l.maxHeight=s+"px",Ft.attach(t,document.body);var u=c.getBoundingClientRect(),d=u.width,f=u.height,h=qe.boxSizing(t.node),p=n.getBoundingClientRect(),g=p.right-e.SUBMENU_OVERLAP;g+d>r+o&&(g=p.left+e.SUBMENU_OVERLAP-d);var m=p.top-h.borderTop-h.paddingTop;m+f>i+a&&(m=p.bottom+h.borderBottom+h.paddingBottom-f),l.top=Math.max(0,m)+"px",l.left=Math.max(0,g)+"px",l.visibility=""},e.findMnemonic=function(e,n,r){for(var i=-1,o=-1,a=!1,s=n.toUpperCase(),c=0,l=e.length;c<l;++c){var u=(c+r)%l,d=e[u];if(t(d)){var f=d.label;if(0!==f.length){var h=d.mnemonic;h>=0&&h<f.length?f[h].toUpperCase()===s&&(-1===i?i=u:a=!0):-1===o&&f[0].toUpperCase()===s&&(o=u)}}}return{index:i,multiple:a,auto:o}};var n=function(){function e(e,t){this._commands=e,this.type=t.type||"command",this.command=t.command||"",this.args=t.args||lt.emptyObject,this.submenu=t.submenu||null}return Object.defineProperty(e.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return"command"===this.type?this._commands.icon(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){if("command"===this.type){var e=this.command,t=this.args;return Ae.findLastValue(this._commands.keyBindings,(function(n){return n.command===e&&lt.deepEqual(n.args,t)}))||null}return null},enumerable:!0,configurable:!0}),e}()}(en||(en={})),function(){function e(e){this._idTick=0,this._items=[],this.menu=new nn(e)}e.prototype.addItem=function(e){var t=this,n=tn.createItem(e,this._idTick++);return this._items.push(n),new mt((function(){Ae.removeFirstOf(t._items,n)}))},e.prototype.open=function(e){var t=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=tn.matchItems(this._items,e);return!(!n||0===n.length||(ze(n,(function(e){t.menu.addItem(e)})),this.menu.open(e.clientX,e.clientY),0))}}(),function(e){function t(e,t){var n=Ge.calculateSpecificity(e.selector),r=Ge.calculateSpecificity(t.selector);if(n!==r)return r-n;var i=e.rank,o=t.rank;return i!==o?i<o?-1:1:e.id-t.id}e.createItem=function(e,t){var n=function(e){if(-1!==e.indexOf(","))throw new Error("Selector cannot contain commas: "+e);if(!Ge.isValid(e))throw new Error("Invalid selector: "+e);return e}(e.selector),r=void 0!==e.rank?e.rank:1/0;return Rt(Rt({},e),{selector:n,rank:r,id:t})},e.matchItems=function(e,n){var r=n.target;if(!r)return null;var i=n.currentTarget;if(!i)return null;if(!(i.contains(r)||(r=document.elementFromPoint(n.clientX,n.clientY))&&i.contains(r)))return null;for(var o=[],a=e.slice();null!==r;){for(var s=[],c=0,l=a.length;c<l;++c){var u=a[c];u&&Ge.matches(r,u.selector)&&(s.push(u),a[c]=null)}if(0!==s.length&&(s.sort(t),o.push.apply(o,s)),r===i)break;r=r.parentElement}return o}}(tn||(tn={}));var rn,on=function(e){function t(t){var n=e.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=t.renderer,void 0!==t.spacing&&(n._spacing=rn.clampSpacing(t.spacing)),n}return Bt(t,e),t.prototype.dispose=function(){var t=this.iter();this._items.forEach((function(e){e.dispose()})),this._box=null,this._root=null,this._items.clear(),ze(t,(function(e){e.dispose()})),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=rn.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._root?this._root.iterAllWidgets():Ne()},t.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():Ne()},t.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():Ne()},t.prototype.tabBars=function(){return this._root?this._root.iterTabBars():Ne()},t.prototype.handles=function(){return this._root?this._root.iterHandles():Ne()},t.prototype.moveHandle=function(e,t,n){var r=e.classList.contains("lm-mod-hidden");if(r=r||e.classList.contains("p-mod-hidden"),this._root&&!r){var i,o=this._root.findSplitNode(e);o&&0!=(i="horizontal"===o.node.orientation?t-e.offsetLeft:n-e.offsetTop)&&(o.node.holdSizes(),Lt.adjust(o.node.sizers,o.index,i),this.parent&&this.parent.update())}},t.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},t.prototype.restoreLayout=function(e){var t,n=this,r=new Set;t=e.main?rn.normalizeAreaConfig(e.main,r):null;var i=this.widgets(),o=this.tabBars(),a=this.handles();this._root=null,ze(i,(function(e){r.has(e)||(e.parent=null)})),ze(o,(function(e){e.dispose()})),ze(a,(function(e){e.parentNode&&e.parentNode.removeChild(e)})),r.forEach((function(e){e.parent=n.parent})),this._root=t?rn.realizeAreaConfig(t,{createTabBar:function(){return n._createTabBar()},createHandle:function(){return n._createHandle()}}):null,this.parent&&(r.forEach((function(e){n.attachWidget(e)})),this.parent.fit())},t.prototype.addWidget=function(e,t){void 0===t&&(t={});var n=t.ref||null,r=t.mode||"tab-after",i=null;if(this._root&&n&&(i=this._root.findTabNode(n)),n&&!i)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,r){case"tab-after":this._insertTab(e,n,i,!0);break;case"tab-before":this._insertTab(e,n,i,!1);break;case"split-top":this._insertSplit(e,n,i,"vertical",!1);break;case"split-left":this._insertSplit(e,n,i,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,i,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,i,"vertical",!0)}this.parent&&(this.attachWidget(e),this.parent.fit())},t.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},t.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=qe.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),r=e-n.left-this._box.borderLeft,i=t-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(r,i);if(!o)return null;var a=o.tabBar,s=o.top,c=o.left,l=o.width,u=o.height,d=this._box.borderLeft+this._box.borderRight,f=this._box.borderTop+this._box.borderBottom;return{tabBar:a,x:r,y:i,top:s,left:c,right:n.width-d-(c+l),bottom:n.height-f-(s+u),width:l,height:u}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),ze(this,(function(e){t.attachWidget(e)})),ze(this.handles(),(function(e){t.parent.node.appendChild(e)})),this.parent.fit()},t.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Ut(e)),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterAttach))},t.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t)if(t.tabBar.titles.length>1)t.tabBar.removeTab(e.title);else if(t.tabBar.dispose(),this._root!==t){this._root.holdAllSizes();var n=t.parent;t.parent=null;var r=Ae.removeFirstOf(n.children,t),i=Ae.removeAt(n.handles,r);if(Ae.removeAt(n.sizers,r),i.parentNode&&i.parentNode.removeChild(i),n.children.length>1)n.syncHandles();else{var o=n.parent;n.parent=null;var a=n.children[0],s=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,s.parentNode&&s.parentNode.removeChild(s),this._root===n)return a.parent=null,void(this._root=a);var c=o,l=c.children.indexOf(n);if(a instanceof rn.TabLayoutNode)return a.parent=c,void(c.children[l]=a);var u=Ae.removeAt(c.handles,l);Ae.removeAt(c.children,l),Ae.removeAt(c.sizers,l),u.parentNode&&u.parentNode.removeChild(u);for(var d=0,f=a.children.length;d<f;++d){var h=a.children[d],p=a.handles[d],g=a.sizers[d];Ae.insert(c.children,l+d,h),Ae.insert(c.handles,l+d,p),Ae.insert(c.sizers,l+d,g),h.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}}else this._root=null}},t.prototype._insertTab=function(e,t,n,r){if(e!==t){if(!this._root){var i=new rn.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),void(this._root=i)}var o;n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(e.title)&&(this._removeWidget(e),e.hide()),o=t?n.tabBar.titles.indexOf(t.title):n.tabBar.currentIndex,n.tabBar.insertTab(o+(r?1:0),e.title)}},t.prototype._insertSplit=function(e,t,n,r,i){if(e!==t||!n||1!==n.tabBar.titles.length){this._removeWidget(e);var o=new rn.TabLayoutNode(this._createTabBar());if(o.tabBar.addTab(e.title),this._root){if(!n||!n.parent){var a=this._splitRoot(r),s=i?a.children.length:0;a.normalizeSizes();var c=rn.createSizer(n?1:rn.GOLDEN_RATIO);return Ae.insert(a.children,s,o),Ae.insert(a.sizers,s,c),Ae.insert(a.handles,s,this._createHandle()),o.parent=a,a.normalizeSizes(),void a.syncHandles()}var l=n.parent;if(l.orientation===r){var u=l.children.indexOf(n);l.normalizeSizes();var d=l.sizers[u].sizeHint/=2,f=u+(i?1:0);return Ae.insert(l.children,f,o),Ae.insert(l.sizers,f,rn.createSizer(d)),Ae.insert(l.handles,f,this._createHandle()),o.parent=l,void l.syncHandles()}var h=Ae.removeFirstOf(l.children,n),p=new rn.SplitLayoutNode(r);p.normalized=!0,p.children.push(n),p.sizers.push(rn.createSizer(.5)),p.handles.push(this._createHandle()),n.parent=p;var g=i?1:0;Ae.insert(p.children,g,o),Ae.insert(p.sizers,g,rn.createSizer(.5)),Ae.insert(p.handles,g,this._createHandle()),o.parent=p,p.syncHandles(),Ae.insert(l.children,h,p),p.parent=l}else this._root=o}},t.prototype._splitRoot=function(e){var t=this._root;if(t instanceof rn.SplitLayoutNode&&t.orientation===e)return t;var n=this._root=new rn.SplitLayoutNode(e);return t&&(n.children.push(t),n.sizers.push(rn.createSizer(0)),n.handles.push(this._createHandle()),t.parent=n),n},t.prototype._fit=function(){var e=0,t=0;if(this._root){var n=this._root.fit(this._spacing,this._items);e=n.minWidth,t=n.minHeight}var r=this._box=qe.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;var i=this.parent.node.style;i.minWidth=e+"px",i.minHeight=t+"px",this._dirty=!0,this.parent.parent&&nt.sendMessage(this.parent.parent,Ft.Msg.FitRequest),this._dirty&&nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)},t.prototype._update=function(e,t){if(this._dirty=!1,this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=qe.boxSizing(this.parent.node));var n=this._box.paddingTop,r=this._box.paddingLeft,i=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(n,r,i,o,this._spacing,this._items)}},t.prototype._createTabBar=function(){var e=this.renderer.createTabBar();return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},t.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},t}(Ht);!function(e){function t(e){var t=new Nt;return t.sizeHint=e,t.size=e,t}e.GOLDEN_RATIO=.618,e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.createSizer=t,e.normalizeAreaConfig=function e(t,n){return"tab-area"===t.type?function(e,t){if(0===e.widgets.length)return null;var n=[];if(ze(e.widgets,(function(e){t.has(e)||(t.add(e),n.push(e))})),0===n.length)return null;var r=e.currentIndex;return-1!==r&&(r<0||r>=n.length)&&(r=0),{type:"tab-area",widgets:n,currentIndex:r}}(t,n):function(t,n){for(var r=t.orientation,i=[],o=[],a=0,s=t.children.length;a<s;++a){var c=e(t.children[a],n);c&&("tab-area"===c.type||c.orientation!==r?(i.push(c),o.push(Math.abs(t.sizes[a]||0))):(i.push.apply(i,c.children),o.push.apply(o,c.sizes)))}return 0===i.length?null:1===i.length?i[0]:{type:"split-area",orientation:r,children:i,sizes:o}}(t,n)},e.realizeAreaConfig=function e(i,o){return"tab-area"===i.type?function(e,t){var r=t.createTabBar();return ze(e.widgets,(function(e){e.hide(),r.addTab(e.title)})),r.currentIndex=e.currentIndex,new n(r)}(i,o):function(n,i){var o=new r(n.orientation);return ze(n.children,(function(r,a){var s=e(r,i),c=t(n.sizes[a]),l=i.createHandle();o.children.push(s),o.handles.push(l),o.sizers.push(c),s.parent=o})),o.syncHandles(),o.normalizeSizes(),o}(i,o)};var n=function(){function e(e){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var t=new Nt,n=new Nt;t.stretch=0,n.stretch=1,this.tabBar=e,this.sizers=[t,n]}return Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.iterAllWidgets=function(){return De(We(this.tabBar),this.iterUserWidgets())},e.prototype.iterUserWidgets=function(){return Re(this.tabBar.titles,(function(e){return e.owner}))},e.prototype.iterSelectedWidgets=function(){var e=this.tabBar.currentTitle;return e?We(e.owner):Ne()},e.prototype.iterTabBars=function(){return We(this.tabBar)},e.prototype.iterHandles=function(){return Ne()},e.prototype.findTabNode=function(e){return-1!==this.tabBar.titles.indexOf(e.title)?this:null},e.prototype.findSplitNode=function(e){return null},e.prototype.findFirstTabNode=function(){return this},e.prototype.hitTestTabNodes=function(e,t){return e<this._left||e>=this._left+this._width||t<this._top||t>=this._top+this._height?null:this},e.prototype.createConfig=function(){return{type:"tab-area",widgets:this.tabBar.titles.map((function(e){return e.owner})),currentIndex:this.tabBar.currentIndex}},e.prototype.holdAllSizes=function(){},e.prototype.fit=function(e,t){var n=0,r=0,i=t.get(this.tabBar),o=this.tabBar.currentTitle,a=o?t.get(o.owner):void 0,s=this.sizers,c=s[0],l=s[1];return i&&i.fit(),a&&a.fit(),i&&!i.isHidden?(n=Math.max(n,i.minWidth),r+=i.minHeight,c.minSize=i.minHeight,c.maxSize=i.maxHeight):(c.minSize=0,c.maxSize=0),a&&!a.isHidden?(n=Math.max(n,a.minWidth),r+=a.minHeight,l.minSize=a.minHeight,l.maxSize=1/0):(l.minSize=0,l.maxSize=1/0),{minWidth:n,minHeight:r,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,r,i,o){this._top=t,this._left=e,this._width=n,this._height=r;var a=o.get(this.tabBar),s=this.tabBar.currentTitle,c=s?o.get(s.owner):void 0;if(Lt.calc(this.sizers,r),a&&!a.isHidden){var l=this.sizers[0].size;a.update(e,t,n,l),t+=l}c&&!c.isHidden&&(l=this.sizers[1].size,c.update(e,t,n,l))},e}();e.TabLayoutNode=n;var r=function(){function e(e){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=e}return e.prototype.iterAllWidgets=function(){var e=Re(this.children,(function(e){return e.iterAllWidgets()}));return new Le(e)},e.prototype.iterUserWidgets=function(){var e=Re(this.children,(function(e){return e.iterUserWidgets()}));return new Le(e)},e.prototype.iterSelectedWidgets=function(){var e=Re(this.children,(function(e){return e.iterSelectedWidgets()}));return new Le(e)},e.prototype.iterTabBars=function(){var e=Re(this.children,(function(e){return e.iterTabBars()}));return new Le(e)},e.prototype.iterHandles=function(){var e=Re(this.children,(function(e){return e.iterHandles()}));return De(this.handles,new Le(e))},e.prototype.findTabNode=function(e){for(var t=0,n=this.children.length;t<n;++t){var r=this.children[t].findTabNode(e);if(r)return r}return null},e.prototype.findSplitNode=function(e){var t=this.handles.indexOf(e);if(-1!==t)return{index:t,node:this};for(var n=0,r=this.children.length;n<r;++n){var i=this.children[n].findSplitNode(e);if(i)return i}return null},e.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},e.prototype.hitTestTabNodes=function(e,t){for(var n=0,r=this.children.length;n<r;++n){var i=this.children[n].hitTestTabNodes(e,t);if(i)return i}return null},e.prototype.createConfig=function(){var e=this.orientation,t=this.createNormalizedSizes();return{type:"split-area",orientation:e,children:this.children.map((function(e){return e.createConfig()})),sizes:t}},e.prototype.syncHandles=function(){var e=this;ze(this.handles,(function(t,n){t.setAttribute("data-orientation",e.orientation),n===e.handles.length-1?(t.classList.add("lm-mod-hidden"),t.classList.add("p-mod-hidden")):(t.classList.remove("lm-mod-hidden"),t.classList.remove("p-mod-hidden"))}))},e.prototype.holdSizes=function(){ze(this.sizers,(function(e){e.sizeHint=e.size}))},e.prototype.holdAllSizes=function(){ze(this.children,(function(e){return e.holdAllSizes()})),this.holdSizes()},e.prototype.normalizeSizes=function(){var e=this.sizers.length;if(0!==e){this.holdSizes();var t=He(this.sizers,(function(e,t){return e+t.sizeHint}),0);ze(this.sizers,0===t?function(t){t.size=t.sizeHint=1/e}:function(e){e.size=e.sizeHint/=t}),this.normalized=!0}},e.prototype.createNormalizedSizes=function(){var e=this.sizers.length;if(0===e)return[];var t=this.sizers.map((function(e){return e.size})),n=He(t,(function(e,t){return e+t}),0);return ze(t,0===n?function(n,r){t[r]=1/e}:function(e,r){t[r]=e/n}),t},e.prototype.fit=function(e,t){for(var n="horizontal"===this.orientation,r=Math.max(0,this.children.length-1)*e,i=n?r:0,o=n?0:r,a=0,s=this.children.length;a<s;++a){var c=this.children[a].fit(e,t);n?(o=Math.max(o,c.minHeight),i+=c.minWidth,this.sizers[a].minSize=c.minWidth):(i=Math.max(i,c.minWidth),o+=c.minHeight,this.sizers[a].minSize=c.minHeight)}return{minWidth:i,minHeight:o,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,r,i,o){var a="horizontal"===this.orientation,s=Math.max(0,this.children.length-1)*i,c=Math.max(0,(a?n:r)-s);this.normalized&&(ze(this.sizers,(function(e){e.sizeHint*=c})),this.normalized=!1),Lt.calc(this.sizers,c);for(var l=0,u=this.children.length;l<u;++l){var d=this.children[l],f=this.sizers[l].size,h=this.handles[l].style;a?(d.update(e,t,f,r,i,o),e+=f,h.top=t+"px",h.left=e+"px",h.width=i+"px",h.height=r+"px",e+=i):(d.update(e,t,n,f,i,o),t+=f,h.top=t+"px",h.left=e+"px",h.width=n+"px",h.height=i+"px",t+=i)}},e}();e.SplitLayoutNode=r}(rn||(rn={}));var an,sn=function(e){function t(n){void 0===n&&(n={});var r=e.call(this,{node:an.createNode()})||this;return r._currentIndex=-1,r._titles=[],r._titlesEditable=!1,r._previousTitle=null,r._dragData=null,r._tabMoved=new ut(r),r._currentChanged=new ut(r),r._tabCloseRequested=new ut(r),r._tabDetachRequested=new ut(r),r._tabActivateRequested=new ut(r),r.addClass("lm-TabBar"),r.addClass("p-TabBar"),r.setFlag(Ft.Flag.DisallowLayout),r.tabsMovable=n.tabsMovable||!1,r.titlesEditable=n.titlesEditable||!1,r.allowDeselect=n.allowDeselect||!1,r.insertBehavior=n.insertBehavior||"select-tab-if-needed",r.removeBehavior=n.removeBehavior||"select-tab-after",r.renderer=n.renderer||t.defaultRenderer,r._orientation=n.orientation||"horizontal",r.dataset.orientation=r._orientation,r}return Bt(t,e),t.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,n=this._titles[t]||null,r=e,i=this._titles[r]||null;this._currentIndex=r,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:r,currentTitle:i})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),t.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},t.prototype.insertTab=function(e,t){this._releaseMouse();var n=an.asTitle(t),r=this._titles.indexOf(n),i=Math.max(0,Math.min(e,this._titles.length));return-1===r?(Ae.insert(this._titles,i,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(i,n),n):(i===this._titles.length&&i--,r===i||(Ae.move(this._titles,r,i),this.update(),this._adjustCurrentForMove(r,i)),n)},t.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},t.prototype.removeTabAt=function(e){this._releaseMouse();var t=Ae.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},t.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++)t[e].changed.disconnect(this._onTitleChanged,this);var n=this.currentIndex,r=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==n&&this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:-1,currentTitle:null})}},t.prototype.releaseMouse=function(){this._releaseMouse()},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("dblclick",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){for(var t=this._titles,n=this.renderer,r=this.currentTitle,i=new Array(t.length),o=0,a=t.length;o<a;++o){var s=t[o],c=s===r,l=c?a:a-o-1;i[o]=n.renderTab({title:s,current:c,zIndex:l})}St.render(i,this.contentNode)},t.prototype._evtDblClick=function(e){if(this.titlesEditable){var t=this.contentNode.children,n=Ae.findFirstIndex(t,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));if(-1!==n){var r=this.titles[n],i=t[n].querySelector(".lm-TabBar-tabLabel");if(i&&i.contains(e.target)){var o=r.label||"",a=i.innerHTML;i.innerHTML="";var s=document.createElement("input");s.classList.add("lm-TabBar-tabInput"),s.value=o,i.appendChild(s);var c=function(){s.removeEventListener("blur",c),i.innerHTML=a};s.addEventListener("dblclick",(function(e){return e.stopPropagation()})),s.addEventListener("blur",c),s.addEventListener("keydown",(function(e){"Enter"===e.key?(""!==s.value&&(r.label=r.caption=s.value),c()):"Escape"===e.key&&c()})),s.select(),s.focus(),i.children.length>0&&i.children[0].focus()}}}},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if((0===e.button||1===e.button)&&!this._dragData){var t=this.contentNode.children,n=Ae.findFirstIndex(t,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));if(-1!==n&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:t[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},document.addEventListener("mouseup",this,!0),1!==e.button)){var r=t[n].querySelector(this.renderer.closeIconSelector);r&&r.contains(e.target)||(this.tabsMovable&&(document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},t.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var n=this.contentNode.children;if(t.dragActive||an.dragExceeded(t,e)){if(!t.dragActive){var r=t.tab.getBoundingClientRect();"horizontal"===this._orientation?(t.tabPos=t.tab.offsetLeft,t.tabSize=r.width,t.tabPressPos=t.pressX-r.left):(t.tabPos=t.tab.offsetTop,t.tabSize=r.height,t.tabPressPos=t.pressY-r.top),t.tabLayout=an.snapTabLayout(n,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=Dt.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&an.detachExceeded(t,e)){t.detachRequested=!0;var i=t.index,o=e.clientX,a=e.clientY,s=n[i],c=this._titles[i];if(this._tabDetachRequested.emit({index:i,title:c,tab:s,clientX:o,clientY:a}),t.dragAborted)return}an.layoutTabs(n,t,e,this._orientation)}}},t.prototype._evtMouseUp=function(e){var t=this;if(0===e.button||1===e.button){var n=this._dragData;if(n){if(e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var r=this.contentNode.children,i=Ae.findFirstIndex(r,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));if(i!==n.index)return;var o=this._titles[i];if(!o.closable)return;if(1===e.button)return void this._tabCloseRequested.emit({index:i,title:o});var a=r[i].querySelector(this.renderer.closeIconSelector);return a&&a.contains(e.target)?void this._tabCloseRequested.emit({index:i,title:o}):void 0}if(0===e.button){an.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging");var s=an.parseTransitionDuration(n.tab);setTimeout((function(){if(!n.dragAborted){t._dragData=null,an.resetTabPositions(t.contentNode.children,t._orientation),n.override.dispose(),t.removeClass("lm-mod-dragging"),t.removeClass("p-mod-dragging");var e=n.index,r=n.targetIndex;-1!==r&&e!==r&&(Ae.move(t._titles,e,r),t._adjustCurrentForMove(e,r),t._tabMoved.emit({fromIndex:e,toIndex:r,title:t._titles[r]}),nt.sendMessage(t,Ft.Msg.UpdateRequest))}}),s)}}}},t.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(an.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},t.prototype._adjustCurrentForInsert=function(e,t){var n=this.currentTitle,r=this._currentIndex,i=this.insertBehavior;if("select-tab"===i||"select-tab-if-needed"===i&&-1===r)return this._currentIndex=e,this._previousTitle=n,void this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:e,currentTitle:t});r>=e&&this._currentIndex++},t.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},t.prototype._adjustCurrentForRemove=function(e,t){var n=this._currentIndex,r=this.removeBehavior;if(n===e){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});if("select-tab-after"===r)return this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===r)return this._currentIndex=Math.max(0,e-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===r)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}else n>e&&this._currentIndex--},t.prototype._onTitleChanged=function(e){this.update()},t}(Ft);!function(e){var t=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return e.prototype.renderTab=function(e){var t=e.title.caption,n=this.createTabKey(e),r=this.createTabStyle(e),i=this.createTabClass(e),o=this.createTabDataset(e);return Pt.li({key:n,className:i,title:t,style:r,dataset:o},this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e))},e.prototype.renderIcon=function(e){var t=e.title,n=this.createIconClass(e);return"string"==typeof t.icon?Pt.div({className:n},t.iconLabel):Pt.div({className:n},t.icon,t.iconLabel)},e.prototype.renderLabel=function(e){return Pt.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},e.title.label)},e.prototype.renderCloseIcon=function(e){return Pt.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(e){var t=this._tabKeys.get(e.title);return void 0===t&&(t="tab-key-"+this._tabID++,this._tabKeys.set(e.title,t)),t},e.prototype.createTabStyle=function(e){return{zIndex:""+e.zIndex}},e.prototype.createTabClass=function(e){var t="lm-TabBar-tab";return t+=" p-TabBar-tab",e.title.className&&(t+=" "+e.title.className),e.title.closable&&(t+=" lm-mod-closable",t+=" p-mod-closable"),e.current&&(t+=" lm-mod-current",t+=" p-mod-current"),t},e.prototype.createTabDataset=function(e){return e.title.dataset},e.prototype.createIconClass=function(e){var t="lm-TabBar-tabIcon";t+=" p-TabBar-tabIcon";var n=e.title.iconClass;return n?t+" "+n:t},e}();e.Renderer=t,e.defaultRenderer=new t}(sn||(sn={})),function(e){e.DRAG_THRESHOLD=5,e.DETACH_THRESHOLD=20,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-TabBar-content",t.classList.add("p-TabBar-content"),e.appendChild(t),e},e.asTitle=function(e){return e instanceof jt?e:new jt(e)},e.parseTransitionDuration=function(e){var t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)},e.snapTabLayout=function(e,t){for(var n=new Array(e.length),r=0,i=e.length;r<i;++r){var o=e[r],a=window.getComputedStyle(o);n[r]="horizontal"===t?{pos:o.offsetLeft,size:o.offsetWidth,margin:parseFloat(a.marginLeft)||0}:{pos:o.offsetTop,size:o.offsetHeight,margin:parseFloat(a.marginTop)||0}}return n},e.dragExceeded=function(t,n){var r=Math.abs(n.clientX-t.pressX),i=Math.abs(n.clientY-t.pressY);return r>=e.DRAG_THRESHOLD||i>=e.DRAG_THRESHOLD},e.detachExceeded=function(t,n){var r=t.contentRect;return n.clientX<r.left-e.DETACH_THRESHOLD||n.clientX>=r.right+e.DETACH_THRESHOLD||n.clientY<r.top-e.DETACH_THRESHOLD||n.clientY>=r.bottom+e.DETACH_THRESHOLD},e.layoutTabs=function(e,t,n,r){var i,o,a,s;"horizontal"===r?(i=t.pressX,o=n.clientX-t.contentRect.left,a=n.clientX,s=t.contentRect.width):(i=t.pressY,o=n.clientY-t.contentRect.top,a=n.clientY,s=t.contentRect.height);for(var c=t.index,l=o-t.tabPressPos,u=l+t.tabSize,d=0,f=e.length;d<f;++d){var h=void 0,p=t.tabLayout[d],g=p.pos+(p.size>>1);if(d<t.index&&l<g)h=t.tabSize+t.tabLayout[d+1].margin+"px",c=Math.min(c,d);else if(d>t.index&&u>g)h=-t.tabSize-p.margin+"px",c=Math.max(c,d);else if(d===t.index){var m=a-i,b=s-(t.tabPos+t.tabSize);h=Math.max(-t.tabPos,Math.min(m,b))+"px"}else h="";"horizontal"===r?e[d].style.left=h:e[d].style.top=h}t.targetIndex=c},e.finalizeTabPosition=function(e,t){var n,r;if(n="horizontal"===t?e.contentRect.width:e.contentRect.height,e.targetIndex===e.index)r=0;else if(e.targetIndex>e.index)r=(i=e.tabLayout[e.targetIndex]).pos+i.size-e.tabSize-e.tabPos;else{var i;r=(i=e.tabLayout[e.targetIndex]).pos-e.tabPos}var o=n-(e.tabPos+e.tabSize),a=Math.max(-e.tabPos,Math.min(r,o));"horizontal"===t?e.tab.style.left=a+"px":e.tab.style.top=a+"px"},e.resetTabPositions=function(e,t){ze(e,(function(e){"horizontal"===t?e.style.left="":e.style.top=""}))}}(an||(an={}));var cn,ln=function(e){function t(n){void 0===n&&(n={});var r=e.call(this)||this;r._drag=null,r._tabsMovable=!0,r._tabsConstrained=!1,r._pressData=null,r._layoutModified=new ut(r),r.addClass("lm-DockPanel"),r.addClass("p-DockPanel"),r._mode=n.mode||"multiple-document",r._renderer=n.renderer||t.defaultRenderer,r._edges=n.edges||cn.DEFAULT_EDGES,void 0!==n.tabsMovable&&(r._tabsMovable=n.tabsMovable),void 0!==n.tabsConstrained&&(r._tabsConstrained=n.tabsConstrained),r.dataset.mode=r._mode;var i={createTabBar:function(){return r._createTabBar()},createHandle:function(){return r._createHandle()}};return r.layout=new on({renderer:i,spacing:n.spacing}),r.overlay=n.overlay||new t.Overlay,r.node.appendChild(r.overlay.node),r}return Bt(t,e),t.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var t=this.layout;switch(e){case"multiple-document":ze(t.tabBars(),(function(e){e.show()}));break;case"single-document":t.restoreLayout(cn.createSingleDocumentConfig(this));break;default:throw"unreachable"}nt.postMessage(this,cn.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e,ze(this.tabBars(),(function(t){t.tabsMovable=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),t.prototype.widgets=function(){return this.layout.widgets()},t.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},t.prototype.tabBars=function(){return this.layout.tabBars()},t.prototype.handles=function(){return this.layout.handles()},t.prototype.selectWidget=function(e){var t=Ve(this.tabBars(),(function(t){return-1!==t.titles.indexOf(e.title)}));if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},t.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},t.prototype.saveLayout=function(){return this.layout.saveLayout()},t.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ze.IS_EDGE||Ze.IS_IE)&&nt.flush(),nt.postMessage(this,cn.LayoutModified)},t.prototype.addWidget=function(e,t){void 0===t&&(t={}),"single-document"===this._mode?this.layout.addWidget(e):this.layout.addWidget(e,t),nt.postMessage(this,cn.LayoutModified)},t.prototype.processMessage=function(t){"layout-modified"===t.type?this._layoutModified.emit(void 0):e.prototype.processMessage.call(this,t)},t.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){cn.isGeneratedTabBarProperty.get(e.child)||(e.child.addClass("lm-DockPanel-widget"),e.child.addClass("p-DockPanel-widget"))},t.prototype.onChildRemoved=function(e){cn.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),e.child.removeClass("p-DockPanel-widget"),nt.postMessage(this,cn.LayoutModified))},t.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())},t.prototype._evtDragLeave=function(e){e.preventDefault(),e.stopPropagation(),this.overlay.hide(1)},t.prototype._evtDragOver=function(e){e.preventDefault(),e.stopPropagation(),this._tabsConstrained&&e.source!==this||"invalid"===this._showOverlay(e.clientX,e.clientY)?e.dropAction="none":e.dropAction=e.proposedAction},t.prototype._evtDrop=function(e){if(e.preventDefault(),e.stopPropagation(),this.overlay.hide(0),"none"!==e.proposedAction){var t=e.clientX,n=e.clientY,r=cn.findDropTarget(this,t,n,this._edges),i=r.zone,o=r.target;if("invalid"!==i){var a=e.mimeData.getData("application/vnd.lumino.widget-factory");if("function"==typeof a){var s=a();if(s instanceof Ft)if(s.contains(this))e.dropAction="none";else{var c=o?cn.getDropRef(o.tabBar):null;switch(i){case"root-all":this.addWidget(s);break;case"root-top":this.addWidget(s,{mode:"split-top"});break;case"root-left":this.addWidget(s,{mode:"split-left"});break;case"root-right":this.addWidget(s,{mode:"split-right"});break;case"root-bottom":this.addWidget(s,{mode:"split-bottom"});break;case"widget-all":this.addWidget(s,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(s,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(s,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(s,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(s,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(s,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,this.activateWidget(s)}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&(this._releaseMouse(),nt.postMessage(this,cn.LayoutModified))},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=e.target,r=Ve(t.handles(),(function(e){return e.contains(n)}));if(r){e.preventDefault(),e.stopPropagation(),document.addEventListener("keydown",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0);var i=r.getBoundingClientRect(),o=e.clientX-i.left,a=e.clientY-i.top,s=window.getComputedStyle(r),c=Dt.overrideCursor(s.cursor);this._pressData={handle:r,deltaX:o,deltaY:a,override:c}}}},t.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),n=e.clientX-t.left-this._pressData.deltaX,r=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,r)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),nt.postMessage(this,cn.LayoutModified))},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("keydown",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0))},t.prototype._showOverlay=function(e,t){var n,r,i,o,a=cn.findDropTarget(this,e,t,this._edges),s=a.zone,c=a.target;if("invalid"===s)return this.overlay.hide(100),s;var l=qe.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(s){case"root-all":n=l.paddingTop,r=l.paddingLeft,i=l.paddingRight,o=l.paddingBottom;break;case"root-top":n=l.paddingTop,r=l.paddingLeft,i=l.paddingRight,o=u.height*cn.GOLDEN_RATIO;break;case"root-left":n=l.paddingTop,r=l.paddingLeft,i=u.width*cn.GOLDEN_RATIO,o=l.paddingBottom;break;case"root-right":n=l.paddingTop,r=u.width*cn.GOLDEN_RATIO,i=l.paddingRight,o=l.paddingBottom;break;case"root-bottom":n=u.height*cn.GOLDEN_RATIO,r=l.paddingLeft,i=l.paddingRight,o=l.paddingBottom;break;case"widget-all":n=c.top,r=c.left,i=c.right,o=c.bottom;break;case"widget-top":n=c.top,r=c.left,i=c.right,o=c.bottom+c.height/2;break;case"widget-left":n=c.top,r=c.left,i=c.right+c.width/2,o=c.bottom;break;case"widget-right":n=c.top,r=c.left+c.width/2,i=c.right,o=c.bottom;break;case"widget-bottom":n=c.top+c.height/2,r=c.left,i=c.right,o=c.bottom;break;case"widget-tab":var d=c.tabBar.node.getBoundingClientRect().height;n=c.top,r=c.left,i=c.right,o=c.bottom+c.height-d;break;default:throw"unreachable"}return this.overlay.show({top:n,left:r,right:i,bottom:o}),s},t.prototype._createTabBar=function(){var e=this._renderer.createTabBar();return cn.isGeneratedTabBarProperty.set(e,!0),"single-document"===this._mode&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e},t.prototype._createHandle=function(){return this._renderer.createHandle()},t.prototype._onTabMoved=function(){nt.postMessage(this,cn.LayoutModified)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousTitle,r=t.currentTitle;n&&n.owner.hide(),r&&r.owner.show(),(Ze.IS_EDGE||Ze.IS_IE)&&nt.flush(),nt.postMessage(this,cn.LayoutModified)},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabDetachRequested=function(e,t){var n=this;if(!this._drag){e.releaseMouse();var r=t.title,i=t.tab,o=t.clientX,a=t.clientY,s=new ht;s.setData("application/vnd.lumino.widget-factory",(function(){return r.owner}));var c=i.cloneNode(!0);this._drag=new Dt({mimeData:s,dragImage:c,proposedAction:"move",supportedActions:"move",source:this}),i.classList.add("lm-mod-hidden"),i.classList.add("p-mod-hidden"),this._drag.start(o,a).then((function(){n._drag=null,i.classList.remove("lm-mod-hidden"),i.classList.remove("p-mod-hidden")}))}},t}(Ft);!function(e){var t=function(){function e(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return e.prototype.show=function(e){var t=this.node.style;t.top=e.top+"px",t.left=e.left+"px",t.right=e.right+"px",t.bottom=e.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},e.prototype.hide=function(e){var t=this;if(!this._hidden)return e<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=window.setTimeout((function(){t._timer=-1,t._hidden=!0,t.node.classList.add("lm-mod-hidden"),t.node.classList.add("p-mod-hidden")}),e)))},e}();e.Overlay=t;var n=function(){function e(){}return e.prototype.createTabBar=function(){var e=new sn;return e.addClass("lm-DockPanel-tabBar"),e.addClass("p-DockPanel-tabBar"),e},e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="lm-DockPanel-handle",e.classList.add("p-DockPanel-handle"),e},e}();e.Renderer=n,e.defaultRenderer=new n}(ln||(ln={})),function(e){e.GOLDEN_RATIO=.618,e.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},e.LayoutModified=new ot("layout-modified"),e.isGeneratedTabBarProperty=new st({name:"isGeneratedTabBar",create:function(){return!1}}),e.createSingleDocumentConfig=function(e){if(e.isEmpty)return{main:null};var t=Pe(e.widgets()),n=e.selectedWidgets().next(),r=n?t.indexOf(n):-1;return{main:{type:"tab-area",widgets:t,currentIndex:r}}},e.findDropTarget=function(e,t,n,r){if(!qe.hitTest(e.node,t,n))return{zone:"invalid",target:null};var i=e.layout;if(i.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===e.mode){var o=e.node.getBoundingClientRect(),a=t-o.left+1,s=n-o.top+1,c=o.right-t,l=o.bottom-n;switch(Math.min(s,c,l,a)){case s:if(s<r.top)return{zone:"root-top",target:null};break;case c:if(c<r.right)return{zone:"root-right",target:null};break;case l:if(l<r.bottom)return{zone:"root-bottom",target:null};break;case a:if(a<r.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var u=i.hitTestTabAreas(t,n);if(!u)return{zone:"invalid",target:null};if("single-document"===e.mode)return{zone:"widget-all",target:u};var d=u.x-u.left+1,f=u.y-u.top+1,h=u.left+u.width-u.x,p=u.top+u.height-u.y;if(f<u.tabBar.node.getBoundingClientRect().height)return{zone:"widget-tab",target:u};var g,m=Math.round(u.width/3),b=Math.round(u.height/3);if(d>m&&h>m&&f>b&&p>b)return{zone:"widget-all",target:u};switch(d/=m,f/=b,h/=m,p/=b,Math.min(d,f,h,p)){case d:g="widget-left";break;case f:g="widget-top";break;case h:g="widget-right";break;case p:g="widget-bottom";break;default:throw"unreachable"}return{zone:g,target:u}},e.getDropRef=function(e){return 0===e.titles.length?null:e.currentTitle?e.currentTitle.owner:e.titles[e.titles.length-1].owner}}(cn||(cn={})),function(){function e(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new ut(this),this._currentChanged=new ut(this)}e.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,ut.clearData(this),ze(this._widgets,(function(t){t.node.removeEventListener("focus",e,!0),t.node.removeEventListener("blur",e,!0)})),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.focusNumber=function(e){var t=this._numbers.get(e);return void 0===t?-1:t},e.prototype.has=function(e){return this._numbers.has(e)},e.prototype.add=function(e){if(!this._numbers.has(e)){var t=e.node.contains(document.activeElement),n=t?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,n),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),t&&this._setWidgets(e,e)}},e.prototype.remove=function(e){var t,n=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),Ae.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var r=function(e,t){var n=Ee(e),r=n.next();if(void 0!==r){for(var i=r;void 0!==(r=n.next());)t(r,i)>0&&(i=r);return i}}((t=this._widgets,new Be(Ee(t),(function(e){return-1!==n._numbers.get(e)}))),(function(e,t){return n._numbers.get(e)-n._numbers.get(t)}))||null;this._setWidgets(r,null)}},e.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e)}},e.prototype._setWidgets=function(e,t){var n=this._currentWidget;this._currentWidget=e;var r=this._activeWidget;this._activeWidget=t,n!==e&&this._currentChanged.emit({oldValue:n,newValue:e}),r!==t&&this._activeChanged.emit({oldValue:r,newValue:t})},e.prototype._evtFocus=function(e){var t=this._nodes.get(e.currentTarget);t!==this._currentWidget&&this._numbers.set(t,this._counter++),this._setWidgets(t,t)},e.prototype._evtBlur=function(e){var t=this._nodes.get(e.currentTarget),n=e.relatedTarget;n&&(t.node.contains(n)||Ve(this._widgets,(function(e){return e.node.contains(n)})))||this._setWidgets(this._currentWidget,null)},e.prototype._onWidgetDisposed=function(e){this.remove(e)}}();var un,dn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new Nt],n._columnSizers=[new Nt],n._box=null,void 0!==t.rowCount&&un.reallocSizers(n._rowSizers,t.rowCount),void 0!==t.columnCount&&un.reallocSizers(n._columnSizers,t.columnCount),void 0!==t.rowSpacing&&(n._rowSpacing=un.clampValue(t.rowSpacing)),void 0!==t.columnSpacing&&(n._columnSpacing=un.clampValue(t.columnSpacing)),n}return Bt(t,e),t.prototype.dispose=function(){ze(this._items,(function(e){var t=e.widget;e.dispose(),t.dispose()})),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(un.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(un.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=un.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=un.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},t.prototype.setRowStretch=function(e,t){var n=this._rowSizers[e];n&&(t=un.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},t.prototype.setColumnStretch=function(e,t){var n=this._columnSizers[e];n&&(t=un.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.iter=function(){return Re(this._items,(function(e){return e.widget}))},t.prototype.addWidget=function(e){-1===Ae.findFirstIndex(this._items,(function(t){return t.widget===e}))&&(this._items.push(new Ut(e)),this.parent&&this.attachWidget(e))},t.prototype.removeWidget=function(e){var t=Ae.findFirstIndex(this._items,(function(t){return t.widget===e}));if(-1!==t){var n=Ae.removeAt(this._items,t);this.parent&&this.detachWidget(e),n.dispose()}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),ze(this,(function(e){t.attachWidget(e)}))},t.prototype.attachWidget=function(e){this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterAttach),this.parent.fit()},t.prototype.detachWidget=function(e){this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterDetach),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=this.rowCount;e<n;++e)this._rowSizers[e].minSize=0;for(e=0,n=this.columnCount;e<n;++e)this._columnSizers[e].minSize=0;var r=this._items.filter((function(e){return!e.isHidden}));for(e=0,n=r.length;e<n;++e)r[e].fit();var i=this.rowCount-1,o=this.columnCount-1;for(r.sort(un.rowSpanCmp),e=0,n=r.length;e<n;++e){var a=r[e],s=t.getCellConfig(a.widget),c=Math.min(s.row,i),l=Math.min(s.row+s.rowSpan-1,i);un.distributeMin(this._rowSizers,c,l,a.minHeight)}for(r.sort(un.columnSpanCmp),e=0,n=r.length;e<n;++e){a=r[e],s=t.getCellConfig(a.widget);var u=Math.min(s.column,o),d=Math.min(s.column+s.columnSpan-1,o);un.distributeMin(this._columnSizers,u,d,a.minWidth)}if("set-no-constraint"!==this.fitPolicy){var f=i*this._rowSpacing,h=o*this._columnSpacing;for(e=0,n=this.rowCount;e<n;++e)f+=this._rowSizers[e].minSize;for(e=0,n=this.columnCount;e<n;++e)h+=this._columnSizers[e].minSize;var p=this._box=qe.boxSizing(this.parent.node);h+=p.horizontalSum,f+=p.verticalSum;var g=this.parent.node.style;g.minWidth=h+"px",g.minHeight=f+"px",this._dirty=!0,this.parent.parent&&nt.sendMessage(this.parent.parent,Ft.Msg.FitRequest),this._dirty&&nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)}else nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)},t.prototype._update=function(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=qe.boxSizing(this.parent.node));var r=this._box.paddingTop,i=this._box.paddingLeft,o=e-this._box.horizontalSum,a=n-this._box.verticalSum,s=this.rowCount-1,c=this.columnCount-1,l=s*this._rowSpacing,u=c*this._columnSpacing;Lt.calc(this._rowSizers,Math.max(0,a-l)),Lt.calc(this._columnSizers,Math.max(0,o-u));for(var d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(d=0,f=i,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(d=0,h=this._items.length;d<h;++d){var p=this._items[d];if(!p.isHidden){var g=t.getCellConfig(p.widget),m=Math.min(g.row,s),b=Math.min(g.column,c),v=Math.min(g.row+g.rowSpan-1,s),_=Math.min(g.column+g.columnSpan-1,c),y=this._columnStarts[b],w=this._rowStarts[m],x=this._columnStarts[_]+this._columnSizers[_].size-y,k=this._rowStarts[v]+this._rowSizers[v].size-w;p.update(y,w,x,k)}}},t}(Ht);!function(e){e.getCellConfig=function(e){return un.cellConfigProperty.get(e)},e.setCellConfig=function(e,t){un.cellConfigProperty.set(e,un.normalizeConfig(t))}}(dn||(dn={})),function(e){e.cellConfigProperty=new st({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:function(e){e.parent&&e.parent.layout instanceof dn&&e.parent.fit()}}),e.normalizeConfig=function(e){return{row:Math.max(0,Math.floor(e.row||0)),column:Math.max(0,Math.floor(e.column||0)),rowSpan:Math.max(1,Math.floor(e.rowSpan||0)),columnSpan:Math.max(1,Math.floor(e.columnSpan||0))}},e.clampValue=function(e){return Math.max(0,Math.floor(e))},e.rowSpanCmp=function(t,n){var r=e.cellConfigProperty.get(t.widget),i=e.cellConfigProperty.get(n.widget);return r.rowSpan-i.rowSpan},e.columnSpanCmp=function(t,n){var r=e.cellConfigProperty.get(t.widget),i=e.cellConfigProperty.get(n.widget);return r.columnSpan-i.columnSpan},e.reallocSizers=function(e,t){for(t=Math.max(1,Math.floor(t));e.length<t;)e.push(new Nt);e.length>t&&(e.length=t)},e.distributeMin=function(e,t,n,r){if(!(n<t))if(t!==n){for(var i=0,o=t;o<=n;++o)i+=e[o].minSize;if(!(i>=r)){var a=(r-i)/(n-t+1);for(o=t;o<=n;++o)e[o].minSize+=a}}else{var s=e[t];s.minSize=Math.max(s.minSize,r)}}}(un||(un={}));var fn,hn,pn=function(e){function t(n){void 0===n&&(n={});var r=e.call(this,{node:fn.createNode()})||this;return r._activeIndex=-1,r._menus=[],r._childMenu=null,r.addClass("lm-MenuBar"),r.addClass("p-MenuBar"),r.setFlag(Ft.Flag.DisallowLayout),r.renderer=n.renderer||t.defaultRenderer,r}return Bt(t,e),t.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),t.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},t.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},t.prototype.insertMenu=function(e,t){this._closeChildMenu();var n=this._menus.indexOf(t),r=Math.max(0,Math.min(e,this._menus.length));if(-1===n)return Ae.insert(this._menus,r,t),t.addClass("lm-MenuBar-menu"),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),void this.update();r===this._menus.length&&r--,n!==r&&(Ae.move(this._menus,n,r),this.update())},t.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},t.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=Ae.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("lm-MenuBar-menu"),t.removeClass("p-MenuBar-menu"),this.update())},t.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var n=t[e];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._menus,n=this.renderer,r=this._activeIndex,i=new Array(t.length),o=0,a=t.length;o<a;++o){var s=t[o].title,c=o===r;i[o]=n.renderItem({title:s,active:c})}St.render(i,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t&&38!==t&&40!==t){if(27===t)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==t)if(39!==t){var n=_t().keyForKeydownEvent(e);if(n){var r=this._activeIndex+1,i=fn.findMnemonic(this._menus,n,r);-1===i.index||i.multiple?-1!==i.index?this.activeIndex=i.index:-1!==i.auto&&(this.activeIndex=i.auto):(this.activeIndex=i.index,this.openActiveMenu())}}else o=this._activeIndex,a=this._menus.length,this.activeIndex=o===a-1?0:o+1;else{var o=this._activeIndex,a=this._menus.length;this.activeIndex=0===o?a-1:o-1}}else this.openActiveMenu()},t.prototype._evtMouseDown=function(e){if(qe.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=Ae.findFirstIndex(this.contentNode.children,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));-1!==t?0===e.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=t):(this.activeIndex=t,this._openChildMenu())):this._closeChildMenu()}},t.prototype._evtMouseMove=function(e){var t=Ae.findFirstIndex(this.contentNode.children,(function(t){return qe.hitTest(t,e.clientX,e.clientY)}));t!==this._activeIndex&&(-1===t&&this._childMenu||(this.activeIndex=t,this._childMenu&&this._openChildMenu()))},t.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},t.prototype._openChildMenu=function(){var e=this.activeMenu;if(e){var t=this._childMenu;if(t!==e){this._childMenu=e,t?t.close():(this.addClass("lm-mod-active"),this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),nt.sendMessage(this,Ft.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex].getBoundingClientRect(),r=n.left,i=n.bottom;e.open(r,i,{forceX:!0,forceY:!0})}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},t.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},t.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var n=this._activeIndex,r=this._menus.length;switch(t){case"next":this.activeIndex=n===r-1?0:n+1;break;case"previous":this.activeIndex=0===n?r-1:n-1}this.openActiveMenu()}},t.prototype._onTitleChanged=function(){this.update()},t}(Ft);!function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e),r=this.createItemARIA(e);return Pt.li(Rt({className:t,dataset:n},r),this.renderIcon(e),this.renderLabel(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return"string"==typeof e.title.icon?Pt.div({className:t},e.title.iconLabel):Pt.div({className:t},e.title.icon,e.title.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return Pt.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},t)},e.prototype.createItemClass=function(e){var t="lm-MenuBar-item";return t+=" p-MenuBar-item",e.title.className&&(t+=" "+e.title.className),e.active&&(t+=" lm-mod-active",t+=" p-mod-active"),t},e.prototype.createItemDataset=function(e){return e.title.dataset},e.prototype.createItemARIA=function(e){return{role:"menuitem","aria-haspopup":"true"}},e.prototype.createIconClass=function(e){var t="lm-MenuBar-itemIcon";t+=" p-MenuBar-itemIcon";var n=e.title.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.title,n=t.label,r=t.mnemonic;if(r<0||r>=n.length)return n;var i=n.slice(0,r),o=n.slice(r+1),a=n[r];return[i,Pt.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},a),o]},e}();e.Renderer=t,e.defaultRenderer=new t}(pn||(pn={})),function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-MenuBar-content",t.classList.add("p-MenuBar-content"),e.appendChild(t),t.setAttribute("role","menubar"),e.tabIndex=-1,e},e.findMnemonic=function(e,t,n){for(var r=-1,i=-1,o=!1,a=t.toUpperCase(),s=0,c=e.length;s<c;++s){var l=(s+n)%c,u=e[l].title;if(0!==u.label.length){var d=u.mnemonic;d>=0&&d<u.label.length?u.label[d].toUpperCase()===a&&(-1===r?r=l:o=!0):-1===i&&u.label[0].toUpperCase()===a&&(i=l)}}return{index:r,multiple:o,auto:i}}}(fn||(fn={})),function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{node:hn.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var e=n._pressData.part;if("thumb"!==e){n._repeatTimer=window.setTimeout(n._onRepeat,20);var t=n._pressData.mouseX,r=n._pressData.mouseY;if("decrement"!==e)if("increment"!==e){if("track"===e){if(!qe.hitTest(n.trackNode,t,r))return;var i=n.thumbNode;if(qe.hitTest(i,t,r))return;var o,a=i.getBoundingClientRect();return o="horizontal"===n._orientation?t<a.left?"decrement":"increment":r<a.top?"decrement":"increment",void n._pageRequested.emit(o)}}else{if(!qe.hitTest(n.incrementNode,t,r))return;n._stepRequested.emit("increment")}else{if(!qe.hitTest(n.decrementNode,t,r))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new ut(n),n._stepRequested=new ut(n),n._pageRequested=new ut(n),n.addClass("lm-ScrollBar"),n.addClass("p-ScrollBar"),n.setFlag(Ft.Flag.DisallowLayout),n._orientation=t.orientation||"vertical",n.dataset.orientation=n._orientation,void 0!==t.maximum&&(n._maximum=Math.max(0,t.maximum)),void 0!==t.page&&(n._page=Math.max(0,t.page)),void 0!==t.value&&(n._value=Math.max(0,Math.min(t.value,n._maximum))),n}Bt(t,e),Object.defineProperty(t.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){var t=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),n=Math.max(0,Math.min(n,100));var r=this.thumbNode.style;"horizontal"===this._orientation?(r.top="",r.height="",r.left=t+"%",r.width=n+"%",r.transform="translate("+-t+"%, 0%)"):(r.left="",r.width="",r.top=t+"%",r.height=n+"%",r.transform="translate(0%, "+-t+"%)")},t.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),27===e.keyCode){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==t&&this._moveThumb(t)}},t.prototype._evtMouseDown=function(e){if(0===e.button&&(this.activate(),!this._pressData)){var t=hn.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var n=Dt.overrideCursor("default");if(this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===t){var r=this.thumbNode,i=r.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=e.clientX-i.left:this._pressData.delta=e.clientY-i.top,r.classList.add("lm-mod-active"),r.classList.add("p-mod-active"),void(this._pressData.value=this._value)}if("track"===t){i=this.thumbNode.getBoundingClientRect();var o;return o="horizontal"===this._orientation?e.clientX<i.left?"decrement":"increment":e.clientY<i.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._pageRequested.emit(o)}return"decrement"===t?(this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===t?(this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},t.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,"thumb"===this._pressData.part)){var t,n,r=this.thumbNode.getBoundingClientRect(),i=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(t=e.clientX-i.left-this._pressData.delta,n=i.width-r.width):(t=e.clientY-i.top-this._pressData.delta,n=i.height-r.height);var o=0===n?0:t*this._maximum/n;this._moveThumb(o)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},t.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))}}(Ft),function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");return t.className="lm-ScrollBar-button",n.className="lm-ScrollBar-button",t.dataset.action="decrement",n.dataset.action="increment",r.className="lm-ScrollBar-track",i.className="lm-ScrollBar-thumb",t.classList.add("p-ScrollBar-button"),n.classList.add("p-ScrollBar-button"),r.classList.add("p-ScrollBar-track"),i.classList.add("p-ScrollBar-thumb"),r.appendChild(i),e.appendChild(t),e.appendChild(r),e.appendChild(n),e},e.findPart=function(e,t){return e.thumbNode.contains(t)?"thumb":e.trackNode.contains(t)?"track":e.decrementNode.contains(t)?"decrement":e.incrementNode.contains(t)?"increment":null}}(hn||(hn={})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widget=null,t}Bt(t,e),t.prototype.dispose=function(){if(this._widget){var t=this._widget;this._widget=null,t.dispose()}e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},set:function(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._widget?We(this._widget):Ne()},t.prototype.removeWidget=function(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))},t.prototype.init=function(){var t=this;e.prototype.init.call(this),ze(this,(function(e){t.attachWidget(e)}))},t.prototype.attachWidget=function(e){this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterAttach)},t.prototype.detachWidget=function(e){this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&nt.sendMessage(e,Ft.Msg.AfterDetach)}}(Ht);var gn,mn=function(e){function t(t){var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=t.renderer,void 0!==t.orientation&&(n._orientation=t.orientation),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=gn.clampSpacing(t.spacing)),n}return Bt(t,e),t.prototype.dispose=function(){ze(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=gn.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return gn.normalize(this._sizers.map((function(e){return e.size})))},t.prototype.setRelativeSizes=function(e){for(var t=this._sizers.length,n=e.slice(0,t);n.length<t;)n.push(0);for(var r=gn.normalize(n),i=0;i<t;++i){var o=this._sizers[i];o.sizeHint=r[i],o.size=r[i]}this._hasNormedSizes=!0,this.parent&&this.parent.update()},t.prototype.moveHandle=function(e,t){var n,r=this._handles[e];if(r&&!r.classList.contains("lm-mod-hidden")&&0!=(n="horizontal"===this._orientation?t-r.offsetLeft:t-r.offsetTop)){for(var i=0,o=this._sizers;i<o.length;i++){var a=o[i];a.size>0&&(a.sizeHint=a.size)}Lt.adjust(this._sizers,e,n),this.parent&&this.parent.update()}},t.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){var n=new Ut(t),r=gn.createHandle(this.renderer),i=gn.averageSize(this._sizers),o=gn.createSizer(i);Ae.insert(this._items,e,n),Ae.insert(this._sizers,e,o),Ae.insert(this._handles,e,r),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(r),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){Ae.move(this._items,e,t),Ae.move(this._sizers,e,t),Ae.move(this._handles,e,t),this.parent.fit()},t.prototype.detachWidget=function(e,t){var n=Ae.removeAt(this._items,e),r=Ae.removeAt(this._handles,e);Ae.removeAt(this._sizers,e),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(r),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=-1,r=0,i=this._items.length;r<i;++r)this._items[r].isHidden?(this._handles[r].classList.add("lm-mod-hidden"),this._handles[r].classList.add("p-mod-hidden")):(this._handles[r].classList.remove("lm-mod-hidden"),this._handles[r].classList.remove("p-mod-hidden"),n=r,e++);-1!==n&&(this._handles[n].classList.add("lm-mod-hidden"),this._handles[n].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,e-1);var o="horizontal"===this._orientation,a=o?this._fixed:0,s=o?0:this._fixed;for(r=0,i=this._items.length;r<i;++r){var c=this._items[r],l=this._sizers[r];l.size>0&&(l.sizeHint=l.size),c.isHidden?(l.minSize=0,l.maxSize=0):(c.fit(),l.stretch=t.getStretch(c.widget),o?(l.minSize=c.minWidth,l.maxSize=c.maxWidth,a+=c.minWidth,s=Math.max(s,c.minHeight)):(l.minSize=c.minHeight,l.maxSize=c.maxHeight,s+=c.minHeight,a=Math.max(a,c.minWidth)))}var u=this._box=qe.boxSizing(this.parent.node);a+=u.horizontalSum,s+=u.verticalSum;var d=this.parent.node.style;d.minWidth=a+"px",d.minHeight=s+"px",this._dirty=!0,this.parent.parent&&nt.sendMessage(this.parent.parent,Ft.Msg.FitRequest),this._dirty&&nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,r=0,i=this._items.length;r<i;++r)n+=+!this._items[r].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=qe.boxSizing(this.parent.node));var o,a=this._box.paddingTop,s=this._box.paddingLeft,c=e-this._box.horizontalSum,l=t-this._box.verticalSum,u="horizontal"===this._orientation;if(o=u?Math.max(0,c-this._fixed):Math.max(0,l-this._fixed),this._hasNormedSizes){for(var d=0,f=this._sizers;d<f.length;d++)f[d].sizeHint*=o;this._hasNormedSizes=!1}var h=Lt.calc(this._sizers,o),p=0,g=0;if(h>0)switch(this._alignment){case"start":break;case"center":p=0,g=h/2;break;case"end":p=0,g=h;break;case"justify":p=h/n,g=0;break;default:throw"unreachable"}for(r=0,i=this._items.length;r<i;++r){var m=this._items[r];if(!m.isHidden){var b=this._sizers[r].size,v=this._handles[r].style;u?(m.update(s+g,a,b+p,l),s+=b+p,v.top=a+"px",v.left=s+g+"px",v.width=this._spacing+"px",v.height=l+"px",s+=this._spacing):(m.update(s,a+g,c,b+p),a+=b+p,v.top=a+g+"px",v.left=s+"px",v.width=c+"px",v.height=this._spacing+"px",a+=this._spacing)}}}},t}(qt);!function(e){e.getStretch=function(e){return gn.stretchProperty.get(e)},e.setStretch=function(e,t){gn.stretchProperty.set(e,t)}}(mn||(mn={})),function(e){e.stretchProperty=new st({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:function(e){e.parent&&e.parent.layout instanceof mn&&e.parent.fit()}}),e.createSizer=function(e){var t=new Nt;return t.sizeHint=Math.floor(e),t},e.createHandle=function(e){var t=e.createHandle();return t.style.position="absolute",t},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.averageSize=function(e){return e.reduce((function(e,t){return e+t.size}),0)/e.length||0},e.normalize=function(e){var t=e.length;if(0===t)return[];var n=e.reduce((function(e,t){return e+Math.abs(t)}),0);return 0===n?e.map((function(e){return 1/t})):e.map((function(e){return e/n}))}}(gn||(gn={}));var bn,vn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:bn.createLayout(t)})||this;return n._pressData=null,n.addClass("lm-SplitPanel"),n.addClass("p-SplitPanel"),n}return Bt(t,e),t.prototype.dispose=function(){this._releaseMouse(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return this.layout.relativeSizes()},t.prototype.setRelativeSizes=function(e){this.layout.setRelativeSizes(e)},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child"),e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child"),e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=Ae.findFirstIndex(t.handles,(function(t){return t.contains(e.target)}));if(-1!==n){var r;e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var i=t.handles[n],o=i.getBoundingClientRect();r="horizontal"===t.orientation?e.clientX-o.left:e.clientY-o.top;var a=window.getComputedStyle(i),s=Dt.overrideCursor(a.cursor);this._pressData={index:n,delta:r,override:s}}}},t.prototype._evtMouseMove=function(e){var t;e.preventDefault(),e.stopPropagation();var n=this.layout,r=this.node.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-r.left-this._pressData.delta:e.clientY-r.top-this._pressData.delta,n.moveHandle(this._pressData.index,t)},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0))},t}($t);!function(e){var t=function(){function e(){}return e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="lm-SplitPanel-handle",e.classList.add("p-SplitPanel-handle"),e},e}();e.Renderer=t,e.defaultRenderer=new t,e.getStretch=function(e){return mn.getStretch(e)},e.setStretch=function(e,t){mn.setStretch(e,t)}}(vn||(vn={})),function(e){e.createLayout=function(e){return e.layout||new mn({renderer:e.renderer||vn.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}}(bn||(bn={}));var _n,yn,wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dirty=!1,t._items=[],t._box=null,t}return Bt(t,e),t.prototype.dispose=function(){ze(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,e.prototype.dispose.call(this)},t.prototype.attachWidget=function(e,t){Ae.insert(this._items,e,new Ut(t)),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){Ae.move(this._items,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=Ae.removeAt(this._items,e);this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&nt.sendMessage(t,Ft.Msg.AfterDetach),n.widget.node.style.zIndex="",n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,t=0,n=0,r=this._items.length;n<r;++n){var i=this._items[n];i.isHidden||(i.fit(),e=Math.max(e,i.minWidth),t=Math.max(t,i.minHeight))}var o=this._box=qe.boxSizing(this.parent.node);e+=o.horizontalSum,t+=o.verticalSum;var a=this.parent.node.style;a.minWidth=e+"px",a.minHeight=t+"px",this._dirty=!0,this.parent.parent&&nt.sendMessage(this.parent.parent,Ft.Msg.FitRequest),this._dirty&&nt.sendMessage(this.parent,Ft.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,r=0,i=this._items.length;r<i;++r)n+=+!this._items[r].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=qe.boxSizing(this.parent.node));var o=this._box.paddingTop,a=this._box.paddingLeft,s=e-this._box.horizontalSum,c=t-this._box.verticalSum;for(r=0,i=this._items.length;r<i;++r){var l=this._items[r];l.isHidden||(l.widget.node.style.zIndex=""+r,l.update(a,o,s,c))}}},t}(qt),xn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:_n.createLayout(t)})||this;return n._widgetRemoved=new ut(n),n.addClass("lm-StackedPanel"),n.addClass("p-StackedPanel"),n}return Bt(t,e),Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child"),e.child.addClass("p-StackedPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child"),e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},t}($t);!function(e){e.createLayout=function(e){return e.layout||new wn}}(_n||(_n={})),function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n._currentChanged=new ut(n),n.addClass("lm-TabPanel"),n.addClass("p-TabPanel"),n.tabBar=new sn(t),n.tabBar.addClass("lm-TabPanel-tabBar"),n.stackedPanel=new xn,n.stackedPanel.addClass("lm-TabPanel-stackedPanel"),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=t.tabPlacement||"top";var r=yn.directionFromPlacement(n._tabPlacement),i=yn.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=i,n.tabBar.dataset.placement=n._tabPlacement;var o=new Zt({direction:r,spacing:0});return Zt.setStretch(n.tabBar,0),Zt.setStretch(n.stackedPanel,1),o.addWidget(n.tabBar),o.addWidget(n.stackedPanel),n.layout=o,n}Bt(t,e),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=yn.directionFromPlacement(e),n=yn.orientationFromPlacement(e);this.tabBar.orientation=n,this.tabBar.dataset.placement=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},t.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,r=t.previousTitle,i=t.currentIndex,o=t.currentTitle,a=r?r.owner:null,s=o?o.owner:null;a&&a.hide(),s&&s.show(),this._currentChanged.emit({previousIndex:n,previousWidget:a,currentIndex:i,currentWidget:s}),(Ze.IS_EDGE||Ze.IS_IE)&&nt.flush()},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},t.prototype._onWidgetRemoved=function(e,t){this.tabBar.removeTab(t.title)}}(Ft),function(e){e.orientationFromPlacement=function(e){return t[e]},e.directionFromPlacement=function(e){return n[e]};var t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}}(yn||(yn={}));const kn=ResizeObserver;let Mn,Sn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Sn.decode();let Cn=null;function An(){return null!==Cn&&Cn.buffer===Mn.memory.buffer||(Cn=new Uint8Array(Mn.memory.buffer)),Cn}function Tn(e,t){return Sn.decode(An().subarray(e,e+t))}const En=new Array(32).fill(void 0);En.push(void 0,null,!0,!1);let zn=En.length;function Pn(e){zn===En.length&&En.push(En.length+1);const t=zn;return zn=En[t],En[t]=e,t}function In(e){return En[e]}let Dn=0,Ln=new TextEncoder("utf-8");const Nn="function"==typeof Ln.encodeInto?function(e,t){return Ln.encodeInto(e,t)}:function(e,t){const n=Ln.encode(e);return t.set(n),{read:e.length,written:n.length}};function On(e,t,n){if(void 0===n){const n=Ln.encode(e),r=t(n.length);return An().subarray(r,r+n.length).set(n),Dn=n.length,r}let r=e.length,i=t(r);const o=An();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;o[i+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),i=n(i,r,r=a+3*e.length);const t=An().subarray(i+a,i+r);a+=Nn(e,t).written}return Dn=a,i}let Bn=null;function Vn(){return null!==Bn&&Bn.buffer===Mn.memory.buffer||(Bn=new Int32Array(Mn.memory.buffer)),Bn}function Rn(e){const t=In(e);return function(e){e<36||(En[e]=zn,zn=e)}(e),t}function jn(e){return null==e}let Fn=null;function Hn(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=Hn(e[0]));for(let r=1;r<t;r++)n+=", "+Hn(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}function Wn(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{i.cnt++;const t=i.a;i.a=0;try{return r(t,i.b,...e)}finally{0==--i.cnt?Mn.__wbindgen_export_2.get(i.dtor)(t,i.b):i.a=t}};return o.original=i,o}function Un(e,t,n){Mn._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h53b4d469cd938f46(e,t,Pn(n))}function Yn(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{i.cnt++;try{return r(i.a,i.b,...e)}finally{0==--i.cnt&&(Mn.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0)}};return o.original=i,o}function qn(e,t,n){return Rn(Mn._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf8e580659c4a6aa4(e,t,Pn(n)))}function Zn(e,t,n){Mn._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hd24871b03e982b96(e,t,Pn(n))}function Gn(e,t,n){return Rn(Mn._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h506193790338abde(e,t,Pn(n)))}function $n(e,t,n){Mn._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h98b1bfd6f909c29a(e,t,Pn(n))}function Xn(e,t){Mn._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h177f0ca32657e778(e,t)}function Kn(e,t,n){Mn._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h479569e71572058c(e,t,Pn(n))}function Qn(e,t,n,r,i){return Rn(Mn._dyn_core__ops__function__Fn__A_B_C___Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__he1b4b09ea4d4202c(e,t,Pn(n),Pn(r),Pn(i)))}let Jn=32;function er(e,t,n){try{Mn._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h909631b74d3adb4a(e,t,function(e){if(1==Jn)throw new Error("out of js stack");return En[--Jn]=e,Jn}(n))}finally{En[Jn++]=void 0}}function tr(e,t){Mn._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3c28690f13f4a967(e,t)}function nr(e,t,n){Mn._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h67d4f8890949011b(e,t,Pn(n))}function rr(e,t){try{return e.apply(this,t)}catch(e){Mn.__wbindgen_exn_store(Pn(e))}}class ir{static __wrap(e){const t=Object.create(ir.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();Mn.__wbg_perspectivecolumnstyleelement_free(e)}constructor(e,t,n){var r=Mn.perspectivecolumnstyleelement_new(Pn(e),Pn(t),Pn(n));return ir.__wrap(r)}reset(e,t){Mn.perspectivecolumnstyleelement_reset(this.ptr,Pn(e),Pn(t))}open(e){Mn.perspectivecolumnstyleelement_open(this.ptr,Pn(e))}close(){Mn.perspectivecolumnstyleelement_close(this.ptr)}connected_callback(){Mn.perspectivecolumnstyleelement_connected_callback(this.ptr)}}class or{static __wrap(e){const t=Object.create(or.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();Mn.__wbg_perspectiveviewerelement_free(e)}constructor(e){var t=Mn.perspectiveviewerelement_new(Pn(e));return or.__wrap(t)}connected_callback(){Mn.perspectiveviewerelement_connected_callback(this.ptr)}js_load(e){return Rn(Mn.perspectiveviewerelement_js_load(this.ptr,Pn(e)))}js_delete(){return Rn(Mn.perspectiveviewerelement_js_delete(this.ptr))}js_get_view(){return Rn(Mn.perspectiveviewerelement_js_get_view(this.ptr))}js_get_table(e){return Rn(Mn.perspectiveviewerelement_js_get_table(this.ptr,e))}js_flush(){return Rn(Mn.perspectiveviewerelement_js_flush(this.ptr))}js_restore(e){return Rn(Mn.perspectiveviewerelement_js_restore(this.ptr,Pn(e)))}js_save(e){var t=jn(e)?0:On(e,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),n=Dn;return Rn(Mn.perspectiveviewerelement_js_save(this.ptr,t,n))}js_download(e){return Rn(Mn.perspectiveviewerelement_js_download(this.ptr,e))}js_copy(e){return Rn(Mn.perspectiveviewerelement_js_copy(this.ptr,e))}js_reset(e){return Rn(Mn.perspectiveviewerelement_js_reset(this.ptr,Pn(e)))}js_resize(e){return Rn(Mn.perspectiveviewerelement_js_resize(this.ptr,e))}js_set_auto_size(e){Mn.perspectiveviewerelement_js_set_auto_size(this.ptr,e)}js_get_edit_port(){return Mn.perspectiveviewerelement_js_get_edit_port(this.ptr)}js_restyle_element(){return Rn(Mn.perspectiveviewerelement_js_restyle_element(this.ptr))}js_set_throttle(e){Mn.perspectiveviewerelement_js_set_throttle(this.ptr,!jn(e),jn(e)?0:e)}js_toggle_config(e){return Rn(Mn.perspectiveviewerelement_js_toggle_config(this.ptr,jn(e)?16777215:e?1:0))}js_get_all_plugins(){return Rn(Mn.perspectiveviewerelement_js_get_all_plugins(this.ptr))}js_get_plugin(e){var t=jn(e)?0:On(e,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),n=Dn;return Rn(Mn.perspectiveviewerelement_js_get_plugin(this.ptr,t,n))}}const ar=async function e(t){void 0===t&&(t=new URL(n(9735),n.b));const r={wbg:{}};r.wbg.__wbindgen_json_parse=function(e,t){return Pn(JSON.parse(Tn(e,t)))},r.wbg.__wbindgen_json_serialize=function(e,t){const n=In(t);var r=On(JSON.stringify(void 0===n?null:n),Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),i=Dn;Vn()[e/4+1]=i,Vn()[e/4+0]=r},r.wbg.__wbindgen_string_new=function(e,t){return Pn(Tn(e,t))},r.wbg.__wbindgen_object_clone_ref=function(e){return Pn(In(e))},r.wbg.__wbindgen_object_drop_ref=function(e){Rn(e)},r.wbg.__wbindgen_number_new=function(e){return Pn(e)},r.wbg.__wbindgen_cb_drop=function(e){const t=Rn(e).original;return 1==t.cnt--&&(t.a=0,!0)},r.wbg.__wbg_size_7021af868456443a=function(){return rr((function(e){return Pn(In(e).size())}),arguments)},r.wbg.__wbg_delete_2a66fbd418b1cdbb=function(){return rr((function(e){return Pn(In(e).delete())}),arguments)},r.wbg.__wbg_resize_7cddb0b33bcd73c1=function(){return rr((function(e){return Pn(In(e).resize())}),arguments)},r.wbg.__wbg_validateexpressions_d7570066b11599d5=function(){return rr((function(e,t){return Pn(In(e).validate_expressions(Rn(t)))}),arguments)},r.wbg.__wbg_save_d4e5bfee882e1687=function(e){return Pn(In(e).save())},r.wbg.__wbg_makeport_fa8d1c47fce9fab2=function(){return rr((function(e){return Pn(In(e).make_port())}),arguments)},r.wbg.__wbg_monacomodule_e0196b5f793ebd79=function(){return Pn(async function(){return await n.e(641).then(n.bind(n,4689))}())},r.wbg.__wbg_schema_5072b8075346144c=function(){return rr((function(e){return Pn(In(e).schema())}),arguments)},r.wbg.__wbg_draw_68b5bec6c49d9537=function(){return rr((function(e,t,n,r,i,o,a){return Pn(In(e).draw(In(t),0===n?void 0:r>>>0,0===i?void 0:o>>>0,0!==a))}),arguments)},r.wbg.__wbg_default_ae230a3a54ef4360=function(){return Pn(async function(){return await new Worker(n.p+"editor.worker.js")}())},r.wbg.__wbg_numcolumns_ca3b90e5758d4cc4=function(){return rr((function(e){return Pn(In(e).num_columns())}),arguments)},r.wbg.__wbg_numrows_bfa0daf338aee083=function(){return rr((function(e){return Pn(In(e).num_rows())}),arguments)},r.wbg.__wbg_restyle_a9ed1963cd616df4=function(){return rr((function(e,t){return Pn(In(e).restyle(In(t)))}),arguments)},r.wbg.__wbg_register_5cef7f4ceb18dac9=function(e,t){In(e).register(Rn(t))},r.wbg.__wbg_setMonarchTokensProvider_a474b0b926df5e72=function(e,t,n,r){In(e).setMonarchTokensProvider(Tn(t,n),Rn(r))},r.wbg.__wbg_setLanguageConfiguration_8c4c063e2129b864=function(e,t,n,r){In(e).setLanguageConfiguration(Tn(t,n),Rn(r))},r.wbg.__wbg_registerCompletionItemProvider_3b1dfed9945161f5=function(e,t,n,r){In(e).registerCompletionItemProvider(Tn(t,n),Rn(r))},r.wbg.__wbg_update_212fef5bc3ec3f57=function(){return rr((function(e,t,n,r,i,o,a){return Pn(In(e).update(In(t),0===n?void 0:r>>>0,0===i?void 0:o>>>0,0!==a))}),arguments)},r.wbg.__wbg_columns_6c3cf45d167745d7=function(){return rr((function(e){return Pn(In(e).columns())}),arguments)},r.wbg.__wbg_tocsv_4e5b0c79211496e9=function(){return rr((function(e,t){return Pn(In(e).to_csv(Rn(t)))}),arguments)},r.wbg.__wbg_schema_299601974bdb2121=function(){return rr((function(e){return Pn(In(e).schema())}),arguments)},r.wbg.__wbg_view_ca467a892d036d57=function(){return rr((function(e,t){return Pn(In(e).view(In(t)))}),arguments)},r.wbg.__wbindgen_is_null=function(e){return null===In(e)},r.wbg.__wbg_lineNumber_bae643dee5b6fac6=function(e){return In(e).lineNumber},r.wbg.__wbg_column_5dc2ec4a9446da5b=function(e){return In(e).column},r.wbg.__wbg_findTokenIndexAtOffset_28c53f44c2fabd17=function(e,t){return In(e).findTokenIndexAtOffset(t>>>0)},r.wbg.__wbg_getClassName_dc8a0b1d4f360527=function(e,t){return Pn(In(e).getClassName(t>>>0))},r.wbg.__wbindgen_jsval_eq=function(e,t){return In(e)===In(t)},r.wbg.__wbg_triggerKind_a04b39923e7f8080=function(e){return In(e).triggerKind},r.wbg.__wbg_restore_76e4aa8fb7320db8=function(e,t){In(e).restore(In(t))},r.wbg.__wbg_delete_cbf9e01614dcd93d=function(e){In(e).delete()},r.wbg.__wbg_setrenderwarning_7f18f43f4c195de9=function(e,t){In(e).render_warning=0!==t},r.wbg.__wbindgen_is_undefined=function(e){return void 0===In(e)},r.wbg.__wbg_editor_a3e8f38e5a6ff050=function(e){return Pn(In(e).editor)},r.wbg.__wbg_languages_bdce22417e89d114=function(e){return Pn(In(e).languages)},r.wbg.__wbg_create_2b2bfbcdaf3a80ac=function(e,t,n){return Pn(In(e).create(Rn(t),Rn(n)))},r.wbg.__wbg_defineTheme_d37305aaddf23730=function(e,t,n,r){In(e).defineTheme(Tn(t,n),Rn(r))},r.wbg.__wbg_setModelMarkers_b67b2e9724d8e76f=function(e,t,n,r,i){In(e).setModelMarkers(In(t),Tn(n,r),In(i))},r.wbg.__wbg_layout_e155854fca3e6a1a=function(e,t){In(e).layout(In(t))},r.wbg.__wbg_getModel_923cb083a285ba71=function(e){return Pn(In(e).getModel())},r.wbg.__wbg_getValue_30be2d9f0a0559a4=function(e){return Pn(In(e).getValue())},r.wbg.__wbg_setValue_6eca76f49bed2cf7=function(e,t,n){In(e).setValue(Tn(t,n))},r.wbg.__wbg_setPosition_f1690886e8f9176a=function(e,t){In(e).setPosition(In(t))},r.wbg.__wbg_addCommand_98b1790956464b06=function(e,t,n){In(e).addCommand(t>>>0,In(n))},r.wbg.__wbg_focus_3131955a4b5e7d82=function(e){In(e).focus()},r.wbg.__wbg_onDidChangeContent_d41320178f8fc3db=function(e,t){In(e).onDidChangeContent(In(t))},r.wbg.__wbg_getLineTokens_4d587d3918470176=function(e,t){return Pn(In(e).getLineTokens(t>>>0))},r.wbg.__wbg_onupdate_9b5a885e9fd72396=function(e,t){In(e).on_update(In(t))},r.wbg.__wbg_removeupdate_8369e0bc3d34e1fc=function(e,t){In(e).remove_update(In(t))},r.wbg.__wbg_errors_5588c8bb5de1f6ca=function(e){return Pn(In(e).errors)},r.wbg.__wbg_expressionschema_360e1fb9b7a86594=function(e){return Pn(In(e).expression_schema)},r.wbg.__wbg_expressionalias_c29958fc7f2b9f5a=function(e){return Pn(In(e).expression_alias)},r.wbg.__wbg_name_ffec4c011f05a36f=function(e,t){var n=On(In(t).name,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_maxcolumns_9905aa44ce5bdf3e=function(e,t){var n=In(t).max_columns;Vn()[e/4+1]=jn(n)?0:n,Vn()[e/4+0]=!jn(n)},r.wbg.__wbg_maxcells_b9453739c4f8d0df=function(e,t){var n=In(t).max_cells;Vn()[e/4+1]=jn(n)?0:n,Vn()[e/4+0]=!jn(n)},r.wbg.__wbg_renderwarning_20c26e28783869b4=function(e){var t=In(e).render_warning;return jn(t)?16777215:t?1:0},r.wbg.__wbg_selectmode_6fecb5f6426e7d2d=function(e){return Pn(In(e).select_mode)},r.wbg.__wbg_minconfigcolumns_2b141a9a4af6c59e=function(e,t){var n=In(t).min_config_columns;Vn()[e/4+1]=jn(n)?0:n,Vn()[e/4+0]=!jn(n)},r.wbg.__wbg_configcolumnnames_0757342ef5bd0e91=function(e){var t=In(e).config_column_names;return jn(t)?0:Pn(t)},r.wbg.__wbg_new_0996eb6852c8fcd7=function(e){return Pn(new kn(In(e)))},r.wbg.__wbg_observe_61640aa76650bada=function(e,t){In(e).observe(In(t))},r.wbg.__wbg_unobserve_0c2f4caad1896637=function(e,t){In(e).unobserve(In(t))},r.wbg.__wbg_contentRect_a94859f043ac1527=function(e){return Pn(In(e).contentRect)},r.wbg.__wbg_new_59cb74e423758ede=function(){return Pn(new Error)},r.wbg.__wbg_stack_558ba5917b466edd=function(e,t){var n=On(In(t).stack,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_error_4bb6c2a97407129a=function(e,t){try{console.error(Tn(e,t))}finally{Mn.__wbindgen_free(e,t)}},r.wbg.__wbg_newwithu8arraysequence_717878549d30e47f=function(){return rr((function(e){return Pn(new Blob(In(e)))}),arguments)},r.wbg.__wbg_writeText_cacf5a0e39e301cf=function(e,t,n){return Pn(In(e).writeText(Tn(t,n)))},r.wbg.__wbg_getPropertyValue_74b0b2fd345b03c9=function(){return rr((function(e,t,n,r){var i=On(In(t).getPropertyValue(Tn(n,r)),Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),o=Dn;Vn()[e/4+1]=o,Vn()[e/4+0]=i}),arguments)},r.wbg.__wbg_setProperty_e3d42ccff5ebac2f=function(){return rr((function(e,t,n,r,i){In(e).setProperty(Tn(t,n),Tn(r,i))}),arguments)},r.wbg.__wbg_new_9907abcf6ec2b9a0=function(){return rr((function(e,t){return Pn(new CustomEvent(Tn(e,t)))}),arguments)},r.wbg.__wbg_newwitheventinitdict_db06a760c6f3e418=function(){return rr((function(e,t,n){return Pn(new CustomEvent(Tn(e,t),In(n)))}),arguments)},r.wbg.__wbg_setDragImage_a9b7e618fc64880c=function(e,t,n,r){In(e).setDragImage(In(t),n,r)},r.wbg.__wbg_readyState_579fe5d90b8e2552=function(e,t){var n=On(In(t).readyState,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_body_08ba7a3043ff8e77=function(e){var t=In(e).body;return jn(t)?0:Pn(t)},r.wbg.__wbg_fonts_f832055e8b7cb21e=function(e){return Pn(In(e).fonts)},r.wbg.__wbg_createElement_7cbe07ad3289abea=function(){return rr((function(e,t,n){return Pn(In(e).createElement(Tn(t,n)))}),arguments)},r.wbg.__wbg_createElementNS_ae76308e06470c87=function(){return rr((function(e,t,n,r,i){return Pn(In(e).createElementNS(0===t?void 0:Tn(t,n),Tn(r,i)))}),arguments)},r.wbg.__wbg_createTextNode_bbff6f9f6e6b38bf=function(e,t,n){return Pn(In(e).createTextNode(Tn(t,n)))},r.wbg.__wbg_width_5c7aabd2a7489c51=function(e){return In(e).width},r.wbg.__wbg_height_b3f5ccd4af20f47f=function(e){return In(e).height},r.wbg.__wbg_width_4a05f41e80124c7f=function(e){return In(e).width},r.wbg.__wbg_height_34876dec0309368d=function(e){return In(e).height},r.wbg.__wbg_top_759d072a3a15fd13=function(e){return In(e).top},r.wbg.__wbg_left_515d30ed4e76f921=function(e){return In(e).left},r.wbg.__wbg_get_59a8aefe136d2a82=function(e,t,n,r){var i=In(t)[Tn(n,r)],o=jn(i)?0:On(i,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),a=Dn;Vn()[e/4+1]=a,Vn()[e/4+0]=o},r.wbg.__wbg_set_a19051e252972900=function(){return rr((function(e,t,n,r,i){In(e)[Tn(t,n)]=Tn(r,i)}),arguments)},r.wbg.__wbg_delete_da6a924ec6dfb430=function(e,t,n){delete In(e)[Tn(t,n)]},r.wbg.__wbg_add_7aae9b7574ae2ffd=function(){return rr((function(e,t,n){In(e).add(Tn(t,n))}),arguments)},r.wbg.__wbg_remove_13a99cef9b30fd93=function(){return rr((function(e,t,n){In(e).remove(Tn(t,n))}),arguments)},r.wbg.__wbg_dataTransfer_f3d4cd9b8a33f8cd=function(e){var t=In(e).dataTransfer;return jn(t)?0:Pn(t)},r.wbg.__wbg_instanceof_Element_6bc6669240998e07=function(e){return In(e)instanceof Element},r.wbg.__wbg_namespaceURI_5ab9ad8edd6b745e=function(e,t){var n=In(t).namespaceURI,r=jn(n)?0:On(n,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),i=Dn;Vn()[e/4+1]=i,Vn()[e/4+0]=r},r.wbg.__wbg_classList_1f142788c78799ed=function(e){return Pn(In(e).classList)},r.wbg.__wbg_clientWidth_725008becfa6f008=function(e){return In(e).clientWidth},r.wbg.__wbg_clientHeight_cd4d7e2d713d4b5f=function(e){return In(e).clientHeight},r.wbg.__wbg_children_5570264a02a5348a=function(e){return Pn(In(e).children)},r.wbg.__wbg_attachShadow_121aeff0e52af368=function(){return rr((function(e,t){return Pn(In(e).attachShadow(In(t)))}),arguments)},r.wbg.__wbg_getAttribute_5d45357036c3ad3d=function(e,t,n,r){var i=In(t).getAttribute(Tn(n,r)),o=jn(i)?0:On(i,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),a=Dn;Vn()[e/4+1]=a,Vn()[e/4+0]=o},r.wbg.__wbg_getBoundingClientRect_813f74e2f4f344e2=function(e){return Pn(In(e).getBoundingClientRect())},r.wbg.__wbg_hasAttribute_7285532dbf4a3478=function(e,t,n){return In(e).hasAttribute(Tn(t,n))},r.wbg.__wbg_removeAttribute_43b052e0560d223b=function(){return rr((function(e,t,n){In(e).removeAttribute(Tn(t,n))}),arguments)},r.wbg.__wbg_setAttribute_b638fce95071fff6=function(){return rr((function(e,t,n,r,i){In(e).setAttribute(Tn(t,n),Tn(r,i))}),arguments)},r.wbg.__wbg_toggleAttribute_611dae8d928bf34f=function(){return rr((function(e,t,n,r){return In(e).toggleAttribute(Tn(t,n),0!==r)}),arguments)},r.wbg.__wbg_target_62e7aaed452a6541=function(e){var t=In(e).target;return jn(t)?0:Pn(t)},r.wbg.__wbg_currentTarget_78272dcb22832a88=function(e){var t=In(e).currentTarget;return jn(t)?0:Pn(t)},r.wbg.__wbg_preventDefault_4eb36ec8e5563ad6=function(e){In(e).preventDefault()},r.wbg.__wbg_stopPropagation_a8397a950849e3f6=function(e){In(e).stopPropagation()},r.wbg.__wbg_addEventListener_63378230aa6735d7=function(){return rr((function(e,t,n,r){In(e).addEventListener(Tn(t,n),In(r))}),arguments)},r.wbg.__wbg_addEventListener_e8fdfac380f9ea25=function(){return rr((function(e,t,n,r,i){In(e).addEventListener(Tn(t,n),In(r),In(i))}),arguments)},r.wbg.__wbg_dispatchEvent_ff22c95b95c5d04d=function(){return rr((function(e,t){return In(e).dispatchEvent(In(t))}),arguments)},r.wbg.__wbg_removeEventListener_19da1e4551104118=function(){return rr((function(e,t,n,r){In(e).removeEventListener(Tn(t,n),In(r))}),arguments)},r.wbg.__wbg_removeEventListener_0007cd1449f82876=function(){return rr((function(e,t,n,r,i){In(e).removeEventListener(Tn(t,n),In(r),0!==i)}),arguments)},r.wbg.__wbg_instanceof_FontFace_9821b9acee3abf4f=function(e){return In(e)instanceof FontFace},r.wbg.__wbg_family_f0f774ca2883f93c=function(e,t){var n=On(In(t).family,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_weight_1091d687334c6c24=function(e,t){var n=On(In(t).weight,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_loaded_8c895fa7e9477709=function(){return rr((function(e){return Pn(In(e).loaded)}),arguments)},r.wbg.__wbg_values_04b408eb3d6d7687=function(e){return Pn(In(e).values())},r.wbg.__wbg_next_016bee4a741ccb79=function(){return rr((function(e){return Pn(In(e).next())}),arguments)},r.wbg.__wbg_item_a479291920c028ec=function(e,t){var n=In(e).item(t>>>0);return jn(n)?0:Pn(n)},r.wbg.__wbg_dataset_49b9d3bcc6ea66c2=function(e){return Pn(In(e).dataset)},r.wbg.__wbg_style_854f82bcc16efd28=function(e){return Pn(In(e).style)},r.wbg.__wbg_offsetParent_8de5608b9b91f0c9=function(e){var t=In(e).offsetParent;return jn(t)?0:Pn(t)},r.wbg.__wbg_offsetWidth_fcd49defe585c688=function(e){return In(e).offsetWidth},r.wbg.__wbg_offsetHeight_bb51b47c9f03728a=function(e){return In(e).offsetHeight},r.wbg.__wbg_blur_11fab903447f8be6=function(){return rr((function(e){In(e).blur()}),arguments)},r.wbg.__wbg_click_5bcdaa3dfcd006fb=function(e){In(e).click()},r.wbg.__wbg_focus_a3a607c2c1081818=function(){return rr((function(e){In(e).focus()}),arguments)},r.wbg.__wbg_instanceof_HtmlInputElement_bd1ce15e756a8ae2=function(e){return In(e)instanceof HTMLInputElement},r.wbg.__wbg_checked_3edadcb55226cc83=function(e){return In(e).checked},r.wbg.__wbg_setchecked_1fe693236b4c24f3=function(e,t){In(e).checked=0!==t},r.wbg.__wbg_files_942fbf6943996106=function(e){var t=In(e).files;return jn(t)?0:Pn(t)},r.wbg.__wbg_value_e27a74c3db49694f=function(e,t){var n=On(In(t).value,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_setvalue_4f1af4fbd0b9942b=function(e,t,n){In(e).value=Tn(t,n)},r.wbg.__wbg_instanceof_HtmlSelectElement_9e453923d9cacda8=function(e){return In(e)instanceof HTMLSelectElement},r.wbg.__wbg_value_b431982196f2362c=function(e,t){var n=On(In(t).value,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_setvalue_3bf5c8f910de1ebe=function(e,t,n){In(e).value=Tn(t,n)},r.wbg.__wbg_instanceof_HtmlTextAreaElement_ceec64505a6bc087=function(e){return In(e)instanceof HTMLTextAreaElement},r.wbg.__wbg_value_41a8d072fc94a8a4=function(e,t){var n=On(In(t).value,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_setvalue_e3b8a9c5a4ad0114=function(e,t,n){In(e).value=Tn(t,n)},r.wbg.__wbg_keyCode_9de4c14bf3d88f3c=function(e){return In(e).keyCode},r.wbg.__wbg_clientX_df24871aabb01061=function(e){return In(e).clientX},r.wbg.__wbg_shiftKey_31c1bdd985f9be8e=function(e){return In(e).shiftKey},r.wbg.__wbg_relatedTarget_a0da548df21c06bf=function(e){var t=In(e).relatedTarget;return jn(t)?0:Pn(t)},r.wbg.__wbg_clipboard_06b3f6375fedd3b7=function(e){return Pn(In(e).clipboard)},r.wbg.__wbg_nodeName_36e9b947eea43be6=function(e,t){var n=On(In(t).nodeName,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbg_isConnected_b09abcd930e87ef7=function(e){return In(e).isConnected},r.wbg.__wbg_parentNode_be5a24e2fde5b638=function(e){var t=In(e).parentNode;return jn(t)?0:Pn(t)},r.wbg.__wbg_lastChild_5fc52139f307fbaa=function(e){var t=In(e).lastChild;return jn(t)?0:Pn(t)},r.wbg.__wbg_setnodeValue_7404ea475784eb1c=function(e,t,n){In(e).nodeValue=0===t?void 0:Tn(t,n)},r.wbg.__wbg_textContent_8c1def1e3477ec2e=function(e,t){var n=In(t).textContent,r=jn(n)?0:On(n,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),i=Dn;Vn()[e/4+1]=i,Vn()[e/4+0]=r},r.wbg.__wbg_appendChild_98dedaeac24501f2=function(){return rr((function(e,t){return Pn(In(e).appendChild(In(t)))}),arguments)},r.wbg.__wbg_contains_2f199b3210c5028a=function(e,t){return In(e).contains(In(t))},r.wbg.__wbg_insertBefore_5886cc01dc0233e3=function(){return rr((function(e,t,n){return Pn(In(e).insertBefore(In(t),In(n)))}),arguments)},r.wbg.__wbg_removeChild_51369e223cb8a779=function(){return rr((function(e,t){return Pn(In(e).removeChild(In(t)))}),arguments)},r.wbg.__wbg_now_5ae3d18d57dd226f=function(e){return In(e).now()},r.wbg.__wbg_instanceof_ShadowRoot_0f1ffdfecd50b13b=function(e){return In(e)instanceof ShadowRoot},r.wbg.__wbg_host_176eeb3f3cb78943=function(e){return Pn(In(e).host)},r.wbg.__wbg_createObjectURL_e46eb3ca9fdf20c5=function(){return rr((function(e,t){var n=On(URL.createObjectURL(In(t)),Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n}),arguments)},r.wbg.__wbg_instanceof_Window_fbe0320f34c4cd31=function(e){return In(e)instanceof Window},r.wbg.__wbg_document_2b44f2a86e03665a=function(e){var t=In(e).document;return jn(t)?0:Pn(t)},r.wbg.__wbg_navigator_74ca2cbc2348b985=function(e){return Pn(In(e).navigator)},r.wbg.__wbg_innerWidth_c4fa0fec0fd477b8=function(){return rr((function(e){return Pn(In(e).innerWidth)}),arguments)},r.wbg.__wbg_innerHeight_6344b1c89c013158=function(){return rr((function(e){return Pn(In(e).innerHeight)}),arguments)},r.wbg.__wbg_performance_eee010e5e49f08df=function(e){var t=In(e).performance;return jn(t)?0:Pn(t)},r.wbg.__wbg_getComputedStyle_229a290295f66091=function(){return rr((function(e,t){var n=In(e).getComputedStyle(In(t));return jn(n)?0:Pn(n)}),arguments)},r.wbg.__wbg_requestAnimationFrame_65ebf8f2415064e2=function(){return rr((function(e,t){return In(e).requestAnimationFrame(In(t))}),arguments)},r.wbg.__wbg_setTimeout_62ddbd1dbc58b759=function(){return rr((function(e,t,n){return In(e).setTimeout(In(t),n)}),arguments)},r.wbg.__wbg_error_9783be44659339ea=function(e){console.error(In(e))},r.wbg.__wbg_error_5d177043c8522b3b=function(e,t,n){console.error(In(e),In(t),In(n))},r.wbg.__wbg_warn_632e55193637edf0=function(e){console.warn(In(e))},r.wbg.__wbg_new_1abc33d4f9ba3e80=function(){return Pn(new Array)},r.wbg.__wbg_get_a8b9619536c590d4=function(e,t){return Pn(In(e)[t>>>0])},r.wbg.__wbg_length_4c7aec6f35774e3d=function(e){return In(e).length},r.wbg.__wbg_push_44968dcdf4cfbb43=function(e,t){return In(e).push(In(t))},r.wbg.__wbg_instanceof_ArrayBuffer_c1c493728d7c2825=function(e){return In(e)instanceof ArrayBuffer},r.wbg.__wbg_slice_aed6b880b22578b4=function(e,t,n){return Pn(In(e).slice(t>>>0,n>>>0))},r.wbg.__wbg_instanceof_Error_ee0400be53261d48=function(e){return In(e)instanceof Error},r.wbg.__wbg_message_def3f4d0edb6218f=function(e){return Pn(In(e).message)},r.wbg.__wbg_newnoargs_ab5e899738c0eff4=function(e,t){return Pn(new Function(Tn(e,t)))},r.wbg.__wbg_call_ab183a630df3a257=function(){return rr((function(e,t){return Pn(In(e).call(In(t)))}),arguments)},r.wbg.__wbg_call_7a2b5e98ac536644=function(){return rr((function(e,t,n){return Pn(In(e).call(In(t),In(n)))}),arguments)},r.wbg.__wbg_getTimezoneOffset_98f9d354772d45bf=function(e){return In(e).getTimezoneOffset()},r.wbg.__wbg_new_439e850043fbceaf=function(e){return Pn(new Date(In(e)))},r.wbg.__wbg_is_e8ad5aa6da4b8c83=function(e,t){return Object.is(In(e),In(t))},r.wbg.__wbg_keys_127b01ec83516fee=function(e){return Pn(Object.keys(In(e)))},r.wbg.__wbg_new_dc5b27cfd2149b8f=function(){return Pn(new Object)},r.wbg.__wbg_get_4bab9404e99a1f85=function(){return rr((function(e,t){return Pn(Reflect.get(In(e),In(t)))}),arguments)},r.wbg.__wbg_set_3afd31f38e771338=function(){return rr((function(e,t,n){return Reflect.set(In(e),In(t),In(n))}),arguments)},r.wbg.__wbg_buffer_bc64154385c04ac4=function(e){return Pn(In(e).buffer)},r.wbg.__wbg_instanceof_Promise_cbd2e204e5ad538f=function(e){return In(e)instanceof Promise},r.wbg.__wbg_new_bae826039151b559=function(e,t){try{var n={a:e,b:t},r=new Promise(((e,t)=>{const r=n.a;n.a=0;try{return function(e,t,n,r){Mn.wasm_bindgen__convert__closures__invoke2_mut__he202e67c3950b4e1(e,t,Pn(n),Pn(r))}(r,n.b,e,t)}finally{n.a=r}}));return Pn(r)}finally{n.a=n.b=0}},r.wbg.__wbg_resolve_9b0f9ddf5f89cb1e=function(e){return Pn(Promise.resolve(In(e)))},r.wbg.__wbg_then_b4358f6ec1ee6657=function(e,t){return Pn(In(e).then(In(t)))},r.wbg.__wbg_then_3d9a54b0affdf26d=function(e,t,n){return Pn(In(e).then(In(t),In(n)))},r.wbg.__wbg_self_77eca7b42660e1bb=function(){return rr((function(){return Pn(self.self)}),arguments)},r.wbg.__wbg_window_51dac01569f1ba70=function(){return rr((function(){return Pn(window.window)}),arguments)},r.wbg.__wbg_globalThis_34bac2d08ebb9b58=function(){return rr((function(){return Pn(globalThis.globalThis)}),arguments)},r.wbg.__wbg_global_1c436164a66c9c22=function(){return rr((function(){return Pn(n.g.global)}),arguments)},r.wbg.__wbg_newwithbyteoffsetandlength_3c8748473807c7cf=function(e,t,n){return Pn(new Uint8Array(In(e),t>>>0,n>>>0))},r.wbg.__wbg_new_22a33711cf65b661=function(e){return Pn(new Uint8Array(In(e)))},r.wbg.__wbg_buffer_1e44eb7f10bef0b1=function(e){return Pn(In(e).buffer)},r.wbg.__wbg_length_e9f6f145de2fede5=function(e){return In(e).length},r.wbg.__wbg_byteLength_b2e6f3c4410077a7=function(e){return In(e).byteLength},r.wbg.__wbg_byteOffset_13609605f9b31148=function(e){return In(e).byteOffset},r.wbg.__wbg_set_b29de3f25280c6ec=function(e,t,n){In(e).set(In(t),n>>>0)},r.wbg.__wbindgen_number_get=function(e,t){const n=In(t);var r="number"==typeof n?n:void 0;(null!==Fn&&Fn.buffer===Mn.memory.buffer||(Fn=new Float64Array(Mn.memory.buffer)),Fn)[e/8+1]=jn(r)?0:r,Vn()[e/4+0]=!jn(r)},r.wbg.__wbindgen_is_string=function(e){return"string"==typeof In(e)},r.wbg.__wbindgen_string_get=function(e,t){const n=In(t);var r="string"==typeof n?n:void 0,i=jn(r)?0:On(r,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),o=Dn;Vn()[e/4+1]=o,Vn()[e/4+0]=i},r.wbg.__wbindgen_boolean_get=function(e){const t=In(e);return"boolean"==typeof t?t?1:0:2},r.wbg.__wbindgen_debug_string=function(e,t){var n=On(Hn(In(t)),Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),r=Dn;Vn()[e/4+1]=r,Vn()[e/4+0]=n},r.wbg.__wbindgen_throw=function(e,t){throw new Error(Tn(e,t))},r.wbg.__wbindgen_rethrow=function(e){throw Rn(e)},r.wbg.__wbindgen_memory=function(){return Pn(Mn.memory)},r.wbg.__wbindgen_closure_wrapper2280=function(e,t,n){return Pn(Wn(e,t,36,Un))},r.wbg.__wbindgen_closure_wrapper2282=function(e,t,n){return Pn(Yn(e,t,30,qn))},r.wbg.__wbindgen_closure_wrapper2284=function(e,t,n){return Pn(Yn(e,t,42,Zn))},r.wbg.__wbindgen_closure_wrapper2286=function(e,t,n){return Pn(Wn(e,t,40,Gn))},r.wbg.__wbindgen_closure_wrapper2288=function(e,t,n){return Pn(Yn(e,t,32,$n))},r.wbg.__wbindgen_closure_wrapper2290=function(e,t,n){return Pn(Wn(e,t,28,Xn))},r.wbg.__wbindgen_closure_wrapper2292=function(e,t,n){return Pn(Wn(e,t,38,Kn))},r.wbg.__wbindgen_closure_wrapper2294=function(e,t,n){return Pn(Yn(e,t,34,Qn))},r.wbg.__wbindgen_closure_wrapper7248=function(e,t,n){return Pn(Wn(e,t,1262,er))},r.wbg.__wbindgen_closure_wrapper7831=function(e,t,n){return Pn(Wn(e,t,1325,tr))},r.wbg.__wbindgen_closure_wrapper7892=function(e,t,n){return Pn(Wn(e,t,1337,nr))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:i,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,r);return Mn=i.exports,e.__wbindgen_wasm_module=o,Mn};var sr=n(9735),cr=(n(2245),class extends HTMLElement{constructor(){super()}get name(){return"Debug"}get select_mode(){return"select"}get min_config_columns(){}get config_column_names(){}async update(e){return this.draw(e)}async draw(e){this.style.backgroundColor="#fff";let t=await e.to_csv({config:{delimiter:"|"}});this.innerHTML=`<pre style='margin:0;overflow:scroll;position:absolute;width:100%;height:100%'>${t}</pre>`}async clear(){this.innerHTML=""}async resize(){}async restyle(){}async save(){}async restore(){}async delete(){}});function lr(e){return 559903==new Uint32Array(e.slice(0,4))[0]}document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",cr),window.addEventListener("unhandledrejection",(e=>{"View method cancelled"===e.reason?.message&&e.preventDefault()}));var ur=async function(){let e=await sr,t=[],n=0,r=new L((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e instanceof URL||"string"==typeof e){let i=(await fetch(e.toString())).body.getReader(),o=0;for(;;){let{value:e,done:a}=await i.read();if(a)break;0===o&&lr(e.buffer)||1===o?(o=1,r.push(e,a)):(o=2,n+=e.byteLength,t.push(e))}}else if(e instanceof Uint8Array)lr(e.buffer)?r.push(e,!0):(n=e.byteLength,t=[e]);else{let i=new Uint8Array(e);lr(e)?r.push(i,!0):(n=i.byteLength,t=[i])}let i=0,o=new Uint8Array(n);for(let e of t)o.set(e,i),i+=e.byteLength;return await ar(o)}(),dr=class extends HTMLElement{constructor(){super(),this.load_wasm()}async load_wasm(){await ur,this.instance||(this.instance=new or(this))}async connectedCallback(){await this.load_wasm(),this.instance.connected_callback()}static async registerPlugin(e){var t,n;await ur,t=On(e,Mn.__wbindgen_malloc,Mn.__wbindgen_realloc),n=Dn,Mn.register_plugin(t,n)}async load(e){await this.load_wasm(),await this.instance.js_load(e)}async notifyResize(e=!1){await this.load_wasm(),await this.instance.js_resize(e)}async setAutoSize(e=!0){await this.load_wasm(),await this.instance.js_set_auto_size(e)}async getTable(e){return await this.load_wasm(),await this.instance.js_get_table(!!e)}async getView(){return await this.load_wasm(),await this.instance.js_get_view()}async restore(e){await this.load_wasm(),await this.instance.js_restore(e)}async save(e){return await this.load_wasm(),await this.instance.js_save(e)}async flush(){await this.load_wasm(),await this.instance.js_flush()}async reset(e=!1){await this.load_wasm(),await this.instance.js_reset(e)}async delete(){await this.load_wasm(),await this.instance.js_delete()}async download(e){await this.load_wasm(),await this.instance.js_download(e)}async copy(e){await this.load_wasm(),await this.instance.js_copy(e)}async restyleElement(){await this.load_wasm(),await this.instance.js_restyle_element()}async getEditPort(){return await this.load_wasm(),await this.instance.js_get_edit_port()}async setThrottle(e){await this.load_wasm(),await this.instance.js_set_throttle(e)}async toggleConfig(e){await this.load_wasm(),await this.instance.js_toggle_config(e)}async getPlugin(e){return await this.load_wasm(),await this.instance.js_get_plugin(e)}async getAllPlugins(){return await this.load_wasm(),await this.instance.js_get_all_plugins()}};document.createElement("perspective-viewer").constructor===HTMLElement&&window.customElements.define("perspective-viewer",dr);var fr=class extends HTMLElement{constructor(){super()}async open(e,t,n){this.instance?this.instance.reset(t,n):this.instance=new ir(this,t,n),this.instance.open(e)}};document.createElement("perspective-column-style").constructor===HTMLElement&&window.customElements.define("perspective-column-style",fr);var hr=n(5578),pr=n.n(hr),gr=n(3279),mr=n.n(gr),br=n(361),vr=n.n(br),_r=Object.defineProperty,yr=(e,t,n)=>(((e,t,n)=>{t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function wr(e,t){return class extends e{handleEvent(e){switch(e.type){case"mousedown":{let n=e.target;if(!n.classList.contains(t))break;[n,n.parentElement].some((e=>"horizontal"===e.getAttribute("data-orientation")))?this.addClass("ew"):this.addClass("ns"),this.addClass("resizing");let{clientX:r,clientY:i}=e;this._offset_target=n,this._offset_target.classList.add("resizing"),this.context=new class{_clamp(e,t){let n={width:100,height:200}[e],[r,i]=[n,this._rect[e]-n];return t<r?r:t>i?i:void 0}_block_move(e,t){let n=this._offset_drag_start[e],r=this._offset_drag_current[e],i=t-n;return 1*Math[t<r?"ceil":"floor"](i/1)+n}_check_prev(e,t){let{x:n,y:r}=this._offset_drag_current;return(e!==n||t!==r)&&(this._offset_drag_current={x:e,y:t},!0)}calculate_move({clientX:e,clientY:t}){e-=this._rect.left,t-=this._rect.top;let n=this._block_move("x",e),r=this._block_move("y",t);if(e=this._clamp("width",e)||this._clamp("width",n)||n,t=this._clamp("height",t)||this._clamp("height",r)||r,this._check_prev(e,t))return{x:e+this._rect.left,y:t+this._rect.top}}constructor(e,t,n){this._rect=n,this._offset_drag_start=this._offset_drag_current={x:e-n.left,y:t-n.top}}}(r,i,this.node.getBoundingClientRect())}break;case"mousemove":if(this.context&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let t=this.context.calculate_move(e);if(t){let n=function(e,t,n){let r=document.createEvent("MouseEvent");return r.initMouseEvent(n.type,!0,n.cancelable,n.view,n.detail,n.screenX,n.screenY,e,t,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),r}(t.x,t.y,e);super.handleEvent(n)}return}break;case"mouseup":this.removeClass("resizing"),this.removeClass("ew"),this.removeClass("ns"),this._offset_target.classList.remove("resizing"),delete this.context}super.handleEvent(e)}}}var xr=class extends(wr(ln,"p-DockPanel-handle")){},kr=class extends(wr(vn,"p-SplitPanel-handle")){constructor(...e){super(...e),this.layoutModified=new ut(this)}onUpdateRequest(...e){super.onUpdateRequest(...e),this.layoutModified.emit()}onResize(e){super.onResize(e)}},Mr="config",Sr="label",Cr="[untitled]",Ar=class extends sn.Renderer{constructor(e){super(),this.maximized=e}renderLabel(e){return Pt.input({className:"p-TabBar-tabLabel",readonly:!0,id:Sr,value:e.title.label||Cr})}renderTab(e){let t=e.title.caption,n=this.createTabKey(e),r=this.createTabStyle(e),i=this.createTabClass(e),o=this.createTabDataset(e);return Pt.li({key:n,className:i,title:t,style:r,dataset:o},this.renderConfigIcon(),this.renderLabel(e),this.renderCloseIcon(e),Pt.div({className:"divider"}))}renderConfigIcon(){return Pt.div({className:"p-TabBar-tabConfigIcon",id:Mr})}},Tr=class extends sn{constructor(e={}){super(e),this._addEventListeners(),this.__content_node__}onUpdateRequest(e){this.__content_node__=this.contentNode,super.onUpdateRequest(e),this._check_shade()}_check_shade(){Array.from(this.contentNode.children).filter((e=>e.classList.contains("settings_open")&&e.classList.contains("p-mod-current"))).length>0?this.contentNode.classList.add("inactive-blur"):this.contentNode.classList.remove("inactive-blur")}handleEvent(e){switch(this.retargetEvent(e),e.type){case"contextmenu":let t=this.currentTitle.owner;this.parent.parent.parent.showContextMenu(t,e),e.preventDefault();break;case"dblclick":e.target.id===Sr&&this.onTitleChangeRequest(e);break;case"mousedown":if(e.target.id===Mr){let t=this.contentNode.children,n=Ae.findFirstIndex(t,(t=>qe.hitTest(t,e.clientX,e.clientY)));if(n<0)break;return void this.titles[n].owner.toggleConfig()}}super.handleEvent(e)}onTitleChangeRequest(e){let t=e.target.value,n=e=>e.stopPropagation(),r={mousemove:n,mousedown:n,mouseup:n,keydown:e=>{13===e.keyCode&&(i(),this.currentTitle.owner.name=e.target.value,e.target.value=e.target.value||Cr,e.target.setAttribute("readonly",""),e.target.blur())},blur:()=>{this.title.label=t,e.target.value=t,e.target.setAttribute("readonly",""),i()}},i=()=>{for(let t in r)e.target.removeEventListener(t,r[t])};for(let t in r)e.target.addEventListener(t,r[t]);e.target.removeAttribute("readonly"),t===Cr&&(e.target.value=""),e.target.focus()}onResize(e){super.onResize(e),this.checkCondensed(e)}checkCondensed(e){(e?e.width:this.node.offsetWidth)/this.contentNode.children.length<400?this.node.classList.add("condensed"):this.node.classList.remove("condensed")}retargetEvent(e){return Object.defineProperty(e,"target",{value:e.composedPath()[0],enumerable:!0}),e}_addEventListeners(){this.tabActivateRequested.connect((()=>{this.currentTitle.owner.viewer.notifyResize(!0)})),this.node.addEventListener("dblclick",this),this.node.addEventListener("contextmenu",this)}},Er=class extends ln.Renderer{createTabBar(){let e=new Tr({renderer:new Ar});return e.addClass("p-DockPanel-tabBar"),e}},zr=class extends xr{constructor(){super({renderer:new Er}),this._renderer.dock=this}_onTabDetachRequested(e,t){super._onTabDetachRequested(e,t);let n=e.titles[0].owner;n.addClass("widget-blur"),this._drag&&this._drag._promise.then((()=>{n.removeClass("widget-blur")}))}static getWidgets(e){return e?.hasOwnProperty("main")?zr.getWidgets(e.main):e?.children?e.children.flatMap((e=>zr.getWidgets(e))):e?.widgets?e.widgets:[]}static mapWidgets(e,t){return t.main?t.main=zr.mapWidgets(e,t.main):t.children?t.children=t.children.map((t=>zr.mapWidgets(e,t))):t.widgets&&(t.widgets=t.widgets.map((t=>e(t)))),t}onAfterAttach(){this.spacing=parseInt(window.getComputedStyle(this.node).padding)||0}},Pr=class extends nn.Renderer{constructor(e){super(),this.workspace=e}renderIcon(e){let t=this.createIconClass(e),n=e.item.command.split(":").pop(),r=getComputedStyle(this.workspace).getPropertyValue(`--menu-${n}--content`).replace(/['"]+/g,"").trim();return Pt.div({className:t,content:r},e.item.iconLabel)}},Ir=class extends Ft{constructor({viewer:e,node:t}){super({node:t}),this.viewer=e,this.master=!1}set master(e){void 0!==e&&this._master!==e&&(e?(this.viewer.classList.add("workspace-master-widget"),this.viewer.classList.remove("workspace-detail-widget"),this.viewer.toggleAttribute?.("selectable",!0)):(this.viewer.classList.add("workspace-detail-widget"),this.viewer.classList.remove("workspace-master-widget"),this.viewer.removeAttribute("selectable")),this._master=e)}get master(){return this._master}get table(){return this.viewer.table}set name(e){null!=e&&(this.viewer.setAttribute("name",e),this.title.label=e,this._name=e)}get name(){return this._name}set linked(e){void 0!==e&&(e?this.viewer.setAttribute("linked",""):this.viewer.removeAttribute("linked"))}get linked(){return this.viewer.hasAttribute("linked")}toggleConfig(){return this.viewer.toggleConfig()}async load(e){this._is_table_loaded=!0;let t=[this.viewer.load(e)];this._restore_config&&t.push(this._restore_config()),await Promise.all(t)}restore(e){let{master:t,table:n,linked:r,name:i,editable:o,selectable:a,...s}=e;this.master=t,this.name=i,this.linked=r,n&&this.viewer.setAttribute("table",n),a&&this.viewer.setAttribute("selectable",a),o&&this.viewer.setAttribute("editable",o);let c=()=>this.viewer.restore({...s});if(this._is_table_loaded)return c();this._restore_config=c}async save(){let e={...await this.viewer.save(),master:this.master,name:this.viewer.getAttribute("name"),table:this.viewer.getAttribute("table"),linked:this.linked};return this.viewer.hasAttribute("selectable")&&(e.selectable=this.viewer.getAttribute("selectable")),this.viewer.hasAttribute("editable")&&(e.editable=this.viewer.getAttribute("editable")),e}removeClass(e){super.removeClass(e),this.viewer&&this.viewer.classList.remove(e)}async onCloseRequest(e){super.onCloseRequest(e),this.viewer.parentElement&&this.viewer.parentElement.removeChild(this.viewer),await this.viewer.delete()}},Dr=[1,3],Lr=0,Nr={LEFT:"left",RIGHT:"right"},Or={GLOBAL_FILTERS:"globalFilters",LINKED:"linked"},Br=class extends Map{set(e,t){this._set_listener?.(e,t),super.set(e,t)}get(e){return super.get(e)}delete(e){return!!this._delete_listener?.(e)&&super.delete(e)}addSetListener(e){this._set_listener=e}addDeleteListener(e){this._delete_listener=e}},Vr=class extends kr{constructor(e,t={}){super({orientation:"horizontal"}),yr(this,"onPerspectiveSelect",(async e=>{let t=await e.target.save();if("perspective-click"===e.type&&("Datagrid"===t.plugin||null===t.plugin))return;let n=new Set([...t.row_pivots||[],...t.column_pivots||[],...(t.filter||[]).map((e=>e[0]))]),r=[...e.detail.config.filter];this.mode===Or.LINKED?this._linkedViewers.forEach((t=>{t!==e.target&&this._filterViewer(t,r,n)})):Pe(this.dockpanel.widgets()).forEach((e=>this._filterViewer(e.viewer,r,n)))})),yr(this,"workspaceUpdated",(()=>{this._save||(this._save=mr()((()=>"single-document"!==this.dockpanel.mode&&this._fireUpdateEvent()),500)),this._save()})),this.addClass("perspective-workspace"),this.dockpanel=new zr("main",{enableContextMenu:!1}),this.detailPanel=new $t,this.detailPanel.layout.fitPolicy="set-no-constraint",this.detailPanel.addClass("perspective-scroll-panel"),this.detailPanel.addWidget(this.dockpanel),this.masterPanel=new kr({orientation:"vertical"}),this.masterPanel.addClass("master-panel"),this.dockpanel.layoutModified.connect((()=>this.workspaceUpdated())),this.masterPanel.layoutModified.connect((()=>this.workspaceUpdated())),this.layoutModified.connect((()=>this.workspaceUpdated())),this.addWidget(this.detailPanel),this.spacing=8,this.element=e,this._side=t.side||Nr.LEFT,this.mode=t.mode||Or.GLOBAL_FILTERS,this._linkedViewers=[],this.listeners=new WeakMap,this._tables=new Br,this._tables.addSetListener(this._set_listener.bind(this)),this._tables.addDeleteListener(this._delete_listener.bind(this)),this.commands=(e=>{let t=new Mt;return t.addCommand("workspace:export",{execute:e=>e.widget.viewer.download(),iconClass:"menu-export",label:"Export CSV",mnemonic:0}),t.addCommand("workspace:copy",{execute:e=>e.widget.viewer.copy(),iconClass:"menu-copy",label:"Copy To Clipboard",mnemonic:0}),t.addCommand("workspace:reset",{execute:e=>e.widget.viewer.reset(),iconClass:"menu-reset",label:"Reset",mnemonic:0}),t.addCommand("workspace:duplicate",{execute:({widget:t})=>e.duplicate(t),iconClass:"menu-duplicate",isVisible:t=>t.widget.parent===e.dockpanel,label:"Duplicate",mnemonic:0}),t.addCommand("workspace:master",{execute:t=>e.toggleMasterDetail(t.widget),isVisible:()=>e.mode===Or.GLOBAL_FILTERS,iconClass:t=>t.widget.parent===e.dockpanel?"menu-master":"menu-detail",label:t=>t.widget.parent===e.dockpanel?"Create Global Filter":"Remove Global Filter",mnemonic:0}),t.addCommand("workspace:link",{execute:t=>e.toggleLink(t.widget),isVisible:()=>e.mode===Or.LINKED,iconClass:t=>e.isLinked(t.widget)?"menu-unlink":"menu-link",label:t=>e.isLinked(t.widget)?"Unlink":"Link",mnemonic:0}),t.addCommand("workspace:maximize",{execute:t=>e.toggleSingleDocument(t.widget),isVisible:t=>t.widget.parent===e.dockpanel&&"single-document"!==e.dockpanel.mode,iconClass:"menu-maximize",label:()=>"Maximize",mnemonic:0}),t.addCommand("workspace:minimize",{execute:t=>e.toggleSingleDocument(t.widget),isVisible:t=>t.widget.parent===e.dockpanel&&"single-document"===e.dockpanel.mode,iconClass:"menu-minimize",label:()=>"Minimize",mnemonic:0}),t})(this),this.menuRenderer=new Pr(this.element),this.customCommands=[]}addTable(e,t){this.tables.set(e,t)}getTable(e){return this.tables.get(e)}removeTable(e){return this.tables.delete(e)}get tables(){return this._tables}set side(e){if(void 0!==Nr[e.toUpperCase()]){if(this._side!==e&&this.masterPanel.isAttached){let t=this.relativeSizes().slice().reverse();this.detailPanel.close(),this.detailPanel.removeClass("has-master-panel"),this.masterPanel.close(),e===Nr.LEFT?(this.addWidget(this.masterPanel),this.addWidget(this.detailPanel)):(this.addWidget(this.detailPanel),this.addWidget(this.masterPanel)),this.setRelativeSizes(t)}this._side=e}else console.warn("Unknown `side` attribute:",e)}get side(){return this._side}async save(){let e={sizes:[...this.relativeSizes()],detail:zr.mapWidgets((e=>e.viewer.getAttribute("slot")),this.dockpanel.saveLayout()),mode:this.mode};if(this.masterPanel.isAttached){let t={widgets:this.masterPanel.widgets.map((e=>e.viewer.getAttribute("slot"))),sizes:[...this.masterPanel.relativeSizes()]};e.master=t}let t={};for(let e of this.masterPanel.widgets)t[e.viewer.getAttribute("slot")]=await e.save();let n=zr.getWidgets(this.dockpanel.saveLayout());return await Promise.all(n.map((async e=>{t[e.viewer.getAttribute("slot")]=await e.save()}))),{...e,viewers:t}}async restore(e){let{sizes:t,master:n,detail:r,viewers:i=[],mode:o=Or.GLOBAL_FILTERS}=vr()(e);this.mode=o,this.mode===Or.GLOBAL_FILTERS&&n&&n.widgets.length>0?this.setupMasterPanel(t||Dr):(this.masterPanel.isAttached&&(this.detailPanel.removeClass("has-master-panel"),this.masterPanel.close()),this.addWidget(this.detailPanel));let a=[];for(let e of this._capture_viewers())for(let t of this._capture_widgets()){let o=this._restore_callback.bind(this,i,e,t);if(r){let e=zr.mapWidgets(o.bind(this,!1),r);this.dockpanel.restoreLayout(e),a=a.concat(zr.getWidgets(e).map((e=>e.task)))}n&&(this.mode===Or.GLOBAL_FILTERS?(a=a.concat(n.widgets.map((e=>o.bind(this,!0)(e).task))),n.sizes&&this.masterPanel.setRelativeSizes(n.sizes)):a=a.concat(n.widgets.map((e=>{let t=o.bind(this,void 0)(e);return this.dockpanel.addWidget(t),t.task}))))}await Promise.all(a)}*_capture_widgets(){let e=this.getAllWidgets();yield e;for(let t of e)t.node.isConnected||t.close()}*_capture_viewers(){let e=Array.from(this.element.children);yield e;let t=this.getAllWidgets();for(let n of e)!t.find((e=>e.viewer===n))&&Array.from(this.element.children).indexOf(n)>-1&&(this.element.removeChild(n),n.delete())}_restore_callback(e,t,n,r,i){let o;"string"==typeof i?o=e[i]:(o=i,i=o.slot);let a,s=!!i&&t.find((e=>e.getAttribute("slot")===i));return s?(a=n.find((e=>e.viewer===s)),a?a.restore({...o,master:r}):a=this._createWidget({config:{...o,master:r},viewer:s})):o?a=this._createWidgetAndNode({config:{...o,master:r},slot:i}):console.error(`Could not find or create <perspective-viewer> for slot "${i}"`),(r||this.mode===Or.LINKED)&&(a.viewer.addEventListener("perspective-select",this.onPerspectiveSelect),a.viewer.addEventListener("perspective-click",this.onPerspectiveSelect),this.masterPanel.addWidget(a)),a.linked&&this._linkWidget(a),a}_validate(e){if(!e||!("view"in e)||"function"!=typeof e?.view)throw new Error("Only `perspective.Table()` instances can be added to `tables`");return e}_set_listener(e,t){"function"==typeof t?.then?t=t.then(this._validate):this._validate(t),this.getAllWidgets().forEach((n=>{n.viewer.getAttribute("table")===e&&n.load(t)}))}_delete_listener(e){return!this.getAllWidgets().some((t=>t.viewer.getAttribute("table")===e))||(console.error(`Cannot remove table: '${e}' because it's still bound to widget(s)`),!1)}update_widget_for_viewer(e){let t=e.getAttribute("slot");if(t||(t=this._gen_id(),e.setAttribute("slot",t)),e.getAttribute("table")){if(!this.node.querySelector(`slot[name=${t}]`)){console.warn(`Undocked ${e.outerHTML}, creating default layout`);let t=this._createWidget({name:e.getAttribute("name"),table:e.getAttribute("table"),config:{master:!1},viewer:e});this.dockpanel.addWidget(t),this.dockpanel.activateWidget(t)}}else console.warn(`No table set for ${e.outerHTML}`)}remove_unslotted_widgets(e){let t=this.getAllWidgets();for(let n of t)-1===e.indexOf(n.viewer)&&n.close()}async duplicate(e){"single-document"===this.dockpanel.mode&&this.toggleSingleDocument(e);let t=await e.save();t.name=t.name?`${t.name} (duplicate)`:"";let n=this._createWidgetAndNode({config:t});if(t.linked&&this._linkWidget(n),e.master){let t=this.masterPanel.widgets.indexOf(e)+1;this.masterPanel.insertWidget(t,n)}else this.dockpanel.addWidget(n,{mode:"split-right",ref:e});await n.task}toggleMasterDetail(e){let t=e.parent!==this.dockpanel;this.element.dispatchEvent(new CustomEvent("workspace-toggle-global-filter",{detail:{widget:e,isGlobalFilter:!t}})),t?this.makeDetail(e):("single-document"===this.dockpanel.mode&&this.toggleSingleDocument(e),this.makeMaster(e))}_maximize(e){e.viewer.classList.add("widget-maximize"),this._minimizedLayout=this.dockpanel.saveLayout(),this._maximizedWidget=e,this.dockpanel.mode="single-document",this.dockpanel.activateWidget(e)}_unmaximize(){this._maximizedWidget.viewer.classList.remove("widget-maximize"),this.dockpanel.mode="multiple-document",this.dockpanel.restoreLayout(this._minimizedLayout)}toggleSingleDocument(e){"single-document"!==this.dockpanel.mode?this._maximize(e):this._unmaximize()}async _filterViewer(e,t,n){let r=await e.save(),i=await e.getTable(),o=Object.keys(await i.schema()),a=r.filter||[],s=t.filter((e=>e[0]&&o.includes(e[0])));s.push(...a.filter((e=>!n.has(e[0]))));let c=pr()(s,(e=>e[0]));await e.restore({filter:c})}async makeMaster(e){e.master=!0,e.viewer.hasAttribute("settings")&&await e.toggleConfig(),this.masterPanel.isAttached||(this.detailPanel.close(),this.setupMasterPanel(Dr)),this.masterPanel.addWidget(e),e.isHidden&&e.show(),e.viewer.restyleElement(),e.viewer.addEventListener("perspective-click",this.onPerspectiveSelect),e.viewer.addEventListener("perspective-select",this.onPerspectiveSelect)}makeDetail(e){e.master=!1,this.dockpanel.addWidget(e,{mode:`split-${this._side}`}),0===this.masterPanel.widgets.length&&(this.detailPanel.close(),this.masterPanel.close(),this.detailPanel.removeClass("has-master-panel"),this.addWidget(this.detailPanel)),e.viewer.restyleElement(),e.viewer.removeEventListener("perspective-click",this.onPerspectiveSelect),e.viewer.removeEventListener("perspective-select",this.onPerspectiveSelect)}isLinked(e){return this._linkedViewers.indexOf(e.viewer)>-1}async _linkWidget(e){e.title.className+=" linked",-1===this._linkedViewers.indexOf(e.viewer)&&(this._linkedViewers.push(e.viewer),1===this._linkedViewers.length&&this.getAllWidgets().forEach((async e=>{(await e.viewer.save()).row_pivots&&await e.viewer.restore({selectable:!0})})))}toggleLink(e){e.linked=!e.linked,e.linked?this._linkWidget(e):(e.title.className=e.title.className.replace(/ linked/g,""),this._linkedViewers=this._linkedViewers.filter((t=>t!==e.viewer)),0===this._linkedViewers.length&&this.getAllWidgets().forEach((e=>e.viewer.restore({selectable:!1}))))}createContextMenu(e){let t=new nn({commands:this.commands,renderer:this.menuRenderer});return t.addItem({command:"workspace:maximize",args:{widget:e}}),t.addItem({command:"workspace:minimize",args:{widget:e}}),t.addItem({command:"workspace:duplicate",args:{widget:e}}),t.addItem({command:"workspace:master",args:{widget:e}}),t.addItem({command:"workspace:link",args:{widget:e}}),t.addItem({type:"separator"}),t.addItem({command:"workspace:export",args:{widget:e}}),t.addItem({command:"workspace:copy",args:{widget:e}}),t.addItem({command:"workspace:reset",args:{widget:e}}),t.addItem({type:"separator"}),t.addItem({command:"workspace:close",args:{widget:e}}),this.customCommands.length>0&&(t.addItem({type:"separator"}),this.customCommands.forEach((n=>{t.addItem({command:n,args:{widget:e}})}))),t}showContextMenu(e,t){let n=this.createContextMenu(e),r=Ve(this.dockpanel.tabBars(),(t=>t.currentTitle.owner===e));e.addClass("context-focus"),e.viewer.classList.add("context-focus"),r&&r.node.classList.add("context-focus"),this.element.classList.add("context-menu"),this.addClass("context-menu"),e.viewer.classList.contains("workspace-master-widget")?n.node.classList.add("workspace-master-menu"):n.node.classList.remove("workspace-master-menu"),this._menu_opened=!0,n.aboutToClose.connect((()=>{this.element.classList.remove("context-menu"),this.removeClass("context-menu"),e.removeClass("context-focus"),r?.node?.classList.remove("context-focus")})),n.open(t.clientX,t.clientY),t.preventDefault(),t.stopPropagation()}clearLayout(){this.getAllWidgets().forEach((e=>e.close())),this.widgets.forEach((e=>e.close())),this.detailPanel.close(),this._linkedViewers=[],this.masterPanel.isAttached&&(this.detailPanel.removeClass("has-master-panel"),this.masterPanel.close())}setupMasterPanel(e){this.detailPanel.addClass("has-master-panel"),this.side===Nr.RIGHT?(this.addWidget(this.detailPanel),this.addWidget(this.masterPanel),this.setRelativeSizes(e.slice().reverse())):(this.addWidget(this.masterPanel),this.addWidget(this.detailPanel),this.setRelativeSizes(e))}_addContextMenuItem(e){this.customCommands.push(e.id),this.commands.addCommand(e.id,{execute:t=>e.execute({widget:t.widget}),label:e.label,isVisible:t=>e.isVisible({widget:t.widget}),mnemonic:0})}addViewer(e){let t=this._createWidgetAndNode({config:e});"single-document"===this.dockpanel.mode&&this.toggleSingleDocument(),e.master?(this.masterPanel.isAttached||this.setupMasterPanel(Dr),this.masterPanel.addWidget(t)):(this.detailPanel.isAttached||this.addWidget(this.detailPanel),this.dockpanel.addWidget(t,{mode:"split-right"})),this.update()}_createWidgetAndNode({config:e,slot:t}){let n=this._createNode(t),r=e.table,i=document.createElement("perspective-viewer");return i.setAttribute("slot",n.querySelector("slot").getAttribute("name")),r&&i.setAttribute("table",r),this._createWidget({config:e,node:n,viewer:i})}_gen_id(){let e="PERSPECTIVE_GENERATED_ID_"+Lr++;return this.element.querySelector(`[slot=${e}]`)&&(e=this._gen_id()),e}_createNode(e){let t=this.node.querySelector(`slot[name=${e}]`);if(t)t=t.parentElement.parentElement;else{let n=document.createElement("slot");e=e||this._gen_id(),n.setAttribute("name",e);let r=document.createElement("div");r.classList.add("viewer-container"),r.appendChild(n),t=document.createElement("div"),t.classList.add("workspace-widget"),t.appendChild(r)}return t}_createWidget({config:e,node:t,viewer:n}){if(e.name=e.name||n.getAttribute("name"),!t){let e=n.getAttribute("slot");t=(t=this.node.querySelector(`slot[name=${e}]`))?t.parentElement.parentElement:this._createNode(e)}let r=this.tables.get(n.getAttribute("table")||e.table),i=new Ir({node:t,viewer:n});i.task=(async()=>{r&&i.load(r),await i.restore(e)})();let o=new CustomEvent("workspace-new-view",{detail:{config:e,widget:i}});return this.element.dispatchEvent(o),i.title.closable=!0,this.element.appendChild(i.viewer),this._addWidgetEventListeners(i),i}_addWidgetEventListeners(e){this.listeners.has(e)&&this.listeners.get(e)();let t=t=>{t.detail?e.title.className+=" settings_open":e.title.className=e.title.className.replace(/settings_open/g,"")},n=t=>this.showContextMenu(e,t),r=async e=>{if(this.workspaceUpdated(),this.mode===Or.LINKED){let t=await(e.target?.save());if(t){let n=this._linkedViewers.length>0&&!!t.row_pivots;n!==!!t.selectable&&e.target.restore({selectable:n})}}};e.node.addEventListener("contextmenu",n),e.viewer.addEventListener("perspective-toggle-settings",t),e.viewer.addEventListener("perspective-config-update",r),e.viewer.addEventListener("perspective-plugin-update",this.workspaceUpdated),e.title.changed.connect(r),this.listeners.set(e,(()=>{e.node.removeEventListener("contextmenu",n),e.viewer.removeEventListener("perspective-toggle-settings",t),e.viewer.removeEventListener("perspective-config-update",r),e.viewer.removeEventListener("perspective-plugin-update",this.workspaceUpdated),e.title.changed.disconnect(r)}))}getAllWidgets(){return[...this.masterPanel.widgets,...Pe(this.dockpanel.widgets())]}async _fireUpdateEvent(){let e=await this.save();if(e){let t={};this.tables.forEach(((e,n)=>{t[n]=e})),this.element.dispatchEvent(new CustomEvent("workspace-layout-update",{detail:{tables:t,layout:e}}))}}};var Rr=class extends HTMLElement{set side(e){this.setAttribute("side",e),this.workspace&&(this.workspace.side=e)}get side(){return this.getAttribute("side")}save(){return this.workspace.save()}async restore(e){await this.workspace.restore(e)}async flush(){await Promise.all(Array.from(this.querySelectorAll("perspective-viewer")).map((e=>e.flush())))}addTable(e,t){this.workspace.addTable(e,t)}getTable(e){return this.workspace.getTable(e)}removeTable(e){return this.workspace.removeTable(e)}get tables(){return this.workspace.tables}notifyResize(){this.workspace.update()}_light_dom_changed(){let e=Array.from(this.childNodes);for(let t of e)"PERSPECTIVE-VIEWER"===t.tagName&&this.workspace.update_widget_for_viewer(t);this.workspace.remove_unslotted_widgets(e)}_register_light_dom_listener(){new MutationObserver(this._light_dom_changed.bind(this)).observe(this,{attributes:!1,childList:!0,subtree:!1}),this._light_dom_changed()}connectedCallback(){this.side=this.side||Nr.LEFT;let e=this.shadowRoot.querySelector("#container");this.workspace=new Vr(this,{side:this.side}),this._register_light_dom_listener(),this._injectStyle||(this._injectStyle=document.createElement("style"),this._injectStyle.toggleAttribute("injected",!0),this._injectStyle.innerHTML='.workspace-master-widget{--settings-button--content: var(--open-settings-button--content, "\\1f527") !important}.workspace-master-widget[settings]{--settings-button--content: var(--close-settings-button--content, "\\1f527") !important}.workspace-detail-widget.widget-maximize{--settings-button--content: var(--open-settings-button--content, "\\1f527") !important}.workspace-detail-widget.widget-maximize[settings]{--settings-button--content: var(--close-settings-button--content, "\\1f527") !important}.p-DockPanel-widget{border:1px solid #eaeaea;border-width:0px!important;min-width:300px;min-height:200px}.workspace-detail-widget{--settings-button--content: "" !important}.context-menu>perspective-viewer.context-focus{opacity:1;filter:none}.context-menu>perspective-viewer{filter:saturate(0)}perspective-viewer{flex:1;position:relative;display:block;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;overflow:visible!important;font-family:"Open Sans",Arial,sans-serif}.lm-mod-override-cursor perspective-viewer>*{pointer-events:none}.p-Menu,.lm-Menu{z-index:10000;position:absolute;white-space:nowrap;overflow-x:hidden;overflow-y:auto;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-Menu-content,.lm-Menu-content{margin:0;padding:0;display:table;list-style-type:none}.p-Menu-item,.lm-Menu-item{display:table-row}.p-Menu-item.p-mod-hidden,.p-Menu-item.p-mod-collapsed,.lm-Menu-item.lm-mod-hidden,.lm-Menu-item.lm-mod-collapsed{display:none!important}.p-Menu-itemIcon,.p-Menu-itemSubmenuIcon,.lm-Menu-itemIcon,.lm-Menu-itemSubmenuIcon{display:table-cell;text-align:center}.p-Menu-itemLabel,.lm-Menu-itemLabel{display:table-cell;text-align:left}.p-Menu-itemShortcut,.lm-Menu-itemShortcut{display:table-cell;text-align:right}.p-Menu{padding:8px;background:white;color:#666;border:1px solid #ccc;border-left-width:0px;border-top-width:0px;border-right-width:1px;font:12px Helvetica,Arial,sans-serif;box-shadow:#0003 0 3px 1px -2px,#00000024 0 2px 2px,#0000001f 0 1px 5px}.p-Menu-item.p-mod-active{background:rgba(0,0,0,.05)}.p-Menu-item.p-mod-disabled{color:#00000040}.p-Menu-itemIcon{width:21px;padding:5px 2px 3px 0}.p-Menu-itemLabel{padding:4px 2px}.p-Menu-itemMnemonic{text-decoration:underline}.p-Menu-itemShortcut{padding:4px 0}.p-Menu-itemSubmenuIcon{width:16px;padding:4px 0}.p-Menu-item[data-type=separator]>div{padding:0;height:9px}.p-Menu-item[data-type=separator]>div:after{content:"";display:block;position:relative;top:4px;border-top:1px solid #dddddd}.p-Menu-itemIcon:before,.p-Menu-itemSubmenuIcon:before{font-family:"Material Icons"}.p-MenuBar-menu{transform:translateY(-1px)}.p-MenuBar-item{padding:10px 32px;border-left:1px solid transparent;border-right:1px solid transparent;color:#737373!important}.p-MenuBar-item.p-mod-active{background:rgba(0,0,0,.2)}.p-MenuBar.p-mod-active .p-MenuBar-item.p-mod-active{z-index:10001;background:rgba(0,0,0,.2)}.p-Menu-itemIcon:before{content:attr(content);font-family:"Material Icons"}.p-mod-drag-image.p-TabBar-tab{display:none}\n'),document.head.appendChild(this._injectStyle),nt.sendMessage(this.workspace,Ft.Msg.BeforeAttach),e.insertBefore(this.workspace.node,null),nt.sendMessage(this.workspace,Ft.Msg.AfterAttach),window.onresize=this.workspace.update.bind(this.workspace)}disconnectedCallback(){document.head.removeChild(this._injectStyle)}};!function(e,...t){let n=['.p-Widget,.lm-Widget{box-sizing:border-box;position:relative;overflow:hidden;cursor:default}.p-Widget.p-mod-hidden,.lm-Widget.lm-mod-hidden{display:none!important}.p-CommandPalette,.lm-CommandPalette{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-CommandPalette-search,.lm-CommandPalette-search{flex:0 0 auto}.p-CommandPalette-content,.lm-CommandPalette-content{flex:1 1 auto;margin:0;padding:0;min-height:0;overflow:auto;list-style-type:none}.p-CommandPalette-header,.lm-CommandPalette-header{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.p-CommandPalette-item,.lm-CommandPalette-item{display:flex;flex-direction:row}.p-CommandPalette-itemIcon,.lm-CommandPalette-itemIcon{flex:0 0 auto}.p-CommandPalette-itemContent,.lm-CommandPalette-itemContent{flex:1 1 auto;overflow:hidden}.p-CommandPalette-itemShortcut,.lm-CommandPalette-itemShortcut{flex:0 0 auto}.p-CommandPalette-itemLabel,.lm-CommandPalette-itemLabel{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lm-close-icon{border:1px solid transparent;background-color:transparent;position:absolute;z-index:1;right:3%;top:0;bottom:0;margin:auto;padding:7px 0;display:none;vertical-align:middle;outline:0;cursor:pointer}.lm-close-icon:after{content:"X";display:block;width:15px;height:15px;text-align:center;color:#000;font-weight:normal;font-size:12px;cursor:pointer}.p-DockPanel,.lm-DockPanel{z-index:0}.p-DockPanel-widget,.lm-DockPanel-widget{z-index:0}.p-DockPanel-tabBar,.lm-DockPanel-tabBar{z-index:1}.p-DockPanel-handle,.lm-DockPanel-handle{z-index:2}.p-DockPanel-handle.p-mod-hidden,.lm-DockPanel-handle.lm-mod-hidden{display:none!important}.p-DockPanel-handle:after,.lm-DockPanel-handle:after{position:absolute;top:0;left:0;width:100%;height:100%;content:""}.p-DockPanel-handle[data-orientation=horizontal],.lm-DockPanel-handle[data-orientation=horizontal]{cursor:ew-resize}.p-DockPanel-handle[data-orientation=vertical],.lm-DockPanel-handle[data-orientation=vertical]{cursor:ns-resize}.p-DockPanel-handle[data-orientation=horizontal]:after,.lm-DockPanel-handle[data-orientation=horizontal]:after{left:50%;min-width:8px;transform:translate(-50%)}.p-DockPanel-handle[data-orientation=vertical]:after,.lm-DockPanel-handle[data-orientation=vertical]:after{top:50%;min-height:8px;transform:translateY(-50%)}.p-DockPanel-overlay,.lm-DockPanel-overlay{z-index:3;box-sizing:border-box;pointer-events:none}.p-DockPanel-overlay.p-mod-hidden,.lm-DockPanel-overlay.lm-mod-hidden{display:none!important}.p-Menu,.lm-Menu{z-index:10000;position:absolute;white-space:nowrap;overflow-x:hidden;overflow-y:auto;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-Menu-content,.lm-Menu-content{margin:0;padding:0;display:table;list-style-type:none}.p-Menu-item,.lm-Menu-item{display:table-row}.p-Menu-item.p-mod-hidden,.p-Menu-item.p-mod-collapsed,.lm-Menu-item.lm-mod-hidden,.lm-Menu-item.lm-mod-collapsed{display:none!important}.p-Menu-itemIcon,.p-Menu-itemSubmenuIcon,.lm-Menu-itemIcon,.lm-Menu-itemSubmenuIcon{display:table-cell;text-align:center}.p-Menu-itemLabel,.lm-Menu-itemLabel{display:table-cell;text-align:left}.p-Menu-itemShortcut,.lm-Menu-itemShortcut{display:table-cell;text-align:right}.p-MenuBar,.lm-MenuBar{outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-MenuBar-content,.lm-MenuBar-content{margin:0;padding:0;display:flex;flex-direction:row;list-style-type:none}.p--MenuBar-item,.lm-MenuBar-item{box-sizing:border-box}.p-MenuBar-itemIcon,.p-MenuBar-itemLabel,.lm-MenuBar-itemIcon,.lm-MenuBar-itemLabel{display:inline-block}.p-ScrollBar,.lm-ScrollBar{display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-ScrollBar[data-orientation=horizontal],.lm-ScrollBar[data-orientation=horizontal]{flex-direction:row}.p-ScrollBar[data-orientation=vertical],.lm-ScrollBar[data-orientation=vertical]{flex-direction:column}.p-ScrollBar-button,.lm-ScrollBar-button{box-sizing:border-box;flex:0 0 auto}.p-ScrollBar-track,.lm-ScrollBar-track{box-sizing:border-box;position:relative;overflow:hidden;flex:1 1 auto}.p-ScrollBar-thumb,.lm-ScrollBar-thumb{box-sizing:border-box;position:absolute}.p-SplitPanel-child,.lm-SplitPanel-child{z-index:0}.p-SplitPanel-handle,.lm-SplitPanel-handle{z-index:1}.p-SplitPanel-handle.p-mod-hidden,.lm-SplitPanel-handle.lm-mod-hidden{display:none!important}.p-SplitPanel-handle:after,.lm-SplitPanel-handle:after{position:absolute;top:0;left:0;width:100%;height:100%;content:""}.p-SplitPanel[data-orientation=horizontal]>.p-SplitPanel-handle,.lm-SplitPanel[data-orientation=horizontal]>.lm-SplitPanel-handle{cursor:ew-resize}.p-SplitPanel[data-orientation=vertical]>.p-SplitPanel-handle,.lm-SplitPanel[data-orientation=vertical]>.lm-SplitPanel-handle{cursor:ns-resize}.p-SplitPanel[data-orientation=horizontal]>.p-SplitPanel-handle:after,.lm-SplitPanel[data-orientation=horizontal]>.lm-SplitPanel-handle:after{left:50%;min-width:8px;transform:translate(-50%)}.p-SplitPanel[data-orientation=vertical]>.p-SplitPanel-handle:after,.lm-SplitPanel[data-orientation=vertical]>.lm-SplitPanel-handle:after{top:50%;min-height:8px;transform:translateY(-50%)}.p-TabBar,.lm-TabBar{display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-TabBar[data-orientation=horizontal],.lm-TabBar[data-orientation=horizontal]{flex-direction:row}.p-TabBar[data-orientation=vertical],.lm-TabBar[data-orientation=vertical]{flex-direction:column}.p-TabBar-content,.lm-TabBar-content{margin:0;padding:0;display:flex;flex:1 1 auto;list-style-type:none}.p-TabBar[data-orientation=horizontal]>.p-TabBar-content,.lm-TabBar[data-orientation=horizontal]>.lm-TabBar-content{flex-direction:row}.p-TabBar[data-orientation=vertical]>.p-TabBar-content,.lm-TabBar[data-orientation=vertical]>.lm-TabBar-content{flex-direction:column}.p-TabBar-tab,.lm-TabBar-tab{display:flex;flex-direction:row;box-sizing:border-box;overflow:hidden}.p-TabBar-tabIcon,.p-TabBar-tabCloseIcon,.lm-TabBar-tabIcon,.lm-TabBar-tabCloseIcon{flex:0 0 auto}.p-TabBar-tabLabel,.lm-TabBar-tabLabel{flex:1 1 auto;overflow:hidden;white-space:nowrap}.lm-TabBar-tabInput{user-select:all;width:100%;box-sizing:border-box}.p-TabBar-tab.p-mod-hidden,.lm-TabBar-tab.lm-mod-hidden{display:none!important}.p-TabBar.p-mod-dragging .p-TabBar-tab,.lm-TabBar.lm-mod-dragging .lm-TabBar-tab{position:relative}.p-TabBar.p-mod-dragging[data-orientation=horizontal] .p-TabBar-tab,.lm-TabBar.lm-mod-dragging[data-orientation=horizontal] .lm-TabBar-tab{left:0;transition:left .15s ease}.p-TabBar.p-mod-dragging[data-orientation=vertical] .p-TabBar-tab,.lm-TabBar.lm-mod-dragging[data-orientation=vertical] .lm-TabBar-tab{top:0;transition:top .15s ease}.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging,.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging{transition:none}.p-TabPanel-tabBar,.lm-TabPanel-tabBar{z-index:1}.p-TabPanel-stackedPanel,.lm-TabPanel-stackedPanel{z-index:0}:host{background-color:#e1e6ea;width:100%;height:100%}:host .p-TabBar-tabLabel{background-color:transparent;border:none;color:var(--workspace-secondary--color, #666);cursor:pointer}:host .p-TabBar-tabLabel[value="[untitled]"]{color:#ddd!important}:host .p-TabBar-tabLabel:focus{outline:none;color:var(--workspace-secondary--color, #666)!important;cursor:text}:host .p-TabBar-tab.p-mod-closable>.p-TabBar-tabCloseIcon:before{content:var(--close-button--content, "\\2715");font-family:var(--settings--font-family, "Arial")}:host .p-TabBar-tab>.p-TabBar-tabConfigIcon:before{content:var(--open-settings-button--content, "\\1f527");font-family:var(--settings--font-family, "Arial");transition:color .5s ease}:host .p-TabBar-tab.p-mod-current.settings_open>.p-TabBar-tabConfigIcon:before{content:var(--close-settings-button--content, "\\1f527");font-family:var(--settings--font-family, "Arial")}:host .p-TabBar-tab.p-mod-current.linked>.p-TabBar-tabConfigIcon:before{color:#22a0ce}:host .p-TabBar-tab>.p-TabBar-tabConfigIcon{opacity:0;pointer-events:none}:host .p-TabBar-tab.p-mod-current>.p-TabBar-tabConfigIcon{opacity:1;pointer-events:all}:host .p-mod-current .p-TabBar-tabConfigIcon,:host .p-mod-current .p-TabBar-tabCloseIcon{color:#ccc;transition:color .2s ease-out}:host .p-mod-current .p-TabBar-tabConfigIcon:hover,:host .p-mod-current .p-TabBar-tabCloseIcon:hover{color:#1a7da1;transition:color .2s ease-out}:host .p-BoxPanel{overflow:scroll!important}:host .p-TabBar,:host .p-TabBar-tab{position:relative;overflow:visible!important}:host .p-TabBar-tabLabel:empty:after{content:"[untitled]";color:#aaa}:host .p-mod-current .p-TabBar-tabLabel:empty:after{color:#ddd}:host .p-TabBar-tabLabel:empty:after{content:"[untitled]"}:host .divider{left:14px;bottom:0;position:absolute;right:14px;display:none;height:1px;background-color:var(--workspace-tabbar--border-color, #eaeaea);margin-bottom:0}:host .p-TabBar-tab.p-mod-hidden{display:flex!important;opacity:.5}:host .p-TabBar-tab.p-mod-hidden .divider{display:none}:host .p-TabBar-tab.p-mod-current .divider{display:block}:host .p-TabBar-tabLabel input{height:18px}:host .p-TabBar{min-height:24px!important}:host .pfm-button-base{background:white!important}:host .pfm-button-base:active{background:#016bc6!important}:host .p-TabBar-content{padding:0;overflow:hidden;margin:0 -4px -1px;border-bottom:0px solid #fff!important;border-left:#eaeaea;border-right:#eaeaea}:host .p-TabBar-tab.p-mod-current .shadow{margin:-1px;position:absolute;width:calc(100% + 2px);height:200%;pointer-events:none;left:0px}:host .p-TabBar-tab.p-mod-current.settings_open .shadow{box-shadow:none}:host .p-TabBar-tab{margin:0 4px;border-color:#eaeaea}:host .p-TabBar-content>.p-TabBar-tab,:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open{background-color:var(--workspace-master--background-color, #f2f4f6)}:host .p-TabBar-content.inactive-blur>.p-TabBar-tab{background-color:var(--workspace-inactive-blur--background-color, transparent)}:host .condensed .p-TabBar-content>.p-TabBar-tab.p-mod-current .p-TabBar-tabConfigIcon{display:block}:host .condensed .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open .p-TabBar-tabLabel{margin-left:0}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open{border-width:1px!important;border-color:var(--workspace-tabbar--border-color, #ddd)}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open .p-TabBar-tabToolbar{display:flex}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open .divider{height:1px;margin-bottom:0;background-color:var(--workspace-tabbar--border-color, #ddd)}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.settings_open:last-child:first-child .divider{background:none;transition:none}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.perspective_updating .p-TabBar-tabConfigIcon{display:none}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current.perspective_updating .p-TabBar-tabLoadingIcon{display:block}:host .p-TabBar-content>.p-TabBar-tab{max-width:100000px!important;flex:0 1 100000px!important;background:none;color:#737373;padding-top:1px!important;border-style:solid;border-width:1px;border-color:transparent;height:26px!important;max-height:26px!important;transform:none!important;transition:color .2s ease-out}:host .p-TabBar-content>.p-TabBar-tab{color:#ccc}:host .p-TabBar-content>.p-TabBar-tab .p-TabBar-tabLabel{color:var(--workspace-secondary--color, #666)}:host .p-TabBar-content>.p-TabBar-tab:hover{color:#ccc}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current{color:var(--workspace-secondary--color, #666)}:host .p-TabBar-tab.p-mod-current .p-TabBar-tabLabel{white-space:nowrap!important}:host .p-TabBar-tabLabel{font-family:"Open Sans";font-weight:400;font-size:12px;line-height:22px;text-align:start;white-space:normal!important;word-break:break-all}:host .p-TabBar-tabCloseIcon,:host .p-TabBar-tabConfigIcon{cursor:pointer!important;line-height:22px!important;padding-right:8px!important}:host .p-TabBar-tabConfigIcon{padding-left:8px;padding-right:4px!important}:host .p-TabBar-tabLoadingIcon{padding-left:11px;padding-right:12px}:host .bottom .p-TabBar-tab{flex-basis:10000px!important;max-width:10000px!important}:host .p-TabBar-content>.p-TabBar-tab.p-mod-current{color:var(--workspace-tabbar--color, #666)!important;border:var(--workspace-tabbar--border, 1px solid #ddd);background-color:var(--workspace-tabbar--background-color, white);height:26px!important;max-height:26px!important}:host .bottom .p-TabBar-tab.p-mod-current{border:none}:host ::-webkit-scrollbar-thumb{background-color:#ccc}:host .perspective-workspace.context-menu * .p-TabBar.context-focus{opacity:1}:host .perspective-workspace.context-menu * .p-TabBar,:host .perspective-workspace.context-menu .p-DockPanel .p-Widget:not(.context-focus) .viewer-container{opacity:.2}:host .p-DockPanel{overflow:visible!important;position:absolute;background-color:var(--detail--background-color, transparent);padding:8px;top:0;left:0;right:0;bottom:0}:host .p-DockPanel[data-mode=single-document]{padding:0}:host .p-DockPanel.ew,:host .p-DockPanel.ew .p-Widget,:host .p-SplitPanel.ew,:host .p-SplitPanel.ew .p-Widget{cursor:ew-resize!important}:host .p-DockPanel.ns,:host .p-DockPanel.ns .p-Widget,:host .p-SplitPanel.ns,:host .p-SplitPanel.ns .p-Widget{cursor:ns-resize!important}:host .workspace-master-widget{min-width:100px!important}:host .p-DockPanel.resizing ::slotted(perspective-viewer),:host .p-SplitPanel.resizing ::slotted(perspective-viewer){pointer-events:none}:host .widget-blur ::slotted(perspective-viewer){opacity:.5}:host .p-DockPanel-handle.resizing{background-color:#0000000d}:host .perspective-scroll-panel{overflow:auto!important}:host .p-Panel{min-height:100%}:host .p-DockPanel-handle{background-color:none}:host .p-SplitPanel-handle,:host .p-DockPanel-handle{transition:background-color .3s ease-out}:host .p-SplitPanel-handle:hover,:host .p-DockPanel-handle:hover{background-color:#0000000d}:host .p-DockPanel-overlay{background:rgba(75,75,75,.2);border:1px dashed #666;transition-property:top,left,right,bottom;transition-duration:50ms;transition-timing-function:linear;margin:0}:host .viewer-container{border:var(--workspace-tabbar--border, 1px solid #ddd);flex:1;height:100%;overflow:hidden}:host .perspective-scroll-panel.has-master-panel{margin-left:-8px!important}:host .perspective-scroll-panel .workspace-widget{min-width:300px;min-height:200px}:host .workspace-widget{display:flex;flex-direction:column;border:1px solid #eaedef;border-width:0px!important}:host .workspace{width:100%;height:100%}:host .p-SplitPanel{height:100%;width:100%}:host div.p-SplitPanel-handle{background-color:inherit}:host .master-panel{background-color:var(--workspace-master--background-color, inherit);padding:0}:host .master-panel .viewer-container{border-width:0px}:host .perspective-workspace.context-menu * .p-SplitPanel-handle{opacity:.2}:host .perspective-workspace.context-menu>.p-SplitPanel-handle{opacity:.2}\n'].map((e=>e.toString())).join("\n");return function(t){return function(e,t,n){let r=function(e){let t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.children)[0]}(e);(function(e){if(e.content)return;let t;for(e.content=document.createDocumentFragment();t=e.firstChild;)Node.prototype.appendChild.call(e.content,t)})(r),t&&(r.innerHTML=`<style>${t.toString()}</style>`+r.innerHTML),r.innerHTML=`<style id="psp_styles" scope="${r.getAttribute("id")}">test{}</style>`+r.innerHTML;let i=0;for(let e of Object.getOwnPropertyNames(n.prototype)){let t=Object.getOwnPropertyDescriptor(n.prototype,e);if(t&&t.set){let r=t.set;t.set=function(t){this.hasAttribute(e)&&this.getAttribute(e)===t?!this._initializing&&!this._initialized||r.call(this,t):this.setAttribute(e,t)},Object.defineProperty(n.prototype,e,t)}}let o=r.getAttribute("id");console.log(`Registered ${o}`),window.customElements.define(o,class extends n{attributeChangedCallback(e,t,r){i>0||(null===r&&(r="null"),"_"!==e[0]&&t!=r&&Object.getOwnPropertyDescriptor(n.prototype,e).set&&(this[e]=r))}_setAttributeSafe(e,t){i++;try{this.setAttribute(e,t)}finally{i--}}connectedCallback(){if(!this._initialized){this._initializing=!0;var e=document.importNode(r.content,!0);this.attachShadow({mode:"open"}),this._vieux&&(this._vieux.appendChild(e),e=this._vieux),this.shadowRoot.appendChild(e),super.connectedCallback&&super.connectedCallback();for(let e of Object.getOwnPropertyNames(n.prototype))"connectedCallback"!==e&&this.hasAttribute(e)&&"_"!==e[0]&&Object.getOwnPropertyDescriptor(n.prototype,e).set&&(this[e]=this.getAttribute(e));this._initializing=!1,this._initialized=!0}}static get observedAttributes(){return Object.getOwnPropertyNames(n.prototype)}})}(e,{toString:()=>n},t)}}('\x3c!--\n\nCopyright (c) 2017, the Perspective Authors.\n\nThis file is part of the Perspective library, distributed under the terms of\nthe Apache License 2.0.  The full license can be found in the LICENSE file.\n\n--\x3e\n<template id="perspective-workspace">\n    <div id="container" class="workspace"></div>\n</template>\n')(Rr),n(7722);var jr,Fr,Hr=n(5792),Wr=n.n(Hr),Ur=Object.create,Yr=Object.defineProperty,qr=Object.getOwnPropertyDescriptor,Zr=Object.getOwnPropertyNames,Gr=Object.getPrototypeOf,$r=Object.prototype.hasOwnProperty,Xr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kr=Xr(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),Qr=Xr(((e,t)=>{var n=Kr().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),i(e[t],n[t])):Object.assign(e,{[t]:n[t]});return i(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),Jr=(jr=Qr(),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Zr(t))!$r.call(e,r)&&"default"!==r&&Yr(e,r,{get:()=>t[r],enumerable:!(n=qr(t,r))||n.enumerable});return e})((e=>Yr(e,"__esModule",{value:!0}))(Yr(null!=jr?Ur(Gr(jr)):{},"default",jr&&jr.__esModule&&"default"in jr?{get:()=>jr.default,enumerable:!0}:{value:jr,enumerable:!0})),jr)),ei=Symbol("Plugin Symbol");function ti(e){let[t,n,r]=e.rgb(),[i,o,a]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[s,c,l]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${i},${o},${a}),rgb(${t},${n},${r}) 50%,rgb(${s},${c},${l}))`}function ni(e,t,n){Fr=Fr||document.createElement("perspective-column-style");let r=e.getMeta(t),i=r.column_header[r.column_header.length-1],o=this._schema[i],a={gradient:n,pos_color:this._pos_color[0],neg_color:this._neg_color[0],color_mode:"foreground"};if("float"===o)a.fixed=2;else{if("integer"!==o)return this._open_column_styles_menu.pop(),void e.draw();a.fixed=0}let s=()=>Fr.blur(),c=t=>{let n=t.detail;n.pos_color&&(n.pos_color=[n.pos_color,...Wr()(n.pos_color).rgb(),ti(Wr()(n.pos_color))],n.neg_color=[n.neg_color,...Wr()(n.neg_color).rgb(),ti(Wr()(n.neg_color))]),e[ei]=e[ei]||{},e[ei][i]=n,e.draw({preserve_width:!0}),e.parentElement.dispatchEvent(new Event("perspective-config-update"))},l=async()=>{e.removeEventListener("regular-table-scroll",s),Fr.removeEventListener("perspective-column-style-change",c),Fr.removeEventListener("blur",l),this._open_column_styles_menu.pop(),await e.draw(),e.parentElement.dispatchEvent(new Event("perspective-config-update"))};Fr.addEventListener("perspective-column-style-change",c),Fr.addEventListener("blur",l),e.addEventListener("regular-table-scroll",s);let u=e[ei]||{},d=Object.assign({},u[i]=u[i]||{});d.pos_color&&(d.pos_color=d.pos_color[0],d.neg_color=d.neg_color[0]),Fr.open(t,d,a)}function ri([e,t,n,r],i=[255,255,255]){function o(e,t){return 255*((1-r)*(i[e]/255)+r*(t/255))}return[o(0,e),o(1,t),o(2,n)]}function ii([e,t,n]){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)>130?"#161616":"#ffffff"}function oi(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children),r=e[ei]||{};if(n.length>0){let[r]=n.splice(n.length-1,1);for(let n of r?.children){let r=e.getMeta(n),i=r.column_header?.[r.column_header?.length-1],o=this._config.sort.find((e=>e[0]===i)),a=r.row_header_x===t,s=void 0===r.x;a=a||(r.x+1)%this._config.columns.length==0,n.classList.toggle("psp-header-border",a),n.classList.toggle("psp-header-group",!1),n.classList.toggle("psp-header-leaf",!0),n.classList.toggle("psp-is-top",!1),n.classList.toggle("psp-header-corner",s),n.classList.toggle("psp-header-sort-asc",!!o&&"asc"===o[1]),n.classList.toggle("psp-header-sort-desc",!!o&&"desc"===o[1]),n.classList.toggle("psp-header-sort-col-asc",!!o&&"col asc"===o[1]),n.classList.toggle("psp-header-sort-col-desc",!!o&&"col desc"===o[1]);let c=Mi.call(this,r),l="integer"===c||"float"===c;n.classList.toggle("psp-align-right",l),n.classList.toggle("psp-align-left",!l),n.classList.toggle("psp-menu-open",this._open_column_styles_menu[0]===r._virtual_x),n.classList.toggle("psp-menu-enabled",l&&!s),n.classList.toggle("psp-is-width-override",void 0!==e._column_sizes?.override[r.size_key])}}let i=[],o=new Set,a=e.children[0];for(let r=0;r<n.length;r++){let n=a.rows[r],s=new Set;for(let a=0;a<n.cells.length;a++){let c=n.cells[a];c.style.backgroundColor="";let l=e.getMeta(c),u=l.row_header_x===t||l.x>=0;c.classList.toggle("psp-align-right",!1),c.classList.toggle("psp-align-left",!1),c.classList.toggle("psp-header-group",!0),c.classList.toggle("psp-header-leaf",!1),c.classList.toggle("psp-header-border",u),c.classList.toggle("psp-header-group-corner",void 0===l.x),c.classList.toggle("psp-color-mode-bar",!1),c.classList.toggle("psp-header-sort-asc",!1),c.classList.toggle("psp-header-sort-desc",!1),c.classList.toggle("psp-header-sort-col-asc",!1),c.classList.toggle("psp-header-sort-col-desc",!1);let d,f,h=n.cells[a],p=a;for(;i[r]&&i[r][p];++p);for(s.add(p),d=p;d<p+h.colSpan;++d)for(f=r;f<r+h.rowSpan;++f)i[f]||(i[f]=[]),i[f][d]=!0;h.classList.toggle("psp-is-top",0===r||!o.has(d))}o=s}for(let t of e.children[0].children[1].children)for(let n of t.children){let t=e.getMeta(n),i=r[t.column_header?.[t.column_header?.length-1]],o=Mi.call(this,t),a="integer"===o||"float"===o;if(a){let e=t.user>0,r=t.user<0,[o,a,s,c,l]=(()=>void 0!==i?.pos_color?e?i.pos_color:r?i.neg_color:["",0,0,0,""]:e?this._pos_color:r?this._neg_color:["",0,0,0,""])();if(n.style.position="","background"===i?.color_mode){let e=ii(ri([a,s,c,1],this._plugin_background));n.style.color=e,n.style.backgroundColor=o}else if("gradient"===i?.color_mode){let e=Math.max(0,Math.min(1,Math.abs(t.user/i.gradient))),r=ii(ri([a,s,c,e],this._plugin_background));n.style.color=r,n.style.backgroundColor=`rgba(${a},${s},${c},${e})`}else"disabled"===i?.color_mode?(n.style.backgroundColor="",n.style.color=""):"bar"===i?.color_mode?(n.style.backgroundColor="",n.style.color="",n.style.position="relative",""!==l&&n.children.length>0&&n.children[0].nodeType===Node.ELEMENT_NODE&&(n.children[0].style.background=l)):(n.style.backgroundColor="",n.style.color=o)}else if("boolean"===o){let[e]=!0===t.user?this._pos_color:!1===t.user?this._neg_color:["",0,0,0,""];n.style.backgroundColor="",n.style.color=e}else n.style.backgroundColor="",n.style.color="";n.classList.toggle("psp-bool-type","boolean"===o&&null!==t.user);let s="TH"===n.tagName;if(s){let r=null!=typeof t.value&&null!=typeof t.value&&t.value?.toString()?.trim().length>0,i=t.row_header_x>=this._config.row_pivots.length,o=e.getMeta({dx:0,dy:t.y-t.y0+1}),a=o&&o.row_header&&void 0!==o.row_header[t.row_header_x+1];n.classList.toggle("psp-tree-label",r&&!i),n.classList.toggle("psp-tree-label-expand",r&&!i&&!a),n.classList.toggle("psp-tree-label-collapse",r&&!i&&a),n.classList.toggle("psp-tree-leaf",r&&i)}n.classList.toggle("psp-align-right",!s&&a),n.classList.toggle("psp-align-left",s||!a),n.classList.toggle("psp-color-mode-bar","bar"===i?.color_mode)}}async function ai(e,t,n){let r=e.getMeta(n),i=r.column_header[r.column_header.length-1],o=(t.shiftKey?si:ci).call(this,i);e.dispatchEvent(new CustomEvent("regular-table-psp-sort",{detail:{sort:o}}))}function si(e){let t=[],n=!1;for(let r of this._config.sort){let[i,o]=r;if(i===e){n=!0;let r=li.call(this,e,o);r&&t.push(r)}else t.push(r)}return n||t.push([e,"desc"]),t}function ci(e){for(let[t,n]of this._config.sort)if(t===e){let t=li.call(this,e,n);return t?[t]:[]}return[[e,"desc"]]}function li(e,t){let n=this._config.column_pivots.length>0?di:ui,r=t?n[t]:"desc";if(r)return[e,r]}var ui={desc:"asc",asc:void 0},di={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function fi(e,t){let n=e.getMeta(t.target),r=t.target.classList.contains("psp-tree-label-collapse");t.shiftKey&&r?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-2):t.shiftKey?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function hi(e,t){if(1!==t.which)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;if(n.classList.contains("psp-tree-label")&&t.offsetX<26)return fi.call(this,e,t),void t.stopImmediatePropagation();let r=n.getBoundingClientRect();if(n.classList.contains("psp-menu-enabled")&&t.clientY-r.top>16){let r=e.getMeta(n),i=r.column_header?.[r.column_header?.length-1],[,o]=await this._view.get_min_max(i);this._open_column_styles_menu.unshift(r._virtual_x),e.draw(),ni.call(this,e,n,o),t.preventDefault(),t.stopImmediatePropagation()}else n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner")&&(ai.call(this,e,t,n),t.stopImmediatePropagation())}function pi(e,t){if(1!==t.which)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}var gi={},mi={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"check":"close"}}},bi=gi;function vi(e,t,n={},r=!1){if(null===t)return"-";let i=e[e.length-1],o=n[i],a=r&&this._table_schema[i]||this._schema[i]||"string",s="integer"===a||"float"===a;if(s&&"bar"===o?.color_mode){let e=Math.max(0,Math.min(.95,.95*Math.abs(t/o.gradient))),n=this._div_factory.get(),r=t>=0?"left":"right";return n.setAttribute("style",`width:${(100*e).toFixed(2)}%;position:absolute;${r}:0;height:80%;top:10%;pointer-events:none;`),n}{let e=s&&o&&void 0!==o.fixed,n=e?`${a}${o.fixed}`:a;if(void 0===gi[n]){let t=(0,Jr.get_type_config)(a);if(e){let e={minimumFractionDigits:o.fixed,maximumFractionDigits:o.fixed};gi[n]=new mi[a]("en-us",e)}else mi[a]?gi[n]=new mi[a]("en-us",t.format):gi[n]=!1}return gi[n]?gi[n].format(t):t}}function*_i(e=[],t,n){let r=n[ei];for(let n of e){n=["TOTAL",...n];let e=n[n.length-1];n=n.slice(0,n.length-1).fill("");let i=vi.call(this,[t[n.length-1]],e,r,!0);n=n.concat({toString:()=>i}),n.length=t.length+1,yield n}}async function yi(e,t,n,r,i){let o={};r-t>0&&i-n>0?(o=await this._view.to_columns({start_row:n,start_col:t,end_row:i,end_col:r,id:!0}),this._ids=o.__ID__):this._div_factory.clear();let a=[],s=[],c=[];for(let l of this._column_paths.slice(t,r)){let t=l.split("|"),r=o[l]||new Array(i-n).fill(null);a.push(r.map((n=>vi.call(this,t,n,e[ei])))),s.push(r),c.push(t)}return{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(_i.call(this,o.__ROW_PATH__,this._config.row_pivots,e)),column_headers:c,data:a,metadata:s}}function wi(e,t,n){let r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}function xi(e){let t=Wr()(e),n=ti(t);return[e,...t.rgb(),n]}async function ki(e,t,n,r={}){let i=await n.get_config(),o=i.expressions.map((e=>e[1])),[a,s,c,l,u,d]=await Promise.all([t.schema(),t.validate_expressions(o),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths()]),f=Wr()(wi(e,"--plugin--background","#FFFFFF")).rgb(),h=xi(wi(e,"--rt-pos-cell--color","#338DCD")),p=xi(wi(e,"--rt-neg-cell--color","#FF5942")),g={...l,...u},m={...a,...s.expression_schema},b=d.filter((e=>"__ROW_PATH__"!==e&&"__ID__"!==e)),v=[],_=[];for(let e of b){let t=e.split("|"),n=t[t.length-1];_.push(g[n]),v.push(!!a[n])}let y=Object.assign(r,{_view:n,_table:t,_table_schema:m,_config:i,_num_rows:c,_schema:g,_ids:[],_open_column_styles_menu:[],_plugin_background:f,_pos_color:h,_neg_color:p,_column_paths:b,_column_types:_,_is_editable:v,_row_header_types:i.row_pivots.map((e=>m[e])),get_psp_type:Mi});return y._div_factory=y._div_factory||new class{constructor(e){this._name=e,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let e=this._elements[this._index];return this._index+=1,e}}("div"),e.setDataListener(yi.bind(y,e),{virtual_mode:e.parentElement.virtual_mode||"both"}),y}function Mi(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function Si(e,t){e.addStyleListener(oi.bind(t,e)),e.addEventListener("mousedown",hi.bind(t,e)),e.addEventListener("click",pi.bind(t,e)),await e.draw()}async function Ci({_view:e,_config:t},n,r){let i=t.row_pivots,o=t.column_pivots,a=n>=0?n:0,s=a+1,c=await e.to_json({start_row:a,end_row:s}),l=c.map((e=>e.__ROW_PATH__))[0]||[],u=i.map(((e,t)=>{let n=l[t];return n?[e,"==",n]:void 0})).filter((e=>e)),d=i.length>0?r+1:r,f=Object.keys(c[0])[d],h={row:c[0]},p=[];if(f){let e=f.split("|");h.column_names=[e[e.length-1]],p=o.map(((t,n)=>{let r=e[n];return r?[t,"==",r]:void 0})).filter((e=>e)).filter((([,,e])=>"__ROW_PATH__"!==e))}let g=t.filter.concat(u).concat(p);return h.config={filter:g},h}var Ai=new WeakMap;async function Ti(e,t,n){let r=e.getMeta(n.target);if(!t.hasAttribute("selectable")||n.handled||1!==n.which||!r)return;let i=this._ids[r.y-r.y0];if(r&&r.y>=0){let o=Ai.get(e),a=!!o&&o.reduce(((e,t,n)=>e&&t===i[n]),!0),s=!!o&&i.length===o.length&&a,c=[];s?Ai.delete(e):(Ai.set(e,i),c=await Ci(this,r.y,r.x),c=c.config.filter),await e.draw(),n.handled=!0,t.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:{selected:!s,config:{filter:c}}}))}}function Ei(e,t){if(!t.hasAttribute("selectable"))return;let n=Ai.has(e),r=Ai.get(e);for(let t of e.querySelectorAll("td"))if(n){let n=e.getMeta(t),i=this._ids[n.y-n.y0],o=r.reduce(((e,t,n)=>e&&t===i[n]),!0);t.classList.toggle("psp-row-selected",i.length===r.length&&o),t.classList.toggle("psp-row-subselected",i.length!==r.length&&o)}else t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);for(let t of e.querySelectorAll("tbody th")){let i=e.getMeta(t),o=this._ids[i.y-i.y0];if(!n||o[i.row_header_x])t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);else{let e=r.reduce(((e,t,n)=>e&&t===o[n]),!0);t.classList.toggle("psp-row-selected",o.length===r.length&&e),t.classList.toggle("psp-row-subselected",o.length!==r.length&&e)}}}function zi(e,t){e.addStyleListener(Ei.bind(this,e,t)),e.addEventListener("mousedown",Ti.bind(this,e,t))}async function Pi(e,t,n){let r=e.getMeta(n.target);if(!r)return;let{x:i,y:o}=r,{row:a,column_names:s,config:c}=await Ci(this,o,i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:a,column_names:s,config:c}}))}function Ii(e,t){e.addEventListener("click",Pi.bind(this,e,t))}var Di=new WeakMap;function Li(){if(this.isContentEditable){let e=document.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}return this.target.selectionStart}function Ni(e,t,n){let r=e.getMeta(n),i=t._schema[t._column_paths[r.x]];if(r){let e=n.textContent,o=t._ids[r.y-r.y0];if("float"===i||"integer"===i){if(e=parseFloat(e.replace(/,/g,"")),isNaN(e))return!1}else if("date"===i||"datetime"===i){if(e=Date.parse(e),isNaN(e))return!1}else"boolean"===i&&(e="check"!==e&&("close"===e||null));let a={__INDEX__:o,[t._column_paths[r.x]]:e};return t._table.update([a],{port_id:t._edit_port}),!0}}function Oi(e){let t=0===this._config.row_pivots.length&&0===this._config.column_pivots.length,n=e.hasAttribute("selectable"),r=e.hasAttribute("editable");return t&&!n&&r}var Bi=function(e){let t;return async function(...n){if(t&&await t&&t)return;let r;t=new Promise((e=>r=e)),await e.apply(this,n),t=void 0,r()}}((async function(e,t,n,r){let i=e.getMeta(t),o=this._column_paths.length,a=this._num_rows,s=Di.get(e);if(!s)return;i.x+n<o&&0<=i.x+n&&(s.x=i.x+n),i.y+r<a&&0<=i.y+r&&(s.y=i.y+r);let c=Math.max(i.x0-10,0),l=Math.min(i.x0+10,o),u=Math.max(i.y0-5,0),d=Math.min(i.y0+10,a),f=i.x0+n,h=i.y0+r;for(;!Ri(e)&&f>=c&&f<l&&h>=u&&h<d;)await e.scrollToCell(f,h,o,a),Di.set(e,s),f+=n,h+=r}));function Vi(e,t){if(!t.hasAttribute("editable"))return;let n=Oi.call(this,t);for(let t of e.querySelectorAll("td")){let r=e.getMeta(t),i=this.get_psp_type(r);this._is_editable[r.x]?"boolean"===i?(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",null!==r.user)):(t.toggleAttribute("contenteditable",n),t.classList.toggle("boolean-editable",!1)):(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",!1))}}var Ri=e=>{let t=e.querySelectorAll("td"),n=Di.get(e);if(n){for(let r of t){let t=e.getMeta(r);if(t.x===n.x&&t.y===n.y)return document.activeElement!==r&&r.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(document.activeElement)&&document.activeElement.blur()}};function ji(e,t,n){if(!Oi.call(this,t))return;let r=document.activeElement;switch(n.target.classList.remove("psp-error"),n.keyCode){case 13:n.preventDefault(),n.shiftKey?Bi.call(this,e,r,0,-1):Bi.call(this,e,r,0,1);break;case 37:0==Li.call(r)&&(n.preventDefault(),Bi.call(this,e,r,-1,0));break;case 38:n.preventDefault(),Bi.call(this,e,r,0,-1);break;case 39:Li.call(r)==r.textContent.length&&(n.preventDefault(),Bi.call(this,e,r,1,0));break;case 40:n.preventDefault(),Bi.call(this,e,r,0,1)}}function Fi(e,t,n){if(Oi.call(this,t)&&Di.has(e)){n.target.classList.remove("psp-error");let t=Di.get(e);Di.delete(e),t.content!==n.target.textContent&&(Ni(e,this,n.target)||(n.target.textContent=t.content,n.target.classList.add("psp-error"),n.target.focus()))}}function Hi(e,t,n){let r=e.getMeta(n.target);if(r){let t={x:r.x,y:r.y,content:n.target.textContent};Di.set(e,t)}}function Wi(e,t,n){let r=e.getMeta(n.target);if(void 0!==r?.x){let t=this._is_editable[r.x],i="boolean"===this.get_psp_type(r),o="-"===n.target.textContent;t&&i&&!o&&Ni(e,this,n.target)}}async function Ui(e,t){this._edit_port=await t.getEditPort(),e.addStyleListener(Vi.bind(this,e,t)),e.addStyleListener(Ri.bind(this,e,t)),e.addEventListener("click",Wi.bind(this,e,t)),e.addEventListener("focusin",Hi.bind(this,e,t)),e.addEventListener("focusout",Fi.bind(this,e,t)),e.addEventListener("keydown",ji.bind(this,e,t))}async function Yi(e,t){e.addEventListener("regular-table-psp-sort",(e=>{this._preserve_focus_state=!0,t.restore({sort:e.detail.sort})}))}customElements.define("perspective-viewer-datagrid",class extends HTMLElement{constructor(){super(),this.datagrid=document.createElement("regular-table"),this.datagrid.formatters=bi}async activate(e){let t=this.parentElement,n=await t.getTable(!0);this._initialized?await ki(this.datagrid,n,e,this.model):(this.innerHTML="",this.appendChild(this.datagrid),this.model=await ki(this.datagrid,n,e),Si(this.datagrid,this.model),await zi.call(this.model,this.datagrid,t),await Ii.call(this.model,this.datagrid,t),await Ui.call(this.model,this.datagrid,t),await Yi.call(this.model,this.datagrid,t),this._initialized=!0)}get name(){return"Datagrid"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){}async draw(e){let t=this._save_column_size_overrides();await this.activate(e),this.parentElement;let n=this.datagrid.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.datagrid.scrollTop=0,this.datagrid.scrollLeft=0,async function(e){Ai.delete(e);for(let t of e.querySelectorAll("td,th"))t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1)}(this.datagrid),this.datagrid._resetAutoSize()),this._restore_column_size_overrides(t),await n}async update(e){this.model._num_rows=await e.num_rows(),await this.datagrid.draw()}async resize(){this._initialized&&await this.datagrid.draw()}async clear(){this.datagrid._resetAutoSize(),this.datagrid.clear()}save(){if(this.datagrid){let e=this.datagrid,t={};for(let n of Object.keys(e[ei]||{})){let r=Object.assign({},e[ei][n]);r?.pos_color&&(r.pos_color=r.pos_color[0],r.neg_color=r.neg_color[0]),t[n]=r}let n=this._save_column_size_overrides();for(let e of Object.keys(n||{}))t[e]||(t[e]={}),t[e].column_size_override=n[e];return JSON.parse(JSON.stringify(t))}return{}}restore(e){e=JSON.parse(JSON.stringify(e));let t={};for(let n of Object.keys(e)){let r=e[n];void 0!==r.column_size_override&&(t[n]=r.column_size_override,delete r.column_size_override),r?.pos_color&&(r.pos_color=xi(r.pos_color),r.neg_color=xi(r.neg_color)),0===Object.keys(r).length&&delete e[n]}let n=this.datagrid;try{n._resetAutoSize()}catch{}this._restore_column_size_overrides(t,!0),n[ei]=e}async restyle(){}delete(){this.datagrid.table_model&&this.datagrid._resetAutoSize(),this.datagrid.clear()}_save_column_size_overrides(){if(!this._initialized)return[];if(this._cached_column_sizes){let e=this._cached_column_sizes;return this._cached_column_sizes=void 0,e}let e=this.datagrid._column_sizes.override,{row_pivots:t,columns:n}=this.model._config,r=t?.length>0?t.length+1:0,i={};for(let t of Object.keys(e))if(void 0!==e[t]){let n=t-r;n>-1&&(i[this.model._column_paths[n]]=e[t])}return i}_restore_column_size_overrides(e,t=!1){if(!this._initialized)return;t&&(this._cached_column_sizes=e);let n={},{row_pivots:r,columns:i}=this.model._config,o=r?.length>0?r.length+1:0;for(let t of Object.keys(e))n[this.model._column_paths.indexOf(t)+o]=e[t];this.datagrid._column_sizes.override=n}}),customElements.whenDefined("perspective-viewer").then((function(){customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")})),function(){let e=document.createElement("style");e.textContent='regular-table{padding:12px 0 0 12px;scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none}regular-table:hover{scrollbar-color:rgba(0,0,0,.3) transparent}regular-table{font-family:"Open Sans"}regular-table div[tabindex]{outline:none}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}regular-table th{text-align:center}regular-table thead tr:not(:last-child) th{overflow:hidden;max-width:0px}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right}regular-table tbody th{text-align:left}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left}regular-table thead tr:last-child th{border-bottom:1px solid #ddd}regular-table th{position:relative}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid #eee;height:100%}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding:0 5px;height:19px}regular-table tr:hover td{background:#eee;opacity:1}regular-table tr:hover{color:#333}regular-table table *{box-sizing:border-box}regular-table table{position:absolute;overflow:hidden;color:#666;outline:none}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:"Material Icons"}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:"Material Icons"}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px #1a7da1}regular-table .rt-selected td{background-color:#eee}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%}regular-table th span.rt-group-name{text-align:left}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#0000;border-radius:5px}regular-table::-webkit-scrollbar-thumb:horizontal{border-bottom:2px solid transparent;border-top:2px solid transparent}regular-table::-webkit-scrollbar-thumb:vertical{border-left:2px solid transparent;border-right:2px solid transparent}regular-table:hover::-webkit-scrollbar-thumb{background-color:#00000026}regular-table::-webkit-scrollbar-thumb:hover{background-color:#0000004d}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0 var(--pv-divider--color, #eaedef)}.psp-header-group{box-shadow:0 10px 0 -9px var(--pv-divider--color, #eaedef)}.psp-is-top{box-shadow:5px 4px 0 -4px var(--pv-divider--color, #eaedef)}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0 -4px var(--pv-divider--color, #eaedef),0 10px 0 -9px var(--pv-divider--color, #eaedef)}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0 var(--pv-divider--color, #eaedef),0 10px 0 -9px var(--pv-divider--color, #eaedef)}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0 -4px var(--pv-divider--color, #eaedef)}tr:only-child th{box-shadow:none!important}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--rt-hover--border-color, #c5c9d080)!important;background-color:transparent;box-shadow:0 1px 0 var(--rt-hover--border-color, #c5c9d080),0 3px #0000000d,0 5px #00000003}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:1px;border-right-color:transparent}regular-table tbody tr:hover{color:#161616}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color, #c5c9d080)!important}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color, #c5c9d080)!important}perspective-viewer[settings] regular-table .psp-header-leaf{height:36px;vertical-align:top;padding-top:2px}perspective-viewer[settings] regular-table .psp-header-leaf:not(.psp-header-corner):before{font-family:"Material Icons";content:"menu";position:absolute;width:calc(100% - 8px);left:5px;bottom:0px;color:var(--inactive--color, #b4b7be)}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:not(.psp-header-corner):before{color:inherit;cursor:pointer}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner){pointer-events:none}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner):before{content:"expand_less"}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:hover:before{color:#338dcd}perspective-viewer[settings] regular-table .psp-header-leaf .rt-column-resize{height:18px}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:#fff!important;background-color:#ea7319!important;border-color:#ea7319!important}.psp-row-selected.psp-tree-label:not(:hover):before{color:#fff}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,.2)!important}.psp-error{color:red}td:focus{outline:#666;outline-style:dotted;outline-width:1px}perspective-viewer.dragging regular-table{pointer-events:none}.psp-header-border:last-child{border-right-width:0px}.psp-header-sort-desc:after{font-family:"Material Icons";font-size:10px;content:"arrow_downward"}.psp-header-sort-asc:after{font-family:"Material Icons";font-size:10px;content:"arrow_upward"}.psp-header-sort-col-desc:after{font-family:"Material Icons";font-size:10px;content:"arrow_back"}.psp-header-sort-col-asc:after{font-family:"Material Icons";font-size:10px;content:"arrow_forward"}tbody th:last-of-type{border-right:1px solid #eaedef;overflow:hidden;text-overflow:ellipsis}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,#eee 10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none}.psp-tree-label{max-width:0px;min-width:0px}.psp-tree-label:before{color:#ccc;font-family:"Material Icons";padding-right:11px;vertical-align:-1px}.psp-tree-label-expand:before{content:"add"}.psp-tree-label-collapse:before{content:"remove"}.psp-tree-label:hover:before{color:#338dcd;text-shadow:0px 0px 5px #338dcd}regular-table thead tr:last-child th{border-bottom-width:0px}.psp-tree-leaf{padding-left:24px}.psp-align-right{text-align:right}.psp-align-left{text-align:left}.psp-positive:not(:focus){color:var(--rt-pos-cell--color, #338dcd)}.psp-negative:not(:focus){color:var(--rt-neg-cell--color, #ff5942)}regular-table table tbody td{min-width:52px!important}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed #999;border-bottom-width:0px;border-left-width:0px}.psp-bool-type{font-family:"Material Icons"}.boolean-editable{cursor:pointer}regular-table table{user-select:none;color:#161616;border-collapse:separate}regular-table table th{font-weight:400}regular-table table td,regular-table table th{border-color:#eaedef;height:23px}regular-table table .psp-header-group{text-overflow:ellipsis}regular-table table .psp-header-leaf{border-bottom-width:0px}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px}regular-table table tbody th:empty{background-position:0px -10px}\n',document.head.insertBefore(e,document.head.firstChild)}();var qi=n(3258),Zi=n(3233),Gi=(n(174),n(6788)),$i=n(2983),Xi=n(2721),Ki=n(1257),Qi=n(1921),Ji=n(729);const eo=e=>()=>e;function to(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}function no(e){return!e.ctrlKey&&!e.button}function ro(){return this.parentNode}function io(e,t){return null==t?{x:e.x,y:e.y}:t}function oo(){return navigator.maxTouchPoints||"ontouchstart"in this}function ao(){var e,t,n,r,i=no,o=ro,a=io,s=oo,c={},l=(0,$i.Z)("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",m).on("touchmove.drag",b,Ji.Q7).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&i.call(this,a,s)){var c=_(this,o.call(this,a,s),a,s,"mouse");c&&((0,Xi.Z)(a.view).on("mousemove.drag",p,Ji.Dd).on("mouseup.drag",g,Ji.Dd),(0,Qi.Z)(a.view),(0,Ji.rG)(a),n=!1,e=a.clientX,t=a.clientY,c("start",a))}}function p(r){if((0,Ji.ZP)(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>d}c.mouse("drag",r)}function g(e){(0,Xi.Z)(e.view).on("mousemove.drag mouseup.drag",null),(0,Qi.D)(e.view,n),(0,Ji.ZP)(e),c.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,a=e.changedTouches,s=o.call(this,e,t),c=a.length;for(n=0;n<c;++n)(r=_(this,s,e,t,a[n].identifier,a[n]))&&((0,Ji.rG)(e),r("start",e,a[n]))}}function b(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=c[r[t].identifier])&&((0,Ji.ZP)(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=c[i[t].identifier])&&((0,Ji.rG)(e),n("end",e,i[t]))}function _(e,t,n,r,i,o){var s,d,h,p=l.copy(),g=(0,Ki.Z)(o||n,t);if(null!=(h=a.call(e,new to("beforestart",{sourceEvent:n,target:f,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(o,a,l){var m,b=g;switch(o){case"start":c[i]=n,m=u++;break;case"end":delete c[i],--u;case"drag":g=(0,Ki.Z)(l||a,t),m=u}p.call(o,e,new to(o,{sourceEvent:a,subject:h,target:f,identifier:i,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-b[0],dy:g[1]-b[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:eo(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:eo(e),f):o},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:eo(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:eo(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}to.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var so=n(2047);function co(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lo(e){return(e=co(Math.abs(e)))?e[1]:NaN}var uo,fo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ho(e){if(!(t=fo.exec(e)))throw new Error("invalid format: "+e);var t;return new po({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function po(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function go(e,t){var n=co(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ho.prototype=po.prototype,po.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const mo={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>go(100*e,t),r:go,s:function(e,t){var n=co(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(uo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+co(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bo(e){return e}var vo,_o,yo,wo=Array.prototype.map,xo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ko(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Mo(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Co)):void 0===t&&(t=So);for(var n,r,i,o,a,s=new Eo(e),c=[s];n=c.pop();)if((i=t(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new Eo(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(To)}function So(e){return e.children}function Co(e){return Array.isArray(e)?e[1]:null}function Ao(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function To(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Eo(e){this.data=e,this.depth=this.height=0,this.parent=null}function zo(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Po(e,t,n,r,i){for(var o,a=e.children,s=-1,c=a.length,l=e.value&&(r-t)/e.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function Io(e,t,n,r,i){for(var o,a=e.children,s=-1,c=a.length,l=e.value&&(i-n)/e.value;++s<c;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}vo=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?bo:(t=wo.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?bo:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(wo.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ho(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,m=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):mo[v]||(void 0===m&&(m=12),b=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===f?o:/[%p]/.test(v)?c:"",w=mo[v],x=/[defgprs%]/.test(v);function k(e){var i,o,c,f=_,k=y;if("c"===v)k=w(e)+k,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),f=(M?"("===d?d:l:"-"===d||"("===d?"":d)+f,k=("s"===v?xo[8+uo/3]:"")+k+(M&&"("===d?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){k=(46===c?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!h&&(e=r(e,1/0));var S=f.length+e.length+k.length,C=S<p?new Array(p-S+1).join(t):"";switch(g&&h&&(e=r(C+e,C.length?p-k.length:1/0),C=""),n){case"<":e=f+e+k+C;break;case"=":e=f+C+e+k;break;case"^":e=C.slice(0,S=C.length>>1)+f+e+k+C.slice(S);break;default:e=C+f+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=ho(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(lo(t)/3))),i=Math.pow(10,-r),o=xo[8+r/3];return function(e){return n(i*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),_o=vo.format,yo=vo.formatPrefix,Eo.prototype=Mo.prototype={constructor:Eo,count:function(){return this.eachAfter(ko)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,a=[o],s=[],c=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)e.call(t,o,++c,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(e.call(t,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Mo(this).eachBefore(Ao)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const Do=function e(t){function n(e,n,r,i,o){!function(e,t,n,r,i,o){for(var a,s,c,l,u,d,f,h,p,g,m,b=[],v=t.children,_=0,y=0,w=v.length,x=t.value;_<w;){c=i-n,l=o-r;do{u=v[y++].value}while(!u&&y<w);for(d=f=u,m=u*u*(g=Math.max(l/c,c/l)/(x*e)),p=Math.max(f/m,m/d);y<w;++y){if(u+=s=v[y].value,s<d&&(d=s),s>f&&(f=s),m=u*u*g,(h=Math.max(f/m,m/d))>p){u-=s;break}p=h}b.push(a={value:u,dice:c<l,children:v.slice(_,y)}),a.dice?Po(a,n,r,i,x?r+=l*u/x:o):Io(a,n,r,x?n+=c*u/x:i,o),x-=u,_=y}}(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2);function Lo(e){if("function"!=typeof e)throw new Error;return e}function No(){return 0}function Oo(e){return function(){return e}}function Bo(e,t,n,r,i){var o,a,s=e.children,c=s.length,l=new Array(c+1);for(l[0]=a=o=0;o<c;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,c){if(t>=n-1){var u=s[t];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=c)}for(var d=l[t],f=r/2+d,h=t+1,p=n-1;h<p;){var g=h+p>>>1;l[g]<f?h=g+1:p=g}f-l[h-1]<l[h]-f&&t+1<h&&--h;var m=l[h]-d,b=r-m;if(a-i>c-o){var v=r?(i*b+a*m)/r:a;e(t,h,m,i,o,v,c),e(h,n,b,v,o,a,c)}else{var _=r?(o*b+c*m)/r:c;e(t,h,m,i,o,a,_),e(h,n,b,i,_,a,c)}}(0,c,e.value,t,n,r,i)}var Vo=n(6814),Ro=n(7219);function jo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Fo(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}var Ho=n(2718);const Wo=Symbol("implicit");function Uo(){var e=new Ho.L,t=[],n=[],r=Wo;function i(i){let o=e.get(i);if(void 0===o){if(r!==Wo)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ho.L;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Uo(t,n).unknown(r)},jo.apply(i,arguments),i}function Yo(){var e,t,n=Uo().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function d(){var n=r().length,d=a<o,f=d?a:o,h=d?o:a;e=(h-f)/Math.max(1,n-c+2*l),s&&(e=Math.floor(e)),f+=(h-f-e*(n-c))*u,t=e*(1-c),s&&(f=Math.round(f),t=Math.round(t));var p=(0,Ro.Z)(n).map((function(t){return f+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Yo(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},jo.apply(d(),arguments)}var qo=n(1440),Zo=n(1129),Go=n(8748);function $o(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xo(e){return+e}var Ko=[0,1];function Qo(e){return e}function Jo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function ea(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Jo(i,r),o=n(a,o)):(r=Jo(r,i),o=n(o,a)),function(e){return o(r(e))}}function ta(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Jo(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=(0,Zo.ZP)(e,t,1,r)-1;return o[n](i[n](t))}}function na(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ra(){return function(){var e,t,n,r,i,o,a=Ko,s=Ko,c=Vo.Z,l=Qo;function u(){var e=Math.min(a.length,s.length);return l!==Qo&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?ta:ea,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(l(t)))}return d.invert=function(n){return l(t((o||(o=r(s,a.map(e),Go.Z)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Xo),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=$o,u()},d.clamp=function(e){return arguments.length?(l=!!e||Qo,u()):l!==Qo},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}()(Qo,Qo)}function ia(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,qo.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,o=(0,qo.ly)(e,t,n);switch((r=ho(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lo(t)/3)))-lo(Math.abs(e)))}(o,a))||(r.precision=i),yo(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lo(t)-lo(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-lo(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return _o(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=(0,qo.G9)(c,l,n))===r)return o[a]=c,o[s]=l,t(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function oa(){var e=ra();return e.copy=function(){return na(e,oa())},jo.apply(e,arguments),ia(e)}var aa=n(9652),sa=n(8307),ca=n(2364),la=n(6346),ua=n(9703),da=n(7781),fa=n(2642),ha=n(8448),pa=n(7136),ga=n(5017),ma=n(5193);function ba(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function va(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _a(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var ya,wa,xa={"-":"",_:" ",0:"0"},ka=/^\s*\d+/,Ma=/^%/,Sa=/[\\^$*+?|[\]().{}]/g;function Ca(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Aa(e){return e.replace(Sa,"\\$&")}function Ta(e){return new RegExp("^(?:"+e.map(Aa).join("|")+")","i")}function Ea(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function za(e,t,n){var r=ka.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pa(e,t,n){var r=ka.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ia(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Da(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function La(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Na(e,t,n){var r=ka.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Oa(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ba(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Va(e,t,n){var r=ka.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ra(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ja(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fa(e,t,n){var r=ka.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ha(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Wa(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ua(e,t,n){var r=ka.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ya(e,t,n){var r=ka.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function qa(e,t,n){var r=ka.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Za(e,t,n){var r=Ma.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ga(e,t,n){var r=ka.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $a(e,t,n){var r=ka.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Xa(e,t){return Ca(e.getDate(),t,2)}function Ka(e,t){return Ca(e.getHours(),t,2)}function Qa(e,t){return Ca(e.getHours()%12||12,t,2)}function Ja(e,t){return Ca(1+ua.Z.count((0,sa.Z)(e),e),t,3)}function es(e,t){return Ca(e.getMilliseconds(),t,3)}function ts(e,t){return es(e,t)+"000"}function ns(e,t){return Ca(e.getMonth()+1,t,2)}function rs(e,t){return Ca(e.getMinutes(),t,2)}function is(e,t){return Ca(e.getSeconds(),t,2)}function os(e){var t=e.getDay();return 0===t?7:t}function as(e,t){return Ca(la.OM.count((0,sa.Z)(e)-1,e),t,2)}function ss(e){var t=e.getDay();return t>=4||0===t?(0,la.bL)(e):la.bL.ceil(e)}function cs(e,t){return e=ss(e),Ca(la.bL.count((0,sa.Z)(e),e)+(4===(0,sa.Z)(e).getDay()),t,2)}function ls(e){return e.getDay()}function us(e,t){return Ca(la.wA.count((0,sa.Z)(e)-1,e),t,2)}function ds(e,t){return Ca(e.getFullYear()%100,t,2)}function fs(e,t){return Ca((e=ss(e)).getFullYear()%100,t,2)}function hs(e,t){return Ca(e.getFullYear()%1e4,t,4)}function ps(e,t){var n=e.getDay();return Ca((e=n>=4||0===n?(0,la.bL)(e):la.bL.ceil(e)).getFullYear()%1e4,t,4)}function gs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ca(t/60|0,"0",2)+Ca(t%60,"0",2)}function ms(e,t){return Ca(e.getUTCDate(),t,2)}function bs(e,t){return Ca(e.getUTCHours(),t,2)}function vs(e,t){return Ca(e.getUTCHours()%12||12,t,2)}function _s(e,t){return Ca(1+ga.Z.count((0,ma.Z)(e),e),t,3)}function ys(e,t){return Ca(e.getUTCMilliseconds(),t,3)}function ws(e,t){return ys(e,t)+"000"}function xs(e,t){return Ca(e.getUTCMonth()+1,t,2)}function ks(e,t){return Ca(e.getUTCMinutes(),t,2)}function Ms(e,t){return Ca(e.getUTCSeconds(),t,2)}function Ss(e){var t=e.getUTCDay();return 0===t?7:t}function Cs(e,t){return Ca(pa.Ox.count((0,ma.Z)(e)-1,e),t,2)}function As(e){var t=e.getUTCDay();return t>=4||0===t?(0,pa.hB)(e):pa.hB.ceil(e)}function Ts(e,t){return e=As(e),Ca(pa.hB.count((0,ma.Z)(e),e)+(4===(0,ma.Z)(e).getUTCDay()),t,2)}function Es(e){return e.getUTCDay()}function zs(e,t){return Ca(pa.l6.count((0,ma.Z)(e)-1,e),t,2)}function Ps(e,t){return Ca(e.getUTCFullYear()%100,t,2)}function Is(e,t){return Ca((e=As(e)).getUTCFullYear()%100,t,2)}function Ds(e,t){return Ca(e.getUTCFullYear()%1e4,t,4)}function Ls(e,t){var n=e.getUTCDay();return Ca((e=n>=4||0===n?(0,pa.hB)(e):pa.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ns(){return"+0000"}function Os(){return"%"}function Bs(e){return+e}function Vs(e){return Math.floor(+e/1e3)}function Rs(e){return new Date(e)}function js(e){return e instanceof Date?+e:+new Date(+e)}function Fs(e,t,n,r,i,o,a,s,c,l){var u=ra(),d=u.invert,f=u.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),b=l("%a %d"),v=l("%b %d"),_=l("%B"),y=l("%Y");function w(e){return(c(e)<e?h:s(e)<e?p:a(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?b:v:n(e)<e?_:y)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,js)):f().map(Rs)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:l(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}(n,e)):u},u.copy=function(){return na(u,Fs(e,t,n,r,i,o,a,s,c,l))},u}function Hs(){var e,t,n,r,i,o=0,a=1,s=Qo,c=!1;function l(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),l):[s(0),s(1)]}}return l.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),l):[o,a]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(Vo.Z),l.rangeRound=u($o),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),l}}function Ws(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Us(){var e=ia(Hs()(Qo));return e.copy=function(){return Ws(e,Us())},Fo.apply(e,arguments)}ya=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Ta(i),u=Ea(i),d=Ta(o),f=Ea(o),h=Ta(a),p=Ea(a),g=Ta(s),m=Ea(s),b=Ta(c),v=Ea(c),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Xa,e:Xa,f:ts,g:fs,G:ps,H:Ka,I:Qa,j:Ja,L:es,m:ns,M:rs,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Bs,s:Vs,S:is,u:os,U:as,V:cs,w:ls,W:us,x:null,X:null,y:ds,Y:hs,Z:gs,"%":Os},y={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:ms,e:ms,f:ws,g:Is,G:Ls,H:bs,I:vs,j:_s,L:ys,m:xs,M:ks,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Bs,s:Vs,S:Ms,u:Ss,U:Cs,V:Ts,w:Es,W:zs,x:null,X:null,y:Ps,Y:Ds,Z:Ns,"%":Os},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:ja,e:ja,f:qa,g:Oa,G:Na,H:Ha,I:Ha,j:Fa,L:Ya,m:Ra,M:Wa,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Va,Q:Ga,s:$a,S:Ua,u:Pa,U:Ia,V:Da,w:za,W:La,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:Oa,Y:Na,Z:Ba,"%":Za};function x(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=xa[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=_a(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=va(_a(o.y,0,1))).getUTCDay(),r=i>4||0===i?pa.l6.ceil(r):(0,pa.l6)(r),r=ga.Z.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ba(_a(o.y,0,1))).getDay(),r=i>4||0===i?la.wA.ceil(r):(0,la.wA)(r),r=ua.Z.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?va(_a(o.y,0,1)).getUTCDay():ba(_a(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,va(o)):ba(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in xa?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),wa=ya.format,ya.parse,ya.utcFormat,ya.utcParse;var Ys=n(4641),qs=n(8098),Zs=(n(3625),n(797)),Gs=n(5677),$s=n(6073),Xs="http://www.w3.org/1999/xhtml";const Ks={svg:"http://www.w3.org/2000/svg",xhtml:Xs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qs(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ks.hasOwnProperty(t)?{space:Ks[t],local:e}:e}function Js(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xs&&t.documentElement.namespaceURI===Xs?t.createElement(e):t.createElementNS(n,e)}}function ec(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tc(e){var t=Qs(e);return(t.local?ec:Js)(t)}var nc=0;function rc(){this._="@"+(++nc).toString(36)}rc.prototype=function(){return new rc}.prototype={constructor:rc,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ic=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var oc=document.documentElement;if(!oc.matches){var ac=oc.webkitMatchesSelector||oc.msMatchesSelector||oc.mozMatchesSelector||oc.oMatchesSelector;ic=function(e){return function(){return ac.call(this,e)}}}}const sc=ic;var cc={},lc=null;function uc(e,t,n){return e=dc(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function dc(e,t,n){return function(r){var i=lc;lc=r;try{e.call(this,this.__data__,t,n)}finally{lc=i}}}function fc(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function hc(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function pc(e,t,n){var r=cc.hasOwnProperty(e.type)?uc:dc;return function(i,o,a){var s,c=this.__on,l=r(t,o,a);if(c)for(var u=0,d=c.length;u<d;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function gc(){}function mc(e){return null==e?gc:function(){return this.querySelector(e)}}function bc(){return[]}function vc(e){return new Array(e.length)}function _c(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function yc(e,t,n,r,i,o){for(var a,s=0,c=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new _c(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function wc(e,t,n,r,i,o,a){var s,c,l,u={},d=t.length,f=o.length,h=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(h[s]=l="$"+a.call(c,c.__data__,s,t),l in u?i[s]=c:u[l]=c);for(s=0;s<f;++s)(c=u[l="$"+a.call(e,o[s],s,o)])?(r[s]=c,c.__data__=o[s],u[l]=null):n[s]=new _c(e,o[s]);for(s=0;s<d;++s)(c=t[s])&&u[h[s]]===c&&(i[s]=c)}function xc(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kc(e){return function(){this.removeAttribute(e)}}function Mc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sc(e,t){return function(){this.setAttribute(e,t)}}function Cc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ac(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Tc(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ec(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zc(e){return function(){this.style.removeProperty(e)}}function Pc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ic(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Dc(e){return function(){delete this[e]}}function Lc(e,t){return function(){this[e]=t}}function Nc(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Oc(e){return e.trim().split(/^|\s+/)}function Bc(e){return e.classList||new Vc(e)}function Vc(e){this._node=e,this._names=Oc(e.getAttribute("class")||"")}function Rc(e,t){for(var n=Bc(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function jc(e,t){for(var n=Bc(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fc(e){return function(){Rc(this,e)}}function Hc(e){return function(){jc(this,e)}}function Wc(e,t){return function(){(t.apply(this,arguments)?Rc:jc)(this,e)}}function Uc(){this.textContent=""}function Yc(e){return function(){this.textContent=e}}function qc(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Zc(){this.innerHTML=""}function Gc(e){return function(){this.innerHTML=e}}function $c(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Xc(){this.nextSibling&&this.parentNode.appendChild(this)}function Kc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qc(){return null}function Jc(){var e=this.parentNode;e&&e.removeChild(this)}function el(e,t,n){var r=Ec(e),i=r.CustomEvent;i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tl(e,t){return function(){return el(this,e,t)}}function nl(e,t){return function(){return el(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(cc={mouseenter:"mouseover",mouseleave:"mouseout"})),_c.prototype={constructor:_c,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Vc.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var rl,il=[null];function ol(e,t){this._groups=e,this._parents=t}function al(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sl(e,t){var n=al(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ol.prototype=function(){return new ol([[document.documentElement]],il)}.prototype={constructor:ol,select:function(e){"function"!=typeof e&&(e=mc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new ol(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=function(e){return null==e?bc:function(){return this.querySelectorAll(e)}}(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new ol(r,i)},filter:function(e){"function"!=typeof e&&(e=sc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new ol(r,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),l=-1,this.each((function(e){h[++l]=e})),h;var n=t?wc:yc,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],d=i[l],f=d.length,h=e.call(u,u&&u.__data__,l,r),p=h.length,g=s[l]=new Array(p),m=a[l]=new Array(p);n(u,d,g,m,c[l]=new Array(f),h,t);for(var b,v,_=0,y=0;_<p;++_)if(b=g[_]){for(_>=y&&(y=_+1);!(v=m[y])&&++y<p;);b._next=v||null}}return(a=new ol(a,r))._enter=s,a._exit=c,a},enter:function(){return new ol(this._enter||this._groups.map(vc),this._parents)},exit:function(){return new ol(this._exit||this._groups.map(vc),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],d=l.length,f=a[s]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;s<r;++s)a[s]=t[s];return new ol(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=xc);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new ol(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=Qs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Mc:kc:"function"==typeof t?n.local?Tc:Ac:n.local?Cc:Sc)(n,t))},style:function(e,t,n){var r;return arguments.length>1?this.each((null==t?zc:"function"==typeof t?Ic:Pc)(e,t,null==n?"":n)):Ec(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)},property:function(e,t){return arguments.length>1?this.each((null==t?Dc:"function"==typeof t?Nc:Lc)(e,t)):this.node()[e]},classed:function(e,t){var n=Oc(e+"");if(arguments.length<2){for(var r=Bc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Wc:t?Fc:Hc)(n,t))},text:function(e){return arguments.length?this.each(null==e?Uc:("function"==typeof e?qc:Yc)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Zc:("function"==typeof e?$c:Gc)(e)):this.node().innerHTML},raise:function(){return this.each(Xc)},lower:function(){return this.each(Kc)},append:function(e){var t="function"==typeof e?e:tc(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:tc(e),r=null==t?Qc:"function"==typeof t?t:mc(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Jc)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=fc(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?pc:hc,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?nl:tl)(e,t))}};const cl={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return sl(100*e,t)},r:sl,s:function(e,t){var n=al(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(rl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+al(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var ll=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function ul(e){return new dl(e)}function dl(e){if(!(t=ll.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],c=!!t[7],l=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(c=!0,u="g"):cl[u]||(u=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=c,this.precision=l,this.type=u}dl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var fl,hl,pl,gl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ml(e){return e}function bl(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):ml,i=e.currency,o=e.decimal;function a(e){var t=(e=ul(e)).fill,n=e.align,a=e.sign,s=e.symbol,c=e.zero,l=e.width,u=e.comma,d=e.precision,f=e.type,h="$"===s?i[0]:"#"===s&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",p="$"===s?i[1]:/[%p]/.test(f)?"%":"",g=cl[f],m=!f||/[defgprs%]/.test(f);function b(e){var i,s,b,v=h,_=p;if("c"===f)_=g(e)+_,e="";else{var y=((e=+e)<0||1/e<0)&&(e*=-1,!0);if(e=g(e,d),y)for(i=-1,s=e.length,y=!1;++i<s;)if(48<(b=e.charCodeAt(i))&&b<58||"x"===f&&96<b&&b<103||"X"===f&&64<b&&b<71){y=!0;break}if(v=(y?"("===a?a:"-":"-"===a||"("===a?"":a)+v,_=_+("s"===f?gl[8+rl/3]:"")+(y&&"("===a?")":""),m)for(i=-1,s=e.length;++i<s;)if(48>(b=e.charCodeAt(i))||b>57){_=(46===b?o+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}u&&!c&&(e=r(e,1/0));var w=v.length+e.length+_.length,x=w<l?new Array(l-w+1).join(t):"";switch(u&&c&&(e=r(x+e,x.length?l-_.length:1/0),x=""),n){case"<":return v+e+_+x;case"=":return v+x+e+_;case"^":return x.slice(0,w=x.length>>1)+v+e+_+x.slice(w)}return x+v+e+_}return d=null==d?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return e+""},b}return{format:a,formatPrefix:function(e,t){var n=a(((e=ul(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(function(e){return(e=al(Math.abs(e)))?e[1]:NaN}(t)/3))),i=Math.pow(10,-r),o=gl[8+r/3];return function(e){return n(i*e)+o}}}}fl=bl({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),hl=fl.format,pl=fl.formatPrefix;var vl={value:function(){}};function _l(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new yl(r)}function yl(e){this._=e}function wl(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function xl(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function kl(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=vl,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}yl.prototype=_l.prototype={constructor:yl,on:function(e,t){var n,r=this._,i=wl(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=kl(r[n],e.name,t);else if(null==t)for(n in r)r[n]=kl(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=xl(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yl(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Ml=_l;var Sl,Cl=n(7767);function Al(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}1===(Sl=Al).length&&(Sl=function(e){return function(t,n){return Al(e(t),n)}}(Sl));var Tl=Array.prototype;function El(e,t){var n,r,i=-1,o=e.length;if(null==t){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t(e[i],i,e))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t(e[i],i,e))&&r>n&&(n=r)}return n}function zl(e,t){var n,r=0,i=e.length,o=-1;if(null==t)for(;++o<i;)(n=+e[o])&&(r+=n);else for(;++o<i;)(n=+t(e[o],o,e))&&(r+=n);return r}Tl.slice,Tl.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il=function(e){return e},Dl=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[r-n-1];return t},Ll=function(e,t){e.each((function(){for(var e,n=function(e){return"string"==typeof e?new ol([[document.querySelector(e)]],[document.documentElement]):new ol([[e]],il)}(this),r=n.text().split(/\s+/).reverse(),i=[],o=(n.attr("y"),parseFloat(n.attr("dy"))||0),a=n.text(null).append("tspan").attr("x",0).attr("dy",o+"em");e=r.pop();)i.push(e),a.text(i.join(" ")),a.node().getComputedTextLength()>t&&i.length>1&&(i.pop(),a.text(i.join(" ")),i=[e],a=n.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(e))}))},Nl={d3_drawShapes:function(e,t,n,r,i,o){"rect"===e?t.attr("height",n).attr("width",r):"circle"===e?t.attr("r",i):"line"===e?t.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===e&&t.attr("d",o)},d3_addText:function(e,t,n,r,i){t.append("text").attr("class",r+"label");var o=e.selectAll("g."+r+"cell text."+r+"label").data(n).text(Il);return i&&e.selectAll("g."+r+"cell text."+r+"label").call(Ll,i),o},d3_calcType:function(e,t,n,r,i,o){var a=e.invertExtent?function(e,t,n){var r=e.range().map((function(r){var i=e.invertExtent(r);return t(i[0])+" "+n+" "+t(i[1])}));return{data:e.range(),labels:r,feature:Il}}(e,i,o):e.ticks?function(e,t,n){var r=[];if(t.length>1)r=t;else for(var i=e.domain(),o=(i[i.length-1]-i[0])/(t-1),a=0;a<t;a++)r.push(i[0]+a*o);var s=r.map(n);return{data:r,labels:s,feature:function(t){return e(t)}}}(e,n,i):function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}}(e),s=e.range&&e.range()||e.domain();return a.labels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===t?"undefined":Pl(t))){if(0===t.length)return e;for(var o=t.length;o<e.length;o++)t.push(e[o]);return t}if("function"==typeof t){for(var a=[],s=e.length,c=0;c<s;c++)a.push(t({i:c,genLength:s,generatedLabels:e,domain:n,range:r,labelDelimiter:i}));return a}return e}(a.labels,r,e.domain(),s,o),t&&(a.labels=Dl(a.labels),a.data=Dl(a.data)),a},d3_filterCells:function(e,t){var n=e.data.map((function(t,n){return{data:t,label:e.labels[n]}})).filter(t),r=n.map((function(e){return e.data})),i=n.map((function(e){return e.label}));return e.data=e.data.filter((function(e){return-1!==r.indexOf(e)})),e.labels=e.labels.filter((function(e){return-1!==i.indexOf(e)})),e},d3_placement:function(e,t,n,r,i,o){t.attr("transform",n),r.attr("transform",i),"horizontal"===e&&r.style("text-anchor",o)},d3_addEvents:function(e,t){e.on("mouseover.legend",(function(e){!function(e,t,n){e.call("cellover",n,t)}(t,e,this)})).on("mouseout.legend",(function(e){!function(e,t,n){e.call("cellout",n,t)}(t,e,this)})).on("click.legend",(function(e){!function(e,t,n){e.call("cellclick",n,t)}(t,e,this)}))},d3_title:function(e,t,n,r){if(""!==t){e.selectAll("text."+n+"legendTitle").data([t]).enter().append("text").attr("class",n+"legendTitle"),e.selectAll("text."+n+"legendTitle").text(t),r&&e.selectAll("text."+n+"legendTitle").call(Ll,r);var i=e.select("."+n+"legendCells"),o=e.select("."+n+"legendTitle").nodes().map((function(e){return e.getBBox().height}))[0],a=-i.nodes().map((function(e){return e.getBBox().x}))[0];i.attr("transform","translate("+a+","+o+")")}},d3_defaultLocale:{format:hl,formatPrefix:pl},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Ol(){var e=(0,Cl.scaleLinear)(),t="rect",n=15,r=15,i=10,o=2,a=[5],s=void 0,c=[],l="",u=!1,d="",f=Nl.d3_defaultLocale,h=Nl.d3_defaultFormatSpecifier,p=10,g="middle",m=Nl.d3_defaultDelimiter,b=void 0,v="vertical",_=!1,y=void 0,w=void 0,x=Ml("cellover","cellout","cellclick");function k(k){var M=Nl.d3_calcType(e,_,a,c,f.format(h),m);k.selectAll("g").data([e]).enter().append("g").attr("class",l+"legendCells"),s&&Nl.d3_filterCells(M,s);var S=k.select("."+l+"legendCells").selectAll("."+l+"cell").data(M.data),C=S.enter().append("g").attr("class",l+"cell");C.append(t).attr("class",l+"swatch");var A=k.selectAll("g."+l+"cell "+t+"."+l+"swatch").data(M.data);Nl.d3_addEvents(C,x),S.exit().transition().style("opacity",0).remove(),A.exit().transition().style("opacity",0).remove(),A=A.merge(A),Nl.d3_drawShapes(t,A,r,n,i,y);var T=Nl.d3_addText(k,C,M.labels,l,b);S=C.merge(S);var E=T.nodes().map((function(e){return e.getBBox()})),z=A.nodes().map((function(e){return e.getBBox()}));u?A.attr("class",(function(e){return l+"swatch "+M.feature(e)})):"line"==t?A.style("stroke",M.feature):A.style("fill",M.feature);var P,I=void 0,D=void 0,L="start"==g?0:"middle"==g?.5:1;"vertical"===v?(P=E.map((function(e,t){return Math.max(e.height,z[t].height)})),I=function(e,t){return"translate(0, "+(zl(P.slice(0,t))+t*o)+")"},D=function(e,t){return"translate( "+(z[t].width+z[t].x+p)+", "+(z[t].y+z[t].height/2+5)+")"}):"horizontal"===v&&(I=function(e,t){return"translate("+t*(z[t].width+o)+",0)"},D=function(e,t){return"translate("+(z[t].width*L+z[t].x)+",\n          "+(z[t].height+z[t].y+p+8)+")"}),Nl.d3_placement(v,S,I,T,D,g),Nl.d3_title(k,d,l,w),S.transition().style("opacity",1)}return k.scale=function(t){return arguments.length?(e=t,k):e},k.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(a=e),k):a},k.cellFilter=function(e){return arguments.length?(s=e,k):s},k.shape=function(e,n){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof n)&&(t=e,y=n),k):t},k.shapeWidth=function(e){return arguments.length?(n=+e,k):n},k.shapeHeight=function(e){return arguments.length?(r=+e,k):r},k.shapeRadius=function(e){return arguments.length?(i=+e,k):i},k.shapePadding=function(e){return arguments.length?(o=+e,k):o},k.labels=function(e){return arguments.length?(c=e,k):c},k.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(g=e),k):g},k.locale=function(e){return arguments.length?(f=bl(e),k):f},k.labelFormat=function(e){return arguments.length?(h=ul(e),k):k.locale().format(h)},k.labelOffset=function(e){return arguments.length?(p=+e,k):p},k.labelDelimiter=function(e){return arguments.length?(m=e,k):m},k.labelWrap=function(e){return arguments.length?(b=e,k):b},k.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(u=e),k):u},k.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(v=e),k):v},k.ascending=function(e){return arguments.length?(_=!!e,k):_},k.classPrefix=function(e){return arguments.length?(l=e,k):l},k.title=function(e){return arguments.length?(d=e,k):d},k.titleWidth=function(e){return arguments.length?(w=e,k):w},k.textWrap=function(e){return arguments.length?(textWrap=e,k):textWrap},k.on=function(){var e=x.on.apply(x,arguments);return e===x?k:e},k}var Bl=n(6623),Vl=Object.create,Rl=Object.defineProperty,jl=Object.getOwnPropertyDescriptor,Fl=Object.getOwnPropertyNames,Hl=Object.getPrototypeOf,Wl=Object.prototype.hasOwnProperty,Ul=e=>Rl(e,"__esModule",{value:!0}),Yl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ql=(e,t)=>{for(var n in Ul(e),t)Rl(e,n,{get:t[n],enumerable:!0})},Zl=e=>((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Fl(t))!Wl.call(e,r)&&"default"!==r&&Rl(e,r,{get:()=>t[r],enumerable:!(n=jl(t,r))||n.enumerable});return e})(Ul(Rl(null!=e?Vl(Hl(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Gl=Yl(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),$l=Yl(((e,t)=>{var n=Gl().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),i(e[t],n[t])):Object.assign(e,{[t]:n[t]});return i(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var Xl="ordinal",Kl="time",Ql="linear",Jl=e=>{let t="crossValues",n=null,r=null,i=()=>{let i=r=>{let i=n?e[t].filter((e=>n==e.name)):e[t];return!("crossValues"==t&&i.length>1)&&i.some((e=>r.includes(e.type)))};return 0===e[t].length?"none":r!=Kl&&i(["datetime","date"])?Kl:r!=Ql&&i(["integer","float"])||r==Xl?Ql:Xl};return i.settingName=(...e)=>e.length?(t=e[0],i):t,i.settingValue=(...e)=>e.length?(n=e[0],i):n,i.excludeType=(...e)=>e.length?(r=e[0],i):r,i},eu={};ql(eu,{domain:()=>iu,labelFunction:()=>ou,scale:()=>ru});var tu=e=>Array.isArray(e)?e.flat(1/0):[e],nu=e=>{let t=t=>e(t);return(0,qi.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),1),t},ru=()=>(e=>{let t=t=>e(t);return(0,qi.rebindAll)(t,e),t.ticks=function(){return[]},t})(nu(Yo())),iu=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=tu(t);return r([...new Set(n.map((t=>t[e[0]])))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},ou=e=>t=>t[e].join("|"),au={};ql(au,{domain:()=>du,labelFunction:()=>fu,scale:()=>uu,tickFormatFunction:()=>hu});var su=()=>{let e=[0,0],t="percent",n=n=>{switch(t){case"domain":n[0]-=e[0],n[1]+=e[1];break;case"percent":{let t=n[1]-n[0];n[0]-=e[0]*t,n[1]+=e[1]*t;break}default:throw new Error("Unknown padUnit: "+t)}return n};return n.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},cu=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},lu=e=>Math.abs(e)>=1e7?_o(".3s")(e):Number.isInteger(e)?_o(",.0f")(e):_o(",.2f")(e),uu=()=>oa(),du=()=>{let e=function(){let e=[function(e){return e}],t=null,n=[],r=su(),i=function(i){let o,a=new Array(i.length),s=!0,c=!1,l=e[Symbol.iterator]();try{for(let e;!(s=(e=l.next()).done);s=!0){let t=e.value;for(let e=0;e<i.length;e++){let n=t(i[e],e);Array.isArray(n)?a.push.apply(a,cu(n)):a.push(n)}}}catch(e){c=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(c)throw o}}let u=[(0,Gs.Z)(a),(0,$s.Z)(a)];if(u[0]=null==u[0]?(0,Gs.Z)(n):(0,Gs.Z)([u[0]].concat(cu(n))),u[1]=null==u[1]?(0,$s.Z)(n):(0,$s.Z)([u[1]].concat(cu(n))),null!=t){let e=Math.max(Math.abs(u[1]-t),Math.abs(u[0]-t));u[0]=t-e,u[1]=t+e}return r(u)};return i.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),i):r.pad},i.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),i):r.padUnit},i.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i}().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>parseFloat(t[e])))),r(tu(n)));(0,qi.rebindAll)(n,e);let r=n=>{if("domain"==e.padUnit()){let r=(e=>{let n=t.map((t=>e.map((e=>e[t])).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||e<=t-r[n-1]?e:Math.abs(t-r[n-1])))));return Math.min(...n)})(n);return e.pad([r/2,r/2])(n)}return e(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},fu=e=>t=>t[e][0],hu=lu,pu={};ql(pu,{domain:()=>mu,labelFunction:()=>bu,scale:()=>gu});var gu=()=>function(){return jo.apply(Fs(aa.jK,aa._g,sa.Z,ca.Z,la.OM,ua.Z,da.Z,fa.Z,ha.Z,wa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),mu=()=>{let e=(0,qi.extentTime)(),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>new Date(t[e])))),r(tu(n)));(0,qi.rebindAll)(n,e,(0,qi.exclude)("include","paddingStrategy"));let r=n=>{let r=Math.abs((e=>{let n=t.map((t=>e.map((e=>new Date(e[t]).getTime())).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||Math.abs(e)<=Math.abs(t-r[n-1])?Math.abs(e):Math.abs(t-r[n-1])))));return Math.min(...n)})(n));return e.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},bu=e=>t=>new Date(t[e][0]),vu={};ql(vu,{component:()=>Eu,domain:()=>Au,labelFunction:()=>Tu,scale:()=>Cu});var _u=(e,t,n)=>{let r=6,i=6,o=((...e)=>{let t={},n=e=>{for(let n of Object.keys(t))e[n](t[n]);return e};for(let r of e)n[r]=(...e)=>e.length?(t[r]=e[0],n):t[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),a=()=>{},s=null,c=(0,qi.dataJoin)("g","group"),l=(0,qi.dataJoin)("path","domain"),u=(e,t)=>d()?`translate(${t}, ${e})`:`translate(${e}, ${t})`,d=()=>"left"===e||"right"===e,f=f=>{s?f.each(((f,p,g)=>{let m=g[p],b=(0,Ys.select)(m),v="bottom"===e||"right"===e?1:-1,_=n.range(),y=(e=>d()?e.map((e=>[e[1],e[0]])):e)([[_[0],v*r],[_[0],0],[_[1],0],[_[1],v*r]]);l(b,[f]).attr("d",(0,qs.line)()(y)).attr("stroke","#000").attr("fill","none");let w=c(b,s),x=e=>Array.isArray(i)?i[e]:i,k=e=>{let t=0;for(let n=0;n<e;n++)t+=x(n);return t};w.attr("transform",((e,t)=>u(0,v*k(t)))).each(((e,r,i)=>{let s=(0,Ys.select)(i[r]),c=h(n,e);o(t(c)).decorate(((e,t)=>a(e,t,r))).tickSizeInner(x(r)).tickOffset((e=>c.step(e)/2))(s),s.select("path.domain").attr("visibility","hidden")})),w.exit().attr("transform",((e,t)=>u(0,v*k(t))))})):o(t(n).decorate(a))(f)},h=(e,t)=>{function n(t){let n=t.domain;return n.reduce(((t,n)=>t+e(n)),0)/n.length}return n.ticks=()=>t,n.tickFormat=()=>e=>e.text,n.copy=()=>h(e,t),n.step=t=>t.domain.length*e.step(),(0,qi.rebindAll)(n,e,(0,qi.exclude)("ticks","step","copy")),n};return f.tickSize=(...e)=>e.length?(i=r=Number(e[0]),f):i,f.tickSizeInner=(...e)=>e.length?(i=Array.isArray(e[0])?e[0]:Number(e[0]),f):i,f.tickSizeOuter=(...e)=>e.length?(r=Number(e[0]),f):r,f.decorate=(...e)=>e.length?(a=e[0],f):a,f.groups=(...e)=>e.length?(s=e[0],f):s,(0,qi.rebindAll)(f,o),f},yu=e=>_u("top",qi.axisOrdinalTop,e),wu=e=>_u("bottom",qi.axisOrdinalBottom,e),xu=e=>_u("left",qi.axisOrdinalLeft,e),ku=e=>_u("right",qi.axisOrdinalRight,e);function Mu(e){return e.getRootNode().host}function Su(e){return e.closest("#container.chart")}var Cu=()=>nu(Yo()).padding(.5),Au=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=tu(t);return r([...new Set(n.map((t=>t[e[0]])))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},Tu=e=>t=>t[e].join("|"),Eu=e=>{let t="horizontal",n="crossValues",r=null,i=()=>{let i=e[n].length>1,l=a(r),d=l.map(s),f=i?d.map((e=>e.size)):d[0].size,h=d.reduce(((e,t)=>e+t.size),0),p=e=>n=>{let r=e(n);return i&&r.groups(l).tickSizeInner(f).tickSizeOuter(h),"horizontal"!==t&&r.tickPadding(10),r},g=o(i);return{bottom:p(g.bottom),left:p(g.left),right:p(g.right),top:p(g.top),size:`${h+10}px`,decorate:(e,n,r)=>{let i=d[r].rotation;"horizontal"===t&&u(e,i),c(e,i)}}},o=e=>e?{bottom:wu,left:xu,top:yu,right:ku}:{bottom:qi.axisOrdinalBottom,left:qi.axisOrdinalLeft,top:qi.axisOrdinalTop,right:qi.axisOrdinalRight},a=e=>{let t=[];return e.forEach((e=>{(e&&e.split?e.split("|"):[e]).forEach(((n,r)=>{for(;t.length<=r;)t.push([]);let i=t[r];i.length>0&&i[i.length-1].text===n?i[i.length-1].domain.push(e):i.push({text:n,domain:[e]})}))})),t.reverse()},s=n=>{let r=e.size.width,i=Math.max(...n.map((e=>e.text?e.text.length:0)));return"horizontal"===t?n&&16*n.length>r-100?{size:5*i+10,rotation:90}:n&&n.length*(6*i+10)>r-100?{size:3*i+20,rotation:45}:{size:25,rotation:0}:{size:5*i+10,rotation:0}},c=(e,n)=>{let r=n?(e,t)=>e.x+e.width+14>t.x+t.width:(e,t)=>e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height,i="horizontal"==t?l(e):null,o=[];e.each(((e,t,n)=>{let a=(0,Ys.select)(n[t]),s=(e=>{let t=-1!==e.indexOf(",")?",":" ",n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(t).map((e=>parseInt(e)));for(;n.length<2;)n.push(0);return n})(a.attr("transform")),c=a.node().getBBox(),l={x:c.x+s[0],y:c.y+s[1],width:c.width,height:c.height},u=o.some((e=>r(e,l)))||i&&!((e,t)=>e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height)(l,i);a.attr("visibility",u?"hidden":""),u||o.push(l)}))},l=e=>{let t=Su(e.node());if(null===t)return;let n=t.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),i=n.getBoundingClientRect(),o=r.getBoundingClientRect();return{x:i.left-o.left,width:i.width,y:i.top-o.top,height:i.height}},u=(e,t)=>{let n=(e=>e?e<60?`rotate(-${e} 5 5)`:`rotate(-${e} 3 7)`:"translate(0, 8)")(t),r=t?"end":"";e.each(((e,t,i)=>{(0,Ys.select)(i[t]).select("text").attr("transform",n).style("text-anchor",r)}))};return i.orient=(...e)=>e.length?(t=e[0],i):t,i.settingName=(...e)=>e.length?(n=e[0],i):n,i.domain=(...e)=>e.length?(r=e[0],i):r,i},zu={none:eu,ordinal:vu,time:pu,linear:au},Pu=e=>{let t=null,n="horizontal",r="crossValues",i=null,o=["crossValue"],a=["include","paddingStrategy","pad"],s={},c=c=>{let d=Jl(e).excludeType(t).settingName(r).settingValue(i)(),f=zu[d],h=f.domain().valueNames(o);a.forEach((e=>{s[e]&&h[e]&&h[e](s[e])})),h.orient&&h.orient(n);let p=h(c),g=f.component?l(f,p,c):u();return{scale:f.scale(),domain:p,domainFunction:h,labelFunction:f.labelFunction,component:{bottom:g.bottom,left:g.left,top:g.top,right:g.right},size:g.size,decorate:g.decorate,label:e[r].map((e=>e.name)).join(", "),tickFormatFunction:f.tickFormatFunction}},l=(t,i,o)=>t.component(e).orient(n).settingName(r).domain(i)(o),u=()=>({bottom:qi.axisBottom,left:qi.axisLeft,top:qi.axisTop,right:qi.axisRight,decorate:()=>{}});return c.excludeType=(...e)=>e.length?(t=e[0],c):t,c.orient=(...e)=>e.length?(n=e[0],c):n,c.settingName=(...e)=>e.length?(r=e[0],c):r,c.settingValue=(...e)=>e.length?(i=e[0],c):i,c.valueName=(...e)=>e.length?(o=[e[0]],c):o[0],c.valueNames=(...e)=>e.length?(o=e[0],c):o,a.forEach((e=>{c[e]=(...t)=>t.length?(s[e]=t[0],c):s[e]})),c},Iu=(e,t)=>Lu(e,t,((e,t)=>e.svgPlotArea(t)),!1),Du=(e,t)=>Lu(e,t,((e,t)=>e.canvasPlotArea(t).svgPlotArea((0,qi.seriesSvgPoint)())),!0),Lu=(e,t,n,r)=>{let i=null,o=null,a=(0,qi.chartCartesian)({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&a.xDecorate(e.decorate),t.decorate&&a.yDecorate(t.decorate),a.xPaddingInner&&a.xPaddingInner(1),a.xPaddingOuter&&a.xPaddingOuter(.5),a.yPaddingInner&&a.yPaddingInner(1),a.yPaddingOuter&&a.yPaddingOuter(.5),a.axisSplitter=(...e)=>e.length?(i=e[0],a):i,a.altAxis=(...e)=>e.length?(o=e[0],a):o,a.plotArea=function(...e){return 0==e.length?r?this.canvasPlotArea():this.svgPlotArea():n(this,...e)};let s=a.decorate();return a.decorate(((n,c)=>{let l=n.select("d3fc-svg.plot-area"),u=l.select("svg").node();u.setAttribute("viewBox",`0 0 ${l.node().clientWidth} ${l.node().clientHeight}`),u.setAttribute("preserveAspectRatio","none");for(let e of["x-axis","y-axis"])n.select(`d3fc-svg.${e} svg`).node().setAttribute("preserveAspectRatio","none");if(s(n,c),r){let e=n.select(".svg-plot-area").node(),t=n.select(".canvas-plot-area").node();(0,Ys.selectAll)([e,t]).order()}if(i){if(i.haveSplit()){let s=i.altData(),l=(0,qi.dataJoin)("d3fc-svg","y2-axis").key((e=>e)),u=(0,qi.dataJoin)("g","y-series").key((e=>e));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let d=o.scale.domain(o.domain),f=o.component.right(d);if(f.tickFormat(o.tickFormatFunction),o.decorate&&f.decorate(o.decorate),l(n,["right"]).attr("class",(e=>`y-axis ${e}-axis`)).on("measure",(function(e,t){let{width:n,height:r}=e.detail;"left"===t&&(0,Ys.select)(e.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),d.range([r,0])})).on("draw",(function(e,t){(0,Ys.select)(e.currentTarget).select("svg").call(f)})),r){let r=n=>{let r=a.plotArea();r.context(n.node().getContext("2d")).xScale(e.scale);let i=[t.scale,d];[c,s].forEach(((e,t)=>{r.yScale(i[t]),r(e)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(e,t){r((0,Ys.select)(e.currentTarget).select("canvas"))}))}else{let r=function(n){let r=a.plotArea();r.xScale(e.scale);let i=[t.scale,d];u(n,[c,s]).each(((e,t,n)=>{r.yScale(i[t]),(0,Ys.select)(n[t]).datum(e).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(e,t){r((0,Ys.select)(e.currentTarget).select("svg"))}))}}i(n)}})),a};function Nu(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Ou(e,t,n="right"){if("right"===n||"bottom"===n)return e[n]<t[n];if("left"===n||"top"===n)return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function Bu(e,t,n,r=0){let i="x"===e?"width":"height",o=t[e],a=t[e]+t[i],s=n[e],c=n[e]+n[i];return s+r>o&&s-r<a||c+r>o&&c-r<a||s+r<o&&c-r>a}var Vu=Zl($l());function Ru(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString("en-us",(0,Vu.get_type_config)(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function ju(e,t){return 0===t.crossValues.length||0===e.crossValue.length?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map(((e,n)=>({name:t.crossValues[n].name,value:Ru(t.crossValues[n].type,e)})))}function Fu(e,t){if(0===t.splitValues.length)return[];let n=e.key?e.key.split("|"):e.mainValue.split?e.mainValue.split("|"):[e.mainValue];return t.splitValues.map(((e,t)=>({name:e.name,value:Ru(e.type,n[t])})))}function Hu(e,t){return t.mainValues.length>1?e.mainValue?[{name:e.key,value:e.mainValue-(e.baseValue||0)}]:t.mainValues.map(((t,n)=>({name:t.name,value:Ru(t.type,e.mainValues[n])}))):[{name:t.mainValues[0].name,value:Ru(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}var Wu=Zl($l());var Uu=e=>null===e?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:(0,Wu.get_type_config)("float").precision,maximumFractionDigits:(0,Wu.get_type_config)("float").precision}),Yu=e=>[e.name,"==",e.value],qu=(e,t,n)=>{let r=Hu(t,n).map((e=>e.name)),i=ju(t,n).map(Yu),o=Fu(t,n).map(Yu),a=n.filter.concat(i).concat(o);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:a},row:t.row}}))},Zu=()=>{let e=!1,t=null,n=null,r=!1,i=i=>{let o=i.node();if(!o||!o.isConnected)return void Gu(t);let a=(0,Ys.select)(Su(o));t=function(e){return Nu(e,"div.tooltip",(()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html('<ul id="tooltip-values"></ul>\n')))}(a);let s=function(e,o){!function(e,t,n){!function(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each((function(e){(0,Ys.select)(this).text(`${e.name}: `).append("b").text(Uu(e.value))}))}(e,ju(t,n).concat(Fu(t,n)).concat(Hu(t,n)))}(t,o,n);let s=i.nodes(),c=s.indexOf(this);(function(e,t,n,r){let i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=o.left+o.width/2-i.left,s=o.top-i.top+e.scrollTop;r&&(s=o.top+o.height/2-i.top+e.scrollTop),n.style("left",`${a}px`).style("top",`${s}px`).style("opacity",.9),r&&([a,s]=function(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,i=n.left-r-t.left;e.style("left",`${i}px`);let o=n.height/2,a=n.top-o-t.top;return e.style("top",`${a}px`),[i,a]}(n,i)),function(e,t,n,r,i=!1){let o=e.node().getBoundingClientRect();if(Ou(t,o)){let r=o.right-t.right;e.style("left",n-r+"px")}if(Ou(t,o,"bottom")){let n=o.bottom-t.bottom;e.style("top",r-n+"px")}if(i){if(Ou(t,o,"left")){let r=o.left-t.left;e.style("left",n-r+"px")}if(Ou(t,o,"top")){let n=o.top-t.top;e.style("top",r-n+"px")}}}(n,i,a,s,r)})(a.node(),s[c],t,r),(0,Ys.select)(s[c]).style("opacity","0.7")};e?i.each((function(e){return s.call(this,void 0,e)})):(i.on("mouseover",s).on("mouseout",(function(e,n){Gu(t);let r=i.nodes(),o=r.indexOf(this);r&&(0,Ys.select)(r[o]).style("opacity","1")})),(()=>{let e=null,t=t=>{let n=t.node();t.on("click",((t,r)=>qu(n,r,e)))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t})().settings(n)(i))};return i.alwaysShow=(...t)=>t.length?(e=t[0],i):e,i.centered=(...e)=>e.length?(r=e[0],i):r,i.settings=(...e)=>e.length?(n=e[0],i):n,i};function Gu(e){e&&e.style("opacity",0)}function $u(e,t){let n=e.mainValues.length>1?(0,qi.seriesSvgGrouped)((0,qi.seriesSvgBar)()):(0,qi.seriesSvgBar)();return n=n.decorate((n=>{Zu().settings(e)(n),n.style("fill",(e=>t(e.key)))})),(0,qi.autoBandwidth)(Xu(n)).crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue?e.mainValue:0)).baseValue((e=>e.baseValue))}var Xu=e=>{let t=t=>e(t);return(0,qi.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Ku(e){return e.split("|").slice(0,-1).join("|")}function Qu(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter((e=>"__ROW_PATH__"!==e));return td().settings(e).domain(n)()}function Ju(e,t){let n=Array.from(new Set(t));return td().settings(e).domain(n)()}function ed(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=Ku(e);n.includes(t)||n.push(t)}})),td().settings(e).domain(n)()}function td(){let e=null,t=null,n={},r=e=>rd(e,n.colorStyles&&n.colorStyles.opacity),i=()=>{let i=n.colorStyles,o=t||[i.series];return o||e.length>1?Uo((e.length>1?i.scheme:o).map(r)).domain(e):null};return i.domain=(...t)=>t.length?(e=t[0],i):e,i.defaultColors=(...e)=>e.length?(t=e[0],i):t,i.mapFunction=(...e)=>e.length?(r=e[0],i):r,i.settings=(...e)=>e.length?(n=e[0],i):n,i}function nd(e){return id(1)(e)}function rd(e,t=.5){return id(t)(e)}function id(e){return t=>{let n=(0,Gi.ZP)(t);return n.opacity=e,n+""}}var od={none:ou,ordinal:Tu,time:bu,linear:fu},ad=e=>{let t=Jl(e),n="__ROW_PATH__",r=(e,r)=>od[t()](n)(e,r);return(0,qi.rebindAll)(r,t),r.valueName=(...e)=>e.length?(n=e[0],r):n,r};function sd(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let i=t||e.data;return e.splitValues.length>0?function(e,t,{stack:n=!1,excludeEmpty:r=!1}){let i={};return t.forEach((e=>{let t={},o={};Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).filter((t=>!r||null!=e[t]&&null!=e[t])).forEach((r=>{let i=r.split("|"),a=i[i.length-1],s=e[r]||0,c=`${a}${s>=0?"+ve":"-ve"}`,l=i.slice(0,i.length-1).join("|"),u=o[l]=o[l]||{__ROW_PATH__:e.__ROW_PATH__},d=t[c]||0;u.__KEY__=l,n?(u[a]=d+s,u[`__BASE_VALUE__${a}`]=d,t[c]=u[a]):u[a]=s,u.row=e})),Object.keys(o).forEach((e=>{(i[e]=i[e]||[]).push(o[e])}))})),Object.keys(i).map((e=>{let t=i[e];return t.key=e,t}))}(0,i,{stack:n,excludeEmpty:r}):[i]}function cd(e,t){let n={stack:!0};return sd(e,t,n).map((t=>ld(e,t,n)))}function ld(e,t,{stack:n=!1}){let r=function(e,t,{stack:n=!1}){let r=ad(e);return e=>{let i=t=>n&&t[`__BASE_VALUE__${e.name}`]||0,o=t.map(((t,n)=>({crossValue:r(t,n),mainValue:t[e.name]?t[e.name]:null,baseValue:i(t),key:t.__KEY__?`${t.__KEY__}|${e.name}`:e.name,row:t.row||t})));return o.key=o[0].key,o}}(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var ud=10;function dd(e,t,n){let r=(0,Ys.select)(Mu(e).getContainer()).node().getBoundingClientRect(),i=e.getBoundingClientRect(),o={top:i.top+n-ud,right:i.right+t+ud,bottom:i.bottom+n+ud,left:i.left+t-ud},a={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((e=>{if(Ou(r,o,e.edge)){let t=o[e.edge]-r[e.edge];a[e.dimension]=a[e.dimension]-t}})),a}var fd="resize.for-dragging";var hd="horizontal-drag-handle",pd="vertical-drag-handle",gd="dragHandles",md="resize",bd=(e,t)=>{let n,r,i=e||Ol(),o=[],a=1,s=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,c=()=>{},l=function(){let e=!0,t=null,n=n=>{let r=n.node();r.style.cursor="move",t.legend&&(r.style.left=t.legend.left,r.style.top=t.legend.top);let i=ao().on("drag",(function(n){let i=dd(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+i.x}px`,this.style.top=`${this.offsetTop+i.y}px`;let o={left:this.style.left,top:this.style.top};t.legend={...t.legend,...o},e=function(e){let t=e.getBoundingClientRect(),n=(0,Ys.select)(Su(e)).node().getBoundingClientRect();return t.right+ud+5>=n.right&&t.top-ud-5<=n.top}(r)?function(e){return(0,Ys.select)(window).on(fd,null),e.style.left="auto",!0}(r):function(e,t){return!1!==t&&(0,Ys.select)(window).on(fd,(function(){let t=dd(e,0,0);e.style.left=`${e.offsetLeft+t.x}px`,e.style.top=`${e.offsetTop+t.y}px`})),!1}(r,e)}));n.call(i)};return n.settings=(...e)=>e.length?(t=e[0],n):t,n}().settings(t),u=e=>{o=i.scale().domain(),r=function(){let e=9,t=3,n=null,r={height:100,width:100},i={height:null,width:null},o=[],a=(e,t)=>o.filter((t=>t.event===e)).forEach((e=>e.execute(t))),s=r=>{if((e=>e.select(`#${gd}`).size()>0)(r))return;let o={left:e=>a(md,{horizontal:C(e),vertical:!1}),top:e=>a(md,{horizontal:!1,vertical:T(e)}),right:e=>a(md,{horizontal:A(e),vertical:!1}),bottom:e=>a(md,{horizontal:!1,vertical:E(e)}),topleft:e=>a(md,{horizontal:C(e),vertical:T(e)}),topright:e=>a(md,{horizontal:A(e),vertical:T(e)}),bottomright:e=>a(md,{horizontal:A(e),vertical:E(e)}),bottomleft:e=>a(md,{horizontal:C(e),vertical:E(e)})},s=r.node();n.legend&&(s.style.height=n.legend.height,s.style.width=n.legend.width);let u=s.getBoundingClientRect(),d=r.append("svg").attr("id",gd).attr("width",u.width).attr("height",u.height),f=d.append("g"),h=e=>"left"===e||"right"===e,p={left:0,top:e,right:u.width-e,bottom:e},g={left:e,top:0,right:e,bottom:u.height-e},[m,b,v,_]=["left","top","right","bottom"].map((n=>f.append("rect").attr("id",`drag${n}`).attr("class",h(n)?pd:hd).attr("y",g[n]).attr("x",p[n]).attr("height",h(n)?u.height-2*e:e).attr("width",h(n)?e:u.width-2*e).attr("fill",h(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",t).attr("cursor",h(n)?"ew-resize":"ns-resize").call(ao().on("drag",o[n])))),y=e=>`${e[0]}${e[1]}`,w={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[x,k,M,S]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>f.append("rect").attr("id",`drag${y(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",0).style("z-index",t).attr("cursor",`${w[y(n)]}-resize`).call(ao().on("drag",o[y(n)]))));function C(e){let t=l(dd(m.node(),e.x,0).x,d,"width",((e,t)=>e-t));return s.style.left=`${s.offsetLeft+t}px`,s.style.width=s.offsetWidth-t+"px",z(),P(v,t,"width","x")}function A(e){let t=-l(dd(v.node(),e.dx,0).x,d,"width",((e,t)=>e+t));return!c(t,"x",v,e)&&(s.style.width=s.offsetWidth-t+"px",z(),P(v,t,"width","x"))}function T(e){let t=l(dd(b.node(),0,e.y).y,d,"height",((e,t)=>e-t));return s.style.top=`${s.offsetTop+t}px`,s.style.height=s.offsetHeight-t+"px",z(),P(_,t,"height","y")}function E(e){let t=-l(dd(_.node(),0,e.dy).y,d,"height",((e,t)=>e+t));return!c(t,"y",_,e)&&(s.style.height=s.offsetHeight-t+"px",z(),P(_,t,"height","y"))}function z(){let e={top:s.style.top,left:s.style.left,height:s.style.height,width:s.style.width};n.legend={...n.legend,...e}}function P(e,t,n,r){return((e,t,n)=>{e.attr(t,e.node().getBoundingClientRect()[t]-n)})(d,n,t),((e,t,n)=>{e.attr(t,Number(e.attr(t))-n)})(e,r,t),((e,t,n,r)=>{e.selectAll(`.${r}`).each(((e,r,i)=>{let o=i[r];(0,Ys.select)(o).attr(n,o.getBoundingClientRect()[n]-t)}))})(d,t,n,"height"===n?pd:hd),I(d),0!=t}function I(t){x.attr("y",0,"x",0),k.attr("y",0).attr("x",t.attr("width")-e),M.attr("y",t.attr("height")-e).attr("x",t.attr("width")-e),S.attr("y",t.attr("height")-e).attr("x",0)}function D(e,t,n){i[e]&&i[e]<u[e]&&(s.style[e]=`${i[e]}px`,P(n,u[e]-i[e],e,t))}D("height","y",_),D("width","x",v),I(d)};function c(e,t,n,r){return((e,t,n,r)=>e<0&&r[t]<Number(n.attr(t)))(e,t,n,r)||((e,t,n,r)=>e>0&&r[t]>Number(n.attr(t)))(e,t,n,r)}function l(e,t,n,o){let a=o(Number(t.attr(n)),e);return a<r[n]?o(e,r[n]-a):i[n]&&a>i[n]?o(e,i[n]-a):e}return s.on=(e,t)=>(o.push({event:e,execute:t}),s),s.zIndex=e=>(t=e,s),s.settings=(...e)=>e.length?(n=e[0],s):n,s.minWidth=e=>(r.width=e,i.width&&(i.width=Math.max(r.width,i.width)),s),s.minHeight=e=>(r.height=e,i.height&&(i.height=Math.max(r.height,i.height)),s),s.handleWidth=t=>(e=t,s),s.maxWidth=e=>(i.width=e,r.width=Math.min(r.width,i.width),s),s.maxHeight=e=>(i.height=e,r.height=Math.min(r.height,i.height),s),s}().settings(t).maxHeight(16*o.length+20).on("resize",(()=>d(e))),r(e),l(e),d(e)},d=e=>{m(e),f(e),h(e),function(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Ou(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text(((e,t,i)=>{let o=i[t];if(Ou(n,o.getBoundingClientRect())){let t=function(e,t,n){let r=e.getBoundingClientRect(),i=t.node().createSVGPoint();return i.x=n.right-r.left-3,i.y=0,e.getCharNumAtPosition(i)}(o,r,n);return`${e.substring(0,t-3)}...`}return e}))}(e)},f=e=>{let t=v(e);t.style("display",a<=1?"none":"block"),t.select("#page-text").text(`${s+1}/${a}`),t.select("#up-arrow").attr("class",0===s?"disabled":"").on("click",(()=>{s>0&&(p(s-1),d(e))})),t.select("#down-arrow").attr("class",s>=a-1?"disabled":"").on("click",(()=>{s<a-1&&(p(s+1),d(e))}))},h=e=>{a>1&&i.cellFilter(g()),e.select("g.legendCells").remove();let t=_(e);t.call(i);let n=e.select("g.legendCells").node().getBBox();t.attr("height",n.height+20),c(e)},p=e=>{s=e,t.legend={...t.legend,pageIndex:s}},g=()=>(e,t)=>t>=n*s&&t<n*s+n,m=e=>{let t=e.node().getBoundingClientRect(),r=Math.floor(t.height/16)-1;n=r<o.length?r-1:r,a=b(r),s=Math.min(s,a-1)},b=e=>Math.ceil(o.length/e),v=e=>Nu(e,".legend-controls",(()=>e.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),_=e=>Nu(e,".legend",(()=>e.append("svg").attr("class","legend")));return u.decorate=(...e)=>e.length?(c=e[0],u):c,(0,qi.rebindAll)(u,i),u},vd=e=>bd(Ol().shape("circle").shapeRadius(6),e),_d=e=>bd(function(){var e=(0,Cl.scaleLinear)(),t="path",n=5,r=[5],i=void 0,o=[],a="",s="",c=Nl.d3_defaultLocale,l=Nl.d3_defaultFormatSpecifier,u="middle",d=10,f=Nl.d3_defaultDelimiter,h=void 0,p="vertical",g=!1,m=void 0,b=Ml("cellover","cellout","cellclick");function v(v){var _=Nl.d3_calcType(e,g,r,o,c.format(l),f),y=v.selectAll("g").data([e]);i&&Nl.d3_filterCells(_,i),y.enter().append("g").attr("class",a+"legendCells");var w=v.select("."+a+"legendCells").selectAll("."+a+"cell").data(_.data),x=w.enter().append("g").attr("class",a+"cell");x.append(t).attr("class",a+"swatch");var k=v.selectAll("g."+a+"cell path."+a+"swatch");Nl.d3_addEvents(x,b),w.exit().transition().style("opacity",0).remove(),k.exit().transition().style("opacity",0).remove(),k=k.merge(k),Nl.d3_drawShapes(t,k,15,15,10,_.feature);var M=Nl.d3_addText(v,x,_.labels,a,h);w=x.merge(w);var S,C=M.nodes().map((function(e){return e.getBBox()})),A=k.nodes().map((function(e){return e.getBBox()})),T=El(A,(function(e){return e.height})),E=El(A,(function(e){return e.width})),z=void 0,P=void 0,I="start"==u?0:"middle"==u?.5:1;"vertical"===p?(S=C.map((function(e,t){return Math.max(T,e.height)})),z=function(e,t){return"translate(0, "+(zl(S.slice(0,t))+t*n)+" )"},P=function(e,t){return"translate( "+(E+d)+",\n              "+(A[t].y+A[t].height/2+5)+")"}):"horizontal"===p&&(z=function(e,t){return"translate( "+t*(E+n)+",0)"},P=function(e,t){return"translate( "+(A[t].width*I+A[t].x)+",\n              "+(T+d)+")"}),Nl.d3_placement(p,w,z,M,P,u),Nl.d3_title(v,s,a,m),w.transition().style("opacity",1)}return v.scale=function(t){return arguments.length?(e=t,v):e},v.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(r=e),v):r},v.cellFilter=function(e){return arguments.length?(i=e,v):i},v.shapePadding=function(e){return arguments.length?(n=+e,v):n},v.labels=function(e){return arguments.length?(o=e,v):o},v.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(u=e),v):u},v.locale=function(e){return arguments.length?(c=bl(e),v):c},v.labelFormat=function(e){return arguments.length?(l=ul(e),v):v.locale().format(l)},v.labelOffset=function(e){return arguments.length?(d=+e,v):d},v.labelDelimiter=function(e){return arguments.length?(f=e,v):f},v.labelWrap=function(e){return arguments.length?(h=e,v):h},v.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(p=e),v):p},v.ascending=function(e){return arguments.length?(g=!!e,v):g},v.classPrefix=function(e){return arguments.length?(a=e,v):a},v.title=function(e){return arguments.length?(s=e,v):s},v.titleWidth=function(e){return arguments.length?(m=e,v):m},v.on=function(){var e=b.on.apply(b,arguments);return e===b?v:e},v}().shapePadding(1).labelOffset(3),e),yd=()=>kd(vd),wd=()=>kd(_d,xd);function xd(e){if(!e)return null;let t=e.domain(),n=e.range().map((e=>(0,qs.symbol)().type(e)()));return Uo().domain(t).range(n)}function kd(e,t){let n={},r=null,i=null;function o(t){if(r&&r.range().length>1){let o=e(n);o.scale(r).orient("vertical").on("cellclick",(function(e){let t=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(t)?n.hideKeys=n.hideKeys.filter((e=>e!==t)):n.hideKeys.push(t),Mu(this)._draw()})),o.labels((e=>{let t=e.domain[e.i].split("|");return n.mainValues.length<=1&&t.length>1?t.slice(0,t.length-1).join("|"):e.domain[e.i]}));let a=Nu(t,"div.legend-container",(()=>t.append("div")));o.decorate((e=>{let t=e=>n.hideKeys&&n.hideKeys.includes(e),r=e.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",t),r.append("title").html((e=>e)),i&&r.select("circle, path").style("fill",(e=>t(e)?null:i(e))).style("stroke",(e=>t(e)?null:nd(i(e))))})),a.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(o)}}return o.settings=(...e)=>e.length?(n=e[0],o):n,o.scale=(...e)=>e.length?(r=t?t(e[0]):e[0],o):r,o.color=(...e)=>e.length?(i=e[0],o):i,o}function Md(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={...t};return e.hideKeys.forEach((e=>{delete n[e]})),n})):n}function Sd(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={};return Object.keys(t).map((r=>{e.hideKeys.includes(Ku(r))||(n[r]=t[r])})),n})):n}var Cd=e=>e.style("display","none"),Ad=(e,t)=>{let n="both",r=!1,i=null,o=null,a=null,s=(0,qi.seriesSvgMulti)(),c=(0,qi.annotationSvgGridline)(),l=(e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"))(t),u=Cd,d=function(...d){r&&(s=(0,qi.seriesCanvasMulti)().context(a),c=(0,qi.annotationCanvasGridline)(),l=(e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1})(t),u=(e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"})(t));let f=s.xScale(i).yScale(o),h="vertical"===n?u:l,p="horizontal"===n?u:l,g=c.xDecorate(h).yDecorate(p);return f.series([g,e])(...d)};return d.orient=(...e)=>e.length?(n=e[0],d):n,d.canvas=(...e)=>e.length?(r=e[0],d):r,d.xScale=(...e)=>e.length?(i=e[0],d):i,d.yScale=(...e)=>e.length?(o=e[0],d):o,d.context=(...e)=>e.length?(a=e[0],d):a,d},Td=()=>{let e=su(),t=t=>{let n=e.pad(),r=e.padUnit(),i=1;switch(r){case"domain":break;case"percent":i=t[1]-t[0];break;default:throw new Error("Unknown padUnit: "+r)}let o=t[0]-n[0]*i,a=t[1]+n[1]*i;return t[0]=t[0]>=0&&o<0?0:o,t[1]=t[1]<=0&&a>0?0:a,t};return(0,qi.rebindAll)(t,e),t},Ed=()=>{let e=null,t=null,n=null,r=null,i=null,o=null,a=!1,s=!1,c=()=>{};function l(c){let l=`d3fc-${s?"canvas":"svg"}.plot-area`;if(n||i){let s=r&&r.domain()[0]instanceof Date,f=(0,Zs.zoom)().on("zoom",(a=>{let{transform:h}=a;t.zoom={k:h.k,x:h.x,y:h.y},u(h),c.call(e);let p=1===h.k&&0===h.x&&0===h.y,g=d(c).style("display",p?"none":"");g.select("#zoom-reset").on("click",(()=>c.select(l).call(f.transform,Zs.zoomIdentity)));let m=g.select("#one-year").style("display",s?"":"none"),b=g.select("#six-months").style("display",s?"":"none"),v=g.select("#one-month").style("display",s?"":"none");if(s){let e=e=>()=>{let t=new Date(n.domain()[0]),a=new Date(t);e(t,a);let s=r.range(),u=(s[1]-s[0])/(r(a)-r(t)),d=-r(t)*u,h=0;if(i){let e=i.domain().reduce(((e,t)=>e+t))/2;h=-o(e)*u+i(e)}c.select(l).call(f.transform,Zs.zoomIdentity.translate(d,h).scale(u))};m.on("click",e(((e,t)=>t.setYear(e.getFullYear()+1)))),b.on("click",e(((e,t)=>t.setMonth(e.getMonth()+6)))),v.on("click",e(((e,t)=>t.setMonth(e.getMonth()+1))))}})),h=e.decorate();e.decorate(((e,n)=>{if(h(e,n),!a){a=!0;let n=e.select(l);n.on("measure.zoom-range",(e=>{if(r&&r.range([0,e.detail.width]),o&&o.range([0,e.detail.height]),t.zoom){let e=Zs.zoomIdentity.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);n.call(f.transform,e)}})).call(f)}}))}c.call(e)}l.chart=(...t)=>t.length?(e=t[0],l):e,l.settings=(...e)=>e.length?(t=e[0],l):t,l.xScale=(...e)=>e.length?(n=f(e[0]),r=n?n.copy():null,l):n,l.yScale=(...e)=>{if(!e.length)return i;if(i=f(e[0]),o=i?i.copy():null,o){let e=o.domain();o.domain([e[1],e[0]])}return l},l.canvas=(...e)=>e.length?(s=e[0],l):s,l.onChange=(...e)=>e.length?(c=e[0],l):c;let u=e=>{let t={...e};if(n&&(n.domain(e.rescaleX(r).domain()),t.xDomain=n.domain()),i){let n=e.rescaleY(o).domain();i.domain([n[1],n[0]]),t.yDomain=i.domain()}c(t)},d=e=>Nu(e,".zoom-controls",(()=>e.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),f=e=>e&&e.nice?e:null;return l};function zd(e,t){let n=cd(t,Md(t)),r=Qu(t),i=yd().settings(t).scale(r),o=$u(t,r).orient("horizontal"),a=(0,qi.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((()=>o))),s=Pu(t).settingName("mainValues").valueName("mainValue").excludeType(Xl).include([0]).paddingStrategy(Td())(n),c=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue").orient("vertical")(n),l=Iu(s,c).plotArea(Ad(a,t).orient("horizontal"));l.yPaddingInner&&(l.yPaddingInner(.5),l.yPaddingOuter(.25),o.align("left")),l.xNice&&l.xNice();let u=Ed().chart(l).settings(t).yScale(c.scale);e.datum(n).call(u),e.call(i)}zd.plugin={name:"X Bar",max_cells:1e3,max_columns:50,render_warning:!0};var Pd=zd,Id=e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],Dd=e=>(0-e[0])/(e[1]-e[0]),Ld=(e,t)=>t*e[1]/(t-1),Nd=(e,t,n=Od)=>{let r,i,o,a=e.splitMainValues||[],s=e=>{let t=e.split("|");return a.includes(t[t.length-1])},c=e.mainValues.some((e=>s(e.name)));i=c?n(t,(e=>!s(e))):t,o=c?n(t,s):null;let l=t=>{if(1===e.mainValues.length)return;let n=e.mainValues.map(((e,t)=>({index:t,name:e.name}))),i=n.filter((e=>!s(e.name))),o=n.filter((e=>s(e.name))),a=()=>(e=>{let t,n=[],r=!1,i=i=>{i.text("");let a=(0,qi.dataJoin)("span","splitter-label").key((e=>e)),s=!r&&1===n.length,c=t&&0===e.splitValues.length;a(i,n).classed("disabled",s).text((e=>e.name)).style("color",(e=>c?nd(t(e.name)):void 0)).on("click",((t,n)=>{s||(e.splitMainValues=r?e.splitMainValues.filter((e=>e!=n.name)):[n.name].concat(e.splitMainValues||[]),o(i))}))},o=e=>{let t=Mu(e.node());t._container.innerHTML="",t._draw()};return i.labels=(...e)=>e.length?(n=e[0],i):n,i.alt=(...e)=>e.length?(r=e[0],i):r,i.color=(...e)=>e.length?(t=e[0],i):t,i})(e).color(r);t.select(".y-label.left-label").call(a().labels(i)),t.select(".y-label.right-label").call(a().labels(o).alt(!0))};return l.color=(...e)=>e.length?(r=e[0],l):r,l.haveSplit=()=>c,l.data=(...e)=>e.length?(i=e[0],l):i,l.altData=(...e)=>e.length?(o=e[0],l):o,l},Od=(e,t)=>e.map((e=>e.filter((e=>t(e.key))))),Bd=(e,t)=>e.map((e=>t(e.key)?e:e.map((e=>Object.assign({},e,{mainValue:null}))))),Vd=(e,t)=>e.map((e=>Bd(e,t)));function Rd(e,t){let n=cd(t,Md(t)),r=Qu(t),i=yd().settings(t).scale(r),o=$u(t,r).orient("vertical"),a=(0,qi.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((()=>o))),s=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue")(n),c=Pu(t).settingName("mainValues").valueName("mainValue").excludeType(Xl).orient("vertical").include([0]).paddingStrategy(Td()),l=t.mainValues.length>1?Vd:Bd,u=Nd(t,n,l).color(r),d=c(u.data()),f=u.haveSplit()?a:Ad(a,t).orient("vertical"),h=Iu(s,d).axisSplitter(u).plotArea(f);h.xPaddingInner&&(h.xPaddingInner(.5),h.xPaddingOuter(.25),o.align("left")),h.yNice&&h.yNice();let p=Ed().chart(h).settings(t).xScale(s.scale);if(u.haveSplit()){let e=c(u.altData());((e,t)=>{if(!Id(e)||!Id(t))return;let n=Dd(e),r=Dd(t);n>r?t[0]=Ld(t,n):e[0]=Ld(e,r)})(d.domain,e.domain),h.yDomain(d.domain).altAxis(e)}e.datum(u.data()).call(p),e.call(i)}Rd.plugin={name:"Y Bar",max_cells:1e3,max_columns:50,render_warning:!0};var jd=Rd;function Fd(e,t){let n=(0,qi.seriesSvgLine)();return n=n.decorate((e=>{e.style("stroke",(e=>nd(t(e[0]&&e[0].key))))})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}var Hd=function(e){let t=[];for(let n of e)for(let e=0;e<n.length;e++)null!==n[e].mainValue&&(t[e]=t[e]||[],t[e].push(n[e]));return t},Wd=(e,t,n=Math.min)=>{let r=e=>e.reduce(((e,r)=>{let o=i(r,t);return!o||e&&n(e.value,o.value)!==o.value?e:o}),null),i=e=>{if(Array.isArray(e))return r(e);let n=t(e);return null!==n?{item:e,value:n}:null},o=r(e);return o?o.item:null},Ud=()=>{let e=Zu().alwaysShow(!0),t=null,n=null,r=null,i=null,o=!1,a=null,s="crossValue",c="mainValue",l=null,u=1;function d(r){let i=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||n){let t=null,o=(0,qi.pointer)().on("point",(e=>{let i=e.length?h(e[0]):null;t=i?[i.data]:[];let o=i?i.scale:n;f(r,t,o)}));r.select(i).on("measure.nearbyTip",(()=>f(r,[]))).on("click",(()=>{t.length&&qu(r.node(),t[0],e.settings())})).call(o)}}let f=(o,a,l=n)=>{let d=o.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(a);d.exit().remove(),d.enter().append("circle").attr("class","nearbyTip").merge(d).attr("r",(e=>i?u*Math.sqrt(i(e.size)):10)).attr("transform",(e=>`translate(${t(e[s])},${l(e[c])})`)).style("stroke","none").style("fill",(e=>r&&e.key&&rd(r(e.key)))),e(d)},h=e=>{let r=n=>r=>void 0===r[c]||null===r[c]||void 0===r[s]||null===r[s]?null:Math.sqrt(Math.pow(t(r[s])-e.x,2)+Math.pow(n(r[c])-e.y,2)),i=r(n),o=Wd(a,i,Math.min);if(l){let e=r(l.yScale),t=Wd(l.data,e,Math.min);return i(o)<=e(t)?{data:o,scale:n}:{data:t,scale:l.yScale}}return{data:o,scale:n}};return d.scaleFactor=(...e)=>e.length?(u=e[0],d):u,d.xScale=(...e)=>e.length?(t=e[0],d):t,d.yScale=(...e)=>e.length?(n=e[0],d):n,d.color=(...e)=>e.length?(r=e[0],d):r,d.size=(...e)=>e.length?(i=e[0]?e[0].copy().range([40,4e3]):null,d):i,d.canvas=(...e)=>e.length?(o=e[0],d):o,d.data=(...e)=>e.length?(a=e[0],d):a,d.xValueName=(...e)=>e.length?(s=e[0],d):s,d.yValueName=(...e)=>e.length?(c=e[0],d):c,d.altDataWithScale=(...e)=>e.length?(l=e[0],d):l,(0,qi.rebindAll)(d,e),d};function Yd(e,t){let n=function(e,t){let n=ad(e);return t.map(((e,t)=>Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((r=>({key:r,crossValue:n(e,t),mainValue:e[r],row:e})))))}(t,Md(t)),r=Qu(t),i=yd().settings(t).scale(r),o=(0,qi.seriesSvgRepeat)().series(Fd(0,r)).orient("horizontal"),a=Td().pad([.1,.1]).padUnit("percent"),s=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue")(n),c=Pu(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(a),l=Nd(t,Hd(n)).color(r),u=c(l.data()),d=l.haveSplit()?o:Ad(o,t).orient("vertical"),f=Iu(s,u).axisSplitter(l).plotArea(d);f.yNice&&f.yNice();let h=Ed().chart(f).settings(t).xScale(s.scale),p=Ud().settings(t).xScale(s.scale).yScale(u.scale).color(r).data(n);if(l.haveSplit()){let e=c(l.altData());f.altAxis(e),p.data(l.data()).altDataWithScale({yScale:e.scale,data:l.altData()})}let g=l.data();e.datum(g).call(h),e.call(p),e.call(i)}Yd.plugin={name:"Y Line",max_cells:4e3,max_columns:50,render_warning:!0};var qd=Yd,Zd=[qs.symbolCircle,qs.symbolCross,qs.symbolDiamond,qs.symbolSquare,qs.symbolStar,qs.symbolTriangle,qs.symbolWye];function Gd(e){return e.length>1?Uo().domain(e).range(Zd):null}function $d(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=Ku(e);n.includes(t)||n.push(t)}})),Gd(n)}function Xd(e,t){let n=Hd(function(e,t){let n=e.mainValues.length;return t.map((e=>{let t=Object.keys(e).filter((e=>"__ROW_PATH__"!==e)),r=new Array(t.length/n);for(let i=0;i<t.length/n;i++)r[i]={key:Ku(t[i*n]),crossValue:e[t[i*n]],mainValue:e[t[i*n+1]],row:e};return r}))}(t,Sd(t))),r=ed(t),i=$d(t),o=null;r.domain().length>2&&(o=kd(vd,xd).settings(t).scale(i).color(r));let a=(0,qi.seriesSvgRepeat)().series(Fd(0,r)).orient("horizontal"),s=Td().pad([.1,.1]).padUnit("percent"),c=Pu(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").paddingStrategy(s),l=Pu(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(s)(n),u=c(n),d=Ad(a,t).orient("vertical"),f=Iu(u,l).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(d);f.xNice&&f.xNice(),f.yNice&&f.yNice();let h=Ed().chart(f).settings(t).xScale(u.scale).yScale(l.scale),p=Ud().settings(t).xScale(u.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(h),e.call(p),o&&e.call(o)}Xd.plugin={name:"X/Y Line",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis"]},selectMode:"toggle"};var Kd=Xd;function Qd(e,t){let n=function(e,t){let n=ad(e);return t.map(((e,t)=>{let r={};return Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((i=>{let o=i.split("|"),a=o[o.length-1],s=r[a]||0,c=s+e[i];return r[a]=c,{key:i,crossValue:n(e,t),mainValue:c,baseValue:s,row:e}}))}))}(t,Md(t)),r=Qu(t),i=yd().settings(t).scale(r),o=(0,qi.seriesSvgRepeat)().series(function(e,t){let n=(0,qi.seriesSvgArea)();return n=n.decorate((e=>{e.style("fill",(e=>t(e[0].key)))})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue)).baseValue((e=>e.baseValue))}(0,r).orient("vertical")),a=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue")(n),s=Pu(t).settingName("mainValues").valueName("mainValue").excludeType(Xl).orient("vertical").include([0]).paddingStrategy(Td()),c=Nd(t,n).color(r),l=s(c.data()),u=c.haveSplit()?o:Ad(o,t).orient("vertical"),d=Iu(a,l).axisSplitter(c).plotArea(u);d.yNice&&d.yNice();let f=Ed().chart(d).settings(t).xScale(a.scale),h=Ud().settings(t).xScale(a.scale).yScale(l.scale).color(r).data(n);if(c.haveSplit()){let e=s(c.altData());d.altAxis(e),h.data(c.data()).altDataWithScale({yScale:e.scale,data:c.altData()})}e.datum(c.data()).call(f),e.call(h),e.call(i)}Qd.plugin={name:"Y Area",max_cells:4e3,max_columns:50,render_warning:!0};var Jd=Qd;function ef(e,t){let n=function(e,t){let n={stack:!1},r=sd(e,t,n).map((t=>ld(e,t,n)));return e.mainValues.length>1?r.reduce(((e,t)=>e.concat(t))):r}(t,Md(t)),r=function(e){let t=e.data&&e.data.length>0?e.data[0]:{};return Gd(Object.keys(t).filter((e=>"__ROW_PATH__"!==e)))}(t),i=Qu(t),o=wd().settings(t).scale(r).color(i),a=(0,qi.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,r){let i=(0,qi.seriesSvgPoint)().size(100),o=e.colorStyles&&e.colorStyles.opacity;return r&&i.type(r(t)),i.decorate((e=>{e.style("stroke",(e=>nd(n(e.colorValue||t)))).style("fill",(e=>rd(n(e.colorValue||t),o)))})),i.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}(t,e.key,i,r)))),s=Td().pad([.05,.05]).padUnit("percent"),c=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue")(n),l=Pu(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(s),u=Nd(t,n).color(i),d=l(u.data()),f=u.haveSplit()?a:Ad(a,t).orient("vertical"),h=Iu(c,d).axisSplitter(u).plotArea(f);h.yNice&&h.yNice();let p=Ed().chart(h).settings(t).xScale(c.scale),g=Ud().settings(t).xScale(c.scale).yScale(d.scale).color(i).data(n);if(u.haveSplit()){let e=l(u.altData());h.altAxis(e),g.data(u.data()).altDataWithScale({yScale:e.scale,data:u.altData()})}e.datum(u.data()).call(p),e.call(g),o&&e.call(o)}ef.plugin={name:"Y Scatter",max_cells:4e3,max_columns:50,render_warning:!0};var tf=ef;function nf(e,t,n,r){let i=rf(t,n,r),o=e.colorStyles.gradient.full;if(i[0]>=0)o=e.colorStyles.gradient.positive;else if(i[1]<=0)o=e.colorStyles.gradient.negative;else{let e=Math.max(-i[0],i[1]);i=[-e,e]}return Us(of(o)).domain(i)}var rf=(e,t,n)=>n||du().valueName(t).pad([0,0])(e),of=e=>{let t=e.slice(1).map(((t,n)=>(0,Vo.Z)(e[n][1],t[1])));return n=>{let r=e.findIndex(((t,r)=>r<e.length-1&&n<=e[r+1][0]&&n>t[0]));if(-1===r)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let i=t[r],[o]=e[r],[a]=e[r+1];return i((n-o)/(a-o))}};function af(){let e=null;function t(t){let n=Nu(t,"div.legend-container",(()=>t.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:r,height:i}=n.node().getBoundingClientRect(),o=Yo().domain([0,1]).range([0,r]),a=e.copy().nice().domain(),s=(0,qi.extentLinear)().pad([.1,.1]).padUnit("percent")(a),[c,l]=s,u=(0,Zi.range)(c,l,(l-c)/i),d=oa().domain(s).range([i,0]),f=(0,qi.autoBandwidth)((0,qi.seriesSvgBar)()).xScale(o).yScale(d).crossValue(0).baseValue(((e,t)=>u[Math.max(0,t-1)])).mainValue((e=>e)).decorate((t=>{t.selectAll("path").style("fill",(t=>e(t)))})),h=a[0]<0&&a[1]>0?0:Math.round((a[1]+a[0])/2),p=[...a,h],g=(0,qi.axisRight)(d).tickValues(p).tickSizeOuter(0).tickFormat((e=>lu(e))),m=Nu(n,"svg",(()=>n.append("svg"))).style("width",r).style("height",i),b=Nu(m,"g",(()=>m.append("g"))).datum(u).call(f),v=Math.abs(b.node().getBBox().x);Nu(m,"#legend-axis",(()=>m.append("g").attr("id","legend-axis"))).attr("transform",`translate(${v})`).datum(u).call(g).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function sf(e,t){let n=function(e,t){return sd(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=ad(e),r=t.map(((r,i)=>({crossValue:n(r,i),mainValues:e.mainValues.map((e=>r[e.name])),x:r[e.mainValues[0].name],y:r[e.mainValues[1].name],colorValue:e.realValues[2]?r[e.realValues[2]]:void 0,size:e.realValues[3]?r[e.realValues[3]]:void 0,key:t.key,row:r})));return r.key=t.key,r}(e,t)))}(t,Sd(t)),r=$d(t),i=t.realValues.length<=2||null===t.realValues[2],o=null,a=null;i?(o=ed(t),a=wd().settings(t).scale(r).color(i?o:null)):(o=nf(t,n,"colorValue"),a=af().scale(o));let s=t.realValues[3]?function(e,t,n,r){return oa().domain(rf(t,"size",void 0))}(0,n).range([10,1e4]):null,c=function([e,t],[n,r]){let i=(r-t)/(n-e),o=r-i*n;return function(e){let n=e.node(),a=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(t,i*a+o))}}([600,.1],[1600,1])(e),l=(0,qi.seriesCanvasMulti)().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,r,i,o=1){let a=(0,qi.seriesCanvasPoint)().crossValue((e=>e.x)).mainValue((e=>e.y));return n&&a.size((e=>Math.round(o*n(e.size)))),i&&a.type(i(t)),a.decorate(((n,i)=>{let o=r(void 0!==i.colorValue?i.colorValue:t),a=e.colorStyles&&e.colorStyles.opacity;n.strokeStyle=nd(o),n.fillStyle=rd(o,a)})),a}(t,e.key,s,o,r,c)))),u=()=>Pu(t).settingName("mainValues").paddingStrategy(Td()).pad([.1,.1]),d=u().settingValue(t.mainValues[0].name).valueName("x")(n),f=u().orient("vertical").settingValue(t.mainValues[1].name).valueName("y")(n),h=Du(d,f).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(Ad(l,t).canvas(!0));h.xNice&&h.xNice(),h.yNice&&h.yNice();let p=Ed().chart(h).settings(t).xScale(d.scale).yScale(f.scale).canvas(!0),g=Ud().scaleFactor(c).settings(t).canvas(!0).xScale(d.scale).xValueName("x").yValueName("y").yScale(f.scale).color(i&&o).size(s).data(n);e.datum(n).call(p),e.call(g),a&&e.call(a)}sf.plugin={name:"X/Y Scatter",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Tooltip"]},selectMode:"toggle"};var cf=sf;function lf(e,t){let n=function(e,t){let n=ad(e),r=Jl(e).excludeType(Ql).settingName("splitValues")(),i=[];return t.forEach(((e,t)=>{let o=n(e,t);Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).forEach((t=>{let n=function(e){let t=e.split("|");return t.pop(),t.join("|")}(t);i.push({crossValue:o,mainValue:r===Kl?new Date(n):n,colorValue:e[t],row:e})}))})),i}(t,Md(t)),r=nf(t,n,"colorValue"),i=function(e,t){let n=(0,qi.seriesCanvasHeatmap)();return n.decorate(((e,n)=>{e.fillStyle=t(n.colorValue)})),(0,qi.autoBandwidth)(n).xValue((e=>e.crossValue)).yValue((e=>e.mainValue)).colorValue((e=>e.colorValue)).colorInterpolate(t.interpolator()).widthFraction(1)}(0,r),o=af().scale(r),a=Pu(t).excludeType(Ql).settingName("crossValues").valueName("crossValue")(n),s=Pu(t).excludeType(Ql).settingName("splitValues").valueName("mainValue").orient("vertical")(n),c=Du(a,s).plotArea(Ad(i,t).canvas(!0));c.xPaddingInner&&(c.xPaddingInner(0),c.xPaddingOuter(0),i.xAlign("right")),c.yPaddingInner&&(c.yPaddingInner(0),c.yPaddingOuter(0),i.yAlign("top"));let l=Ed().chart(c).settings(t).xScale(a.scale).yScale(s.scale).canvas(!0),u=Ud().settings(t).canvas(!0).xScale(a.scale).yScale(s.scale).color(r).data(n);e.datum(n).call(l),e.call(o),e.call(u)}lf.plugin={name:"Heatmap",max_cells:5e4,max_columns:500,render_warning:!0};var uf=lf;function df(e,t){return sd(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=ad(e),r=t.map(((r,i)=>{let o=e.mainValues.length>=1?r[e.mainValues[0].name]:void 0,a=e.mainValues.length>=2?r[e.mainValues[1].name]:(n=>t[n<t.length-1?n+1:n][e.mainValues[0].name])(i);return{crossValue:n(r,i),mainValues:e.mainValues.map((e=>r[e.name])),openValue:o,closeValue:a,highValue:e.mainValues.length>=3?r[e.mainValues[2].name]:Math.max(o,a),lowValue:e.mainValues.length>=4?r[e.mainValues[3].name]:Math.min(o,a),key:t.key,row:r}}));return r.key=t.key,r}(e,t)))}var ff=function(e){return function(t,n){let r=df(n,Sd(n)),i=(0,qi.indicatorBollingerBands)().value((e=>e.openValue)),o=r.map((e=>{let t=i(e);return e.map(((e,n)=>Object.assign({bollinger:t[n]},e)))})),a=r.map((e=>e.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),s=td().domain(a).settings(n).mapFunction(id(1))(),c=yd().settings(n).scale(a.length>1?s:null),l=function(e,t,n){let r=n.domain(),i=td().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(id(.5))(),o=td().settings(e).domain(r)(),a=t().crossValue((e=>e.crossValue)).openValue((e=>e.openValue)).highValue((e=>e.highValue)).lowValue((e=>e.lowValue)).closeValue((e=>e.closeValue)).decorate(((e,t)=>{let r=(e=>e.closeValue>=e.openValue)(t)?n(t.key):i(t.key);e.fillStyle=r,e.strokeStyle=r})),s=(0,qi.seriesCanvasLine)().mainValue((e=>e.bollinger.average)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.strokeStyle=o(t[0].key)})),c=(0,qi.seriesCanvasArea)().mainValue((e=>e.bollinger.upper)).baseValue((e=>e.bollinger.lower)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.fillStyle=id(.25)(o(t[0].key))}));return(0,qi.seriesCanvasMulti)().series([c,a,s])}(n,e,s),u=(0,qi.seriesCanvasMulti)().mapping(((e,t)=>e[t])).series(o.map((()=>l))),d=Td().pad([.1,.1]).padUnit("percent"),f=Pu(n).settingName("crossValues").valueName("crossValue")(o),h=Pu(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(d)(o),p=Du(f,h).plotArea(Ad(u,n).orient("vertical").canvas(!0));p.yNice&&p.yNice();let g=Ed().chart(p).settings(n).xScale(f.scale).onChange((e=>{let t=o.map((t=>t.filter((t=>t.crossValue>=e.xDomain[0]&&t.crossValue<=e.xDomain[1]))));p.yDomain(h.domainFunction(t))})).canvas(!0),m=Ud().settings(n).xScale(f.scale).yScale(h.scale).yValueName("closeValue").color(s).data(o).canvas(!0);t.datum(o).call(g),t.call(m),t.call(c)}},hf=ff(qi.seriesCanvasOhlc);hf.plugin={name:"OHLC",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var pf=hf,gf=ff(qi.seriesCanvasCandlestick);gf.plugin={name:"Candlestick",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var mf=gf;function bf(e,t){if(e.realValues.length>1&&null!==e.realValues[1]){let n=e.realValues[1];return"string"===e.mainValues.find((e=>e.name===n))?.type?Ju(e,t.map((e=>e.data)).filter((e=>e.height>0)).map((e=>vf(e))).reduce(((e,t)=>e.concat(t)))):nf(e,null,null,(e=>{let t=e=>(t,n)=>void 0===t?n:void 0===n?t:e(t,n);return e.reduce(((e,n)=>[t(Math.min)(e[0],n[0]),t(Math.max)(e[1],n[1])]),[void 0,void 0])})(t.map((e=>e.extents))))}}function vf(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat(vf(e,t)))):e.data.color&&t.push(e.data.color),t}function _f(e){let t={},n=e.realValues.map((t=>null===t?null:e.mainValues.find((e=>e.name===t))));return e.data.forEach(((r,i)=>{let o=r.__ROW_PATH__;(function(e){let t=[];return Object.keys(e).forEach((e=>{if("__ROW_PATH__"!==e){let n=e.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}})),t})(r).forEach((a=>{let s;t[a]||(t[a]=[]),s=t[a],o.forEach(((t,c)=>{let l=s.find((e=>e.name===t));if(l||(l={name:t,children:[]},s.push(l)),e.realValues.length>1&&null!==e.realValues[1]){let t=c===o.length-1,n=yf(t?r:e.agg_paths[i][c+1]||r,e.mainValues[1],a);void 0!==n&&(l.color=n)}if(e.realValues.length>2&&null!==e.realValues[2]){l.tooltip=[];for(let t=2;t<e.realValues.length;++t)l.tooltip.push(yf(r,n[t],a))}if(c===o.length-1&&(l.name=o.slice(-1)[0],o.length===e.crossValues.length)){let t=yf(r,e.mainValues[0],a);l.size=t>0?t:0}s=l.children}))}))})),Object.entries(t).map((t=>{let n=Mo({name:"root",children:t[1]}).sum((e=>e.size)),r=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&Po(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(zo),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}().size([2*Math.PI,n.height+1])(n);return r.each((n=>{n.current=n,n.mainValues=1===e.realValues.length||null===e.realValues[1]&&null===e.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((e=>void 0!==e)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((e=>e.data.name)),n.key=t[0],n.label=Ru(e.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:t[0],data:r,extents:wf(e,t)}}))}var yf=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function wf(e,[t,n]){if(e.realValues.length>1&&null!==e.realValues[1])return[Math.min(...e.data.map((n=>yf(n,e.mainValues[1],t)))),Math.max(...n.map((e=>e.color)))]}var xf=e=>(0,qs.arc)().startAngle((e=>e.x0)).endAngle((e=>e.x1)).padAngle((e=>Math.min((e.x1-e.x0)/2,.005))).padRadius(e).innerRadius((t=>Math.max(1,(t.y0-1)*e))).outerRadius((t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1))),kf=e=>e.y0>=1&&e.x1>e.x0,Mf=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Sf(e,t){let n=(e.x0+e.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(e.y0-1+(e.y1-1))/2*t},0) rotate(${n<180?0:180})`}function Cf(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,i=(0,Ys.select)(this);for(;n>t;)r=r.substring(0,r.length-1),i.text((()=>r)),n=this.getBBox().width;i.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var Af=(e,t,n,r,i,o,a,s,c)=>(l,u)=>{c.sunburstLevel[s]=l.data.name,l.parent?(n.datum(l.parent),n.style("cursor","pointer"),r.html(`&#8682; ${l.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each((e=>e.target={x0:2*Math.max(0,Math.min(1,(e.x0-l.x0)/(l.x1-l.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(e.x1-l.x0)/(l.x1-l.x0)))*Math.PI,y0:Math.max(0,e.y0-l.depth),y1:Math.max(0,e.y1-l.depth)}));let d=t.transition().duration(u?0:750);i.transition(d).tween("data",(e=>{let t=(0,Vo.Z)(e.current,e.target);return n=>e.current=t(n)})).filter((function(e){return+this.getAttribute("fill-opacity")||kf(e.target)})).attr("fill-opacity",(e=>kf(e.target)?1:0)).attr("user-select",(e=>kf(e.target)?"initial":"none")).style("pointer-events",(e=>kf(e.target)?"initial":"none")).attrTween("d",(e=>()=>xf(a)(e.current))),o.filter((function(e){return+this.getAttribute("fill-opacity")||Mf(e.target)})).transition(d).attr("fill-opacity",(e=>+Mf(e.target))).attrTween("transform",(e=>()=>Sf(e.current,a)))};function Tf(){let e=null,t=null,n=null,r=null,i=null,o=o=>{let a=o.selectAll("g.segment").data(n.descendants().slice(1)),s=a.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let c=s.merge(a),l=c.select("path").attr("fill-opacity",(e=>kf(e.current)?1:0)).attr("user-select",(e=>kf(e.current)?"initial":"none")).style("pointer-events",(e=>kf(e.current)?"initial":"none")).attr("d",(e=>xf(i)(e.current)));r&&l.style("fill",(e=>r(e.data.color)));let u=c.select("text").attr("fill-opacity",(e=>+Mf(e.current))).attr("transform",(e=>Sf(e.current,i))).text((e=>e.label)).each((function(e){Cf.call(this,e,i)})),d=o.select("text.parent"),f=o.select("circle").attr("r",i).datum(n),h=Af(n,o,f,d,l,u,i,t,e);if(e.sunburstLevel){let r=n.descendants().find((n=>n.data.name===e.sunburstLevel[t]));r&&h(r,!0)}else e.sunburstLevel={};f.on("click",(e=>h(e,!1))),l.filter((e=>e.children)).style("cursor","pointer").on("click",(e=>h(e,!1)))};return o.settings=(...t)=>t.length?(e=t[0],o):e,o.split=(...e)=>e.length?(t=e[0],o):t,o.data=(...e)=>e.length?(n=e[0],o):n,o.color=(...e)=>e.length?(r=e[0],o):r,o.radius=(...e)=>e.length?(i=e[0],o):i,o}function Ef(){let e="element-prefix-unset",t=null,n=null,r=null,i=null,o=null,a=a=>{let s=Nu(a,"div.inner-container",(()=>a.append("div").attr("class","inner-container"))),c=s.node().getBoundingClientRect(),l=c.height,u=c.width-0,d=a.datum(),f=Math.max(1,Math.min(d.length,Math.floor(u/300))),h=Math.ceil(d.length/f);o={width:u/Math.max(f,1),height:Math.min(l,Math.max(l/h,u/Math.max(f,1)))},l/h>.75*o.height&&(o.height=l/h),d.length>1?(s.style("grid-template-columns",`repeat(${f}, ${100/f}%)`),s.style("grid-template-rows",`repeat(${h}, ${o.height}px)`)):(s.style("grid-template-columns","repeat(1, 100%)"),s.style("grid-template-rows","repeat(1, 100%)")),r=s.selectAll(`div.${e}-container`).data(d,(e=>e.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),i=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),t=n.append("svg").append("g").attr("class",e)};return a.elementsPrefix=(...t)=>t.length?(e=t[0],a):e,a.chartContainer=()=>t,a.chartEnter=()=>n,a.chartDiv=()=>r,a.chartTitle=()=>i,a.containerSize=()=>o,a}function zf(e,t){if(0===t.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");let n=_f(t),r=bf(t,n),i=Ef().elementsPrefix("sunburst");if(e.datum(n).call(i),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=yd().settings(t).scale(r);e.call(n)}else{let t=af().scale(r);e.call(t)}}let o=i.chartContainer(),a=i.chartEnter(),s=i.chartDiv(),c=i.chartTitle(),l=i.containerSize();c.each(((e,t,n)=>(0,Ys.select)(n[t]).text(e.split))),o.append("circle").attr("fill","none").style("pointer-events","all"),o.append("text").attr("class","parent"),a.merge(s).select("svg").select("g.sunburst").attr("transform",`translate(${l.width/2}, ${l.height/2})`).each((function({split:e,data:n}){let i=(0,Ys.select)(this),o=this.parentNode,{width:a,height:s}=o.getBoundingClientRect(),c=(Math.min(a,s)-24)/(2*t.crossValues.length);Tf().settings(t).split(e).data(n).color(r).radius(c)(i),Zu().settings(t)(i.selectAll("g.segment"))}))}zf.plugin={name:"Sunburst",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Pf=zf;function If(e,t){if(e.realValues.length<1||null===e.realValues[1]||void 0===e.realValues[1])return;let n=e.realValues[1],r=t.filter((e=>e.height>0)).map((e=>Df(e))).reduce(((e,t)=>e.concat(t)));return"string"===e.mainValues.find((e=>e.name===n))?.type?Ju(e,r):nf(e,null,null,[Math.min(...r),Math.max(...r)])}function Df(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat(Df(e,t)))):e.data.color&&t.push(e.data.color),t}var Lf=e=>!(!e.target||!e.target.textAttributes),Nf=(e,t,n)=>{e.selectAll("text").style("font-size",null).attr("class",(e=>Uf(e,t,n)));let r=Vf(e);jf(r),Of(r)},Of=e=>{let t=e=>e.getBoundingClientRect(),n=[];e.selectAll("text").filter(((e,t,n)=>(0,Ys.select)(n[t]).attr("class")===Yf.high)).each(((e,t,r)=>n.push(r[t]))),e.selectAll("text").filter(((e,t,n)=>(0,Ys.select)(n[t]).attr("class")===Yf.low)).each(((e,r,i)=>{let o=i[r];n.filter((e=>Bu("x",t(e),t(o))&&Bu("y",t(e),t(o),-2))).forEach((()=>(0,Ys.select)(o).attr("dy",Number((0,Ys.select)(o).attr("dy"))+14)))}))},Bf={top:1,mid:.7,lower:0},Vf=e=>e.filter(((e,t,n)=>(0,Ys.select)(n[t]).selectAll("text").attr("class")!==Yf.zero)),Rf=e=>e.selectAll("text").each(((e,t,n)=>Hf(n[t]))),jf=e=>e.selectAll("text").each(((e,t,n)=>Ff(n[t]))),Ff=e=>{let t=(0,Ys.select)(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},Hf=e=>{let t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();Wf(e,r,n)||(0,Ys.select)(e).attr("class",(0,Ys.select)(e).attr("class"))},Wf=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let t=parseInt((0,Ys.select)(e).style("font-size")),n=Math.floor(t*r);return t>7&&n>7?((0,Ys.select)(e).style("font-size",`${n}px`),Ff(e)):((0,Ys.select)(e).style("font-size",null),(0,Ys.select)(e).attr("class",Yf.zero)),!0}return!1},Uf=(e,t,n)=>{if(!n.filter((e=>""!==e)).every((t=>e.crossValue.includes(t))))return Yf.zero;switch(e.depth){case t+1:return Yf.high;case t+2:return Yf.low;default:return Yf.zero}},Yf={high:"top",low:"mid",zero:"lower"},qf=(e,t)=>{let n=function(){var e=Do,t=!1,n=1,r=1,i=[0],o=No,a=No,s=No,c=No,l=No;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(zo),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<u&&(u=f=(u+f)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=f,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,u+=a(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(f-=c(t)-n)<u&&(u=f=(u+f)/2),e(t,r,u,d,f))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=Lo(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:Oo(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:Oo(+e),u):a},u.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:Oo(+e),u):s},u.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:Oo(+e),u):c},u.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:Oo(+e),u):l},u}().size([e,t]).paddingInner((e=>1+2*(e.height-1)));return n.tile(Bo),n};function Zf(e,t,n,r,i,o){(function(e,t,n,r,i){let o=e.x0,a=e.y0,s=e.x1-e.x0,c=e.y1-e.y0,l=i.x1-i.x0,u=i.y1-i.y0,d=l/s,f=u/c;n.each((e=>{let n=(e.x0-o)*d,i=(e.y0-a)*f,s=nh(e)*d,c=rh(e)*f,l=((e,t)=>t.every((t=>e.crossValue.includes(t))))(e,t)&&e.data.name!==t[r-1];e.mapLevel[r]={x0:n,x1:s+n,y0:i,y1:c+i,visible:l,opacity:l?1:0}})),e.mapLevel[r].levelRoot=!0})(e,t,n,r,i),e.mapLevel[r].levelRoot=!0,function(e,t,n,r){let i=qf(t,n)(Mo(e.data).sum((e=>e.size))).descendants(),o=e.descendants();i.forEach(((e,t)=>{o[t].mapLevel[r].x0=i[t].x0,o[t].mapLevel[r].x1=i[t].x1,o[t].mapLevel[r].y0=i[t].y0,o[t].mapLevel[r].y1=i[t].y1}))}(e,o.node().getBoundingClientRect().width,o.node().getBoundingClientRect().height,r),$f(n,r)}var Gf=(e,t)=>{e.each(((e,n,r)=>{let i=(0,Ys.select)(r[n]).selectAll("text");e.mapLevel[t].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}}))};function $f(e,t){e.selectAll("text").each(((e,n,r)=>{let i=(0,Ys.select)(r[n]),o=(0,Ys.select)(r[n]).datum(),a=i.attr("class");o.mapLevel[t].textLockedAt={opacity:Bf[a]}}))}function Xf(e,t,n,r,i,o,a,s,c,l){if(!e.children)return;i.treemapLevel<e.depth?i.treemapRoute.push(e.crossValue):i.treemapRoute.pop(),i.treemapLevel=e.depth;let u=e.crossValue;(!e.mapLevel[i.treemapLevel]||!e.mapLevel[i.treemapLevel].levelRoot)&&Zf(e,u,n,i.treemapLevel,s,o),Kf(e,t,n,r,i,o,a,s,i.treemapLevel,u,c,l)}function Kf(e,t,n,r,i,o,a,s,c,l,u,d,f=500,h=!0){let p=e.parent,g=a.transition("main transition").duration(f).ease(so._e);n.each((e=>e.target=e.mapLevel[c])),Lf(e)||eh(n,u),n.transition(g).tween("data",(e=>{let t=(0,Vo.Z)(e.current,e.target);return n=>e.current=t(n)})).styleTween("opacity",(e=>()=>e.current.opacity)).attrTween("pointer-events",(e=>()=>e.target.visible?"all":"none")),t.transition(g).filter((e=>e.target.visible)).styleTween("x",(e=>()=>`${e.current.x0}px`)).styleTween("y",(e=>()=>`${e.current.y0}px`)).styleTween("width",(e=>()=>e.current.x1-e.current.x0+"px")).styleTween("height",(e=>()=>e.current.y1-e.current.y0+"px")),r.transition(g).filter((e=>e.target.visible)).attrTween("x",(e=>()=>e.current.x0+nh(e.current)/2)).attrTween("y",(e=>()=>e.current.y0+rh(e.current)/2)).end().catch((()=>th(n))).then((()=>{Lf(e)||(Of(m),Rf(m),async function(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(so._e);await e.transition(r).filter((e=>e.target.visible)).tween("data",((e,t,n)=>{let r=n[t],i=(0,Vo.Z)(Qf(e),Jf(r));return t=>e.current.opacity=i(t)})).styleTween("opacity",(e=>()=>e.current.opacity)).end().catch((e=>console.error("Exception in text fade transition",e))).then((()=>e.each(((e,t,n)=>(e=>(0,Ys.select)(e).style("opacity",null))(n[t])))))}(r,a,f),h&&Gf(n,c),th(n,u,p))})).catch((e=>{console.error("Exception completing promises after main transition",e),th(n,u,p)})),Lf(e)?(e=>{e.each(((e,t,n)=>{(0,Ys.select)(n[t]).selectAll("text").attr("dx",e.target.textAttributes.dx).attr("dy",e.target.textAttributes.dy).attr("class",e.target.textAttributes.class).style("font-size",e.target.textAttributes["font-size"])}))})(n):(r.each(((e,t,n)=>(e=>(0,Ys.select)(e).style("opacity",Bf[(0,Ys.select)(e).attr("class")]))(n[t]))),Nf(n,c,l));let m=Vf(n);p?u.hide(!1).text(e.label).onClick((()=>{Xf(p,t,n,r,i,o,a,s,u,d);let e=o.node().getRootNode().host.parentElement;qu(e,p,d)}))():u.hide(!0)()}var Qf=e=>e.target.textLockedAt.opacity,Jf=e=>Bf[(0,Ys.select)(e).attr("class")],eh=(e,t)=>{t.deactivate(!0),e.each(((e,t,n)=>{(0,Ys.select)(n[t]).selectAll("rect").style("pointer-events","none")}))},th=(e,t)=>{t&&t.deactivate(!1),e.each(((e,t,n)=>{(0,Ys.select)(n[t]).selectAll("rect").style("pointer-events",null)}))},nh=e=>e.x1-e.x0,rh=e=>e.y1-e.y0;function ih(e,t){if(0===t.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");t.treemaps||(t.treemaps={});let n=_f(t),r=If(t,n.map((e=>e.data)));r&&this._container.classList.add("has-legend");let i=Ef().elementsPrefix("treemap");if(e.datum(n).call(i),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=yd().settings(t).scale(r);e.call(n)}else{let t=af().scale(r);e.call(t)}}let o=i.chartEnter(),a=i.chartDiv();i.chartTitle().each(((e,t,n)=>(0,Ys.select)(n[t]).text(e.split))),o.merge(a).select("svg").select("g.treemap").each((function({split:e,data:n}){let i=(0,Ys.select)(this);t.treemaps[e]||(t.treemaps[e]={}),function(){let e=null,t=null,n=null,r=null,i=null,o=null,a=a=>{o=function(e){let t=null,n=null,r=!0,i=!1,o=Nu(e,".parent-controls",(()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n'))),a=()=>{o.style("display",r?"none":"").select("#goto-parent").style("pointer-events",i?"none":null).html(`⇪ ${n}`).on("click",(()=>t()))};return a.deactivate=(...e)=>{if(!e.length)return i;i=e[0];let t=o.select("#goto-parent");return i?t.style("pointer-events","none"):t.style("pointer-events",null),a},a.hide=(...e)=>e.length?(r=e[0],a):r,a.text=(...e)=>e.length?(n=e[0],a):n,a.onClick=(...e)=>e.length?(t=e[0],a):t,a}(i),o();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),qf(i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height)(n);let c=a.selectAll("g").data(n.descendants()),l=c.enter().append("g");l.append("rect"),l.append("text");let u=l.merge(c).sort(((e,t)=>t.depth-e.depth)),d=u.select("rect").attr("class",(e=>`treerect ${((e,t)=>0===t.depth?"rootnode":((e,t)=>t.depth===e)(e,t)?"leafnode":"branchnode")(s,e)}`)).style("x",(e=>e.x0)).style("y",(e=>e.y0)).style("width",(e=>nh(e))).style("height",(e=>rh(e)));r&&d.style("fill",(e=>{if(e.data.color)return r(e.data.color)}));let f=u.filter((e=>0!==e.value)).select("text").attr("x",(e=>e.x0+nh(e)/2)).attr("y",(e=>e.y0+rh(e)/2)).text((e=>e.label)),h=d.filter((e=>0===e.crossValue.length)).datum();(function(e,t){e.each((e=>{e.mapLevel=[],e.mapLevel[0]={x0:e.x0,x1:nh(e)+e.x0,y0:e.y0,y1:rh(e)+e.y0,visible:!0,opacity:1}})),t.mapLevel[0].levelRoot=!0,$f(e,0)})(u,h),Nf(u,0,[]),Rf(Vf(u)),Gf(u,0),0===e.treemapRoute.length&&e.treemapRoute.push(h.crossValue),d.filter((e=>e.children)).on("click",((n,r)=>Xf(r,d,u,f,e,i,a,h,o,t))),function(e,t,n,r,i,o,a,s,c){if(r.treemapLevel>0){let l=a.crossValue;Kf(a,e,t,n,r,i,o,a,0,l,s,c,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((l=>{let u=t.filter((e=>e.crossValue===l)).datum(),d=u.crossValue;Zf(u,d,t,u.depth,a,i),Kf(u,e,t,n,r,i,o,a,u.depth,d,s,c,1,!1)}))}}(d,u,f,e,i,a,h,o,t)};return a.settings=(...n)=>n.length?(e=n[0],t=n[1],a):e,a.data=(...e)=>e.length?(n=e[0],a):n,a.color=(...e)=>e.length?(r=e[0],a):r,a.container=(...e)=>e.length?(i=e[0],a):i,a}().settings(t.treemaps[e],t).data(n).container((0,Ys.select)((0,Ys.select)(this.parentNode).node().parentNode)).color(r)(i),Zu().settings(t).centered(!0)(i.selectAll("g"))}))}ih.plugin={type:"Treemap",name:"Treemap",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var oh=[Pd,jd,qd,Kd,Jd,tf,cf,pf,mf,ih,Pf,uf],ah=(e,t)=>{let n=(0,Gi.ZP)(`#${e}`);return n.opacity=t,n+""},sh={initial:{type:"number",count:1},selectMode:"select"},ch=`:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis--ticks, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis--ticks, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, inherit);content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, inherit);content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart .series{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart .series-1{fill:var(--d3fc-series-1, #0366d6)}:host .chart .series-2{fill:var(--d3fc-series-2, #ff7f0e)}:host .chart .series-3{fill:var(--d3fc-series-3, #2ca02c)}:host .chart .series-4{fill:var(--d3fc-series-4, #d62728)}:host .chart .series-5{fill:var(--d3fc-series-5, #9467bd)}:host .chart .series-6{fill:var(--d3fc-series-6, #8c564b)}:host .chart .series-7{fill:var(--d3fc-series-7, #e377c2)}:host .chart .series-8{fill:var(--d3fc-series-8, #7f7f7f)}:host .chart .series-9{fill:var(--d3fc-series-9, #bcbd22)}:host .chart .series-10{fill:var(--d3fc-series-10, #17becf)}:host .disabled{filter:grayscale(100%)}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{background:#e6e6e6}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n${function(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach((e=>{-1!==e.innerText.indexOf("d3fc-")&&t.push(e.innerText)})),t.join("")}()}`,lh=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","agg_paths"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...e){e=new Set(e.length>0?e:oh.map((e=>e.plugin.name))),oh.forEach((t=>{if(e.has(t.plugin.name)){let e=t.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${e}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${ch}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return t.plugin.name}get select_mode(){return t.plugin.selectMode||"select"}get min_config_columns(){return t.plugin.initial?.count||sh.initial.count}get config_column_names(){return t.plugin.initial?.names||sh.initial.names}get max_cells(){return t.plugin.max_cells||4e3}set max_cells(e){t.plugin.max_cells=e}get max_columns(){return t.plugin.max_columns||50}set max_columns(e){t.plugin.max_columns=e}async draw(e,t,n){this.config=await this.parentElement.save(),await this.update(e,t,n,!0)}async update(e,n,r,i=!1){if(!this.isConnected)return;let o,a,s=this.parentElement,c=this.config.columns,l="Sunburst"!==t.plugin.name;o=n&&r?e.to_json({end_row:r,end_col:n,leaves_only:l}):n?e.to_json({end_col:n,leaves_only:l}):r?e.to_json({end_row:r,leaves_only:l}):e.to_json({leaves_only:l}),a=await Promise.all([s.getTable().then((e=>e.schema(!1))),e.expression_schema(!1),e.schema(!1),o,e.get_config()]);let[u,d,f,h,p]=a,g=function(e){let t=u[e];return t||(t=d[e]),t},{columns:m,row_pivots:b,column_pivots:v,filter:_}=p,y=b.length>0?h.reduce(((e,t)=>{if(t.__ROW_PATH__&&t.__ROW_PATH__.length==b.length)e.agg_paths.push(e.aggs.slice()),e.rows.push(t);else{let n=t.__ROW_PATH__.filter((e=>void 0!==e)).length;e.aggs[n]=t,e.aggs=e.aggs.slice(0,n+1)}return e}),{rows:[],aggs:[],agg_paths:[]}):{rows:h},w=y.rows.map(((e,t)=>b.length?e:{...e,__ROW_PATH__:[t]})),x={realValues:c,crossValues:b.map((e=>({name:e,type:g(e)}))),mainValues:m.map((e=>({name:e,type:f[e]}))),splitValues:v.map((e=>({name:e,type:g(e)}))),filter:_,data:w,agg_paths:y.agg_paths};this._chart=t;let k={set:(e,t,n)=>(lh.includes(t)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),e[t]=n,!0)};this._settings=new Proxy({...this._settings,...x},k),this._settings.splitMainValues&&this._settings.splitMainValues.length>=m.length&&(this._settings.splitMainValues=[]),((e,t)=>{if(!t.colorStyles){let n=["series"];for(let e=1;e<=10;e++)n.push(`series-${e}`);let r={scheme:[],gradient:{},interpolator:{},grid:{}},i=(e=>{if(window.ShadyCSS)return t=>window.ShadyCSS.getComputedStyleValue(e,t);{let t=getComputedStyle(e);return e=>t.getPropertyValue(e)}})(e);n.forEach(((e,t)=>{r[e]=i(`--d3fc-${e}`),t>0&&r.scheme.push(r[e])})),r.opacity=(e=>(0,Gi.ZP)(e).opacity)(r.series),r.grid.gridLineColor=i`--d3fc-gridline--color`,["full","positive","negative"].forEach((e=>{let t=i(`--d3fc-${e}--gradient`);r.gradient[e]=((e,t)=>{let n=(0,Bl.Q)(e)[0].colorStops;return n.map(((e,r)=>[e.length?e.length.value/100:r/(n.length-1),ah(e.value,t)])).sort(((e,t)=>e[0]-t[0]))})(t,r.opacity)})),t.colorStyles=r}})(this._container,this._settings),i&&(this._container.innerHTML=""),this._draw(),await new Promise((e=>requestAnimationFrame(e)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this._settings.data&&this.isConnected){let t=(0,Ys.select)(this._container),n=`chart ${e}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(t.attr("class",n),this._settings):t.attr("class",`${n} disabled`)}}async resize(){this.isConnected&&this._draw()}async restyle(...e){let t=this._settings;t&&(delete t.colorStyles,await this.draw(...e))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let e={...this._settings};return lh.forEach((t=>{delete e[t]})),e}restore(e){let t={};for(let e of lh)t[e]=this._settings?.[e];this._settings={...t,...e},this._draw()}}),customElements.whenDefined("perspective-viewer").then((()=>function(e){customElements.get("perspective-viewer").registerPlugin(e)}(n)))}}))}();var uh=n(8802),dh=n.n(uh),fh=n(7521),hh=n.n(fh);n(9019),n(9458),n(851);const ph=JSON.parse('{"Raw":{"sizes":[1],"detail":{"main":{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0}},"mode":"globalFilters","viewers":{"PERSPECTIVE_GENERATED_ID_0":{"plugin":"datagrid","columns":["Unique Id","First Name","Last Name","Rank","Command","ShieldNo","Complaint Id","Incident Date","FADO Type","Allegation","Board Disposition","NYPDDisposition","PenaltyDesc"],"selectable":null,"editable":null,"expressions":null,"row_pivots":null,"column_pivots":null,"aggregates":null,"filter":null,"sort":null,"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false}}},"Incidents per Month":{"sizes":[1],"detail":{"main":{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0}},"mode":"globalFilters","viewers":{"PERSPECTIVE_GENERATED_ID_0":{"plugin":"Y Line","columns":["Unique Id"],"row_pivots":["bucket(\\"Incident Date\\", \'M\')"],"expressions":["bucket(\\"Incident Date\\", \'M\')"],"aggregates":{"Unique Id":"distinct count"},"filter":[["Incident Date","is not null","1/7/1985"]],"selectable":null,"editable":null,"column_pivots":null,"sort":null,"plugin_config":{"realValues":["Unique Id"]},"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false}}},"Incidents per Month by FADO":{"sizes":[1],"detail":{"main":{"type":"split-area","orientation":"vertical","children":[{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0},{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_1"],"currentIndex":0}],"sizes":[0.5,0.5]}},"mode":"globalFilters","viewers":{"PERSPECTIVE_GENERATED_ID_0":{"plugin":"Y Line","columns":["Unique Id"],"expressions":["bucket(\\"Incident Date\\", \'M\')"],"row_pivots":["bucket(\\"Incident Date\\", \'M\')"],"column_pivots":["FADO Type"],"aggregates":{"Unique Id":"distinct count"},"filter":[["Incident Date","is not null","1/7/1985"]],"selectable":null,"editable":null,"sort":null,"plugin_config":{"realValues":["Unique Id"]},"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false},"PERSPECTIVE_GENERATED_ID_1":{"plugin":"Y Area","expressions":["bucket(\\"Incident Date\\", \'M\')"],"row_pivots":["bucket(\\"Incident Date\\", \'M\')"],"aggregates":{"Unique Id":"distinct count"},"filter":[["Incident Date","is not null","1/7/1985"]],"columns":["Unique Id"],"column_pivots":["FADO Type"],"sort":[["Unique Id","col asc"]],"selectable":null,"editable":null,"plugin_config":{"realValues":["Unique Id"]},"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false}}},"Total Complaints vs Officer Count by Command and FADO":{"sizes":[1],"detail":{"main":{"type":"split-area","orientation":"horizontal","children":[{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0},{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_1"],"currentIndex":0}],"sizes":[0.5,0.5]}},"mode":"globalFilters","viewers":{"PERSPECTIVE_GENERATED_ID_0":{"plugin":"X/Y Scatter","columns":["ShieldNo","Complaint Id",null,null,null],"row_pivots":["Command"],"aggregates":{"ShieldNo":"distinct count","Unique Id":"distinct count","Complaint Id":"distinct count"},"column_pivots":["FADO Type"],"filter":[["Complaint Id","is not null",null],["Active","==","active"]],"selectable":null,"editable":null,"expressions":null,"sort":null,"plugin_config":{"realValues":["ShieldNo","Complaint Id",null,null,null]},"master":false,"name":"Active Officer Incidents (Github)","table":"github-incidents","linked":false},"PERSPECTIVE_GENERATED_ID_1":{"plugin":"X/Y Scatter","row_pivots":["Command"],"column_pivots":["FADO Type"],"aggregates":{"ShieldNo":"distinct count","Unique Id":"distinct count","Complaint Id":"distinct count"},"filter":[["Complaint Id","is not null",null],["Active","==","inactive"]],"columns":["ShieldNo","Complaint Id",null,null,null],"selectable":null,"editable":null,"expressions":null,"sort":null,"plugin_config":{"realValues":["ShieldNo","Complaint Id",null,null,null]},"master":false,"name":"Inactive Officer Incidents (Github)","table":"github-incidents","linked":false}}},"Incidents by Allegation, time series":{"sizes":[0.25,0.75],"detail":{"main":{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0}},"mode":"globalFilters","master":{"widgets":["PERSPECTIVE_GENERATED_ID_1"],"sizes":[1]},"viewers":{"PERSPECTIVE_GENERATED_ID_1":{"plugin":"datagrid","expressions":["bucket(\\"Incident Date\\", \'M\')"],"aggregates":{"Unique Id":"distinct count","Complaint Id":"distinct count"},"columns":["Complaint Id"],"row_pivots":["FADO Type","Allegation"],"sort":[["Complaint Id","desc"]],"filter":[],"selectable":true,"editable":null,"column_pivots":null,"master":true,"name":"Incidents (Github) (duplicate)","table":"github-incidents","linked":false},"PERSPECTIVE_GENERATED_ID_0":{"plugin":"Y Line","columns":["Unique Id"],"expressions":["bucket(\\"Incident Date\\", \'M\')"],"row_pivots":["bucket(\\"Incident Date\\", \'M\')"],"column_pivots":["FADO Type"],"aggregates":{"Unique Id":"distinct count"},"filter":[["Incident Date","is not null","1/7/1985"]],"selectable":null,"editable":null,"sort":null,"plugin_config":{"realValues":["Unique Id"]},"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false}}},"Allegation reporting change 95-00":{"sizes":[1],"detail":{"main":{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_2"],"currentIndex":0}},"mode":"globalFilters","viewers":{"PERSPECTIVE_GENERATED_ID_2":{"plugin":"Heatmap","plugin_config":{},"settings":true,"row_pivots":["bucket(\\"Incident Date\\", \'Y\')"],"column_pivots":["Allegation"],"columns":["Complaint Id"],"filter":[["Incident Date","is not null","1/7/1985"]],"sort":[["bucket(\\"Incident Date\\", \'Y\')","col asc"],["Complaint Id","col asc"]],"expressions":["bucket(\\"Incident Date\\", \'Y\')"],"aggregates":{"bucket(\\"Incident Date\\", \'Y\')":"last","Complaint Id":"distinct count"},"master":false,"name":"Incidents (Github) (duplicate)","table":"github-incidents","linked":false}}},"Day-of-week incident Heatmap":{"sizes":[0.27281667977970103,0.727183320220299],"detail":{"main":{"type":"split-area","orientation":"vertical","children":[{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_0"],"currentIndex":0},{"type":"tab-area","widgets":["PERSPECTIVE_GENERATED_ID_2"],"currentIndex":0}],"sizes":[0.5,0.5]}},"mode":"globalFilters","master":{"widgets":["PERSPECTIVE_GENERATED_ID_1"],"sizes":[1]},"viewers":{"PERSPECTIVE_GENERATED_ID_1":{"plugin":"Datagrid","plugin_config":{},"settings":false,"row_pivots":["FADO Type","Allegation"],"column_pivots":[],"columns":["Complaint Id"],"filter":[],"sort":[["Complaint Id","desc"]],"expressions":["bucket(\\"Incident Date\\", \'M\')"],"aggregates":{"Complaint Id":"distinct count"},"master":true,"name":"Incidents (Github) (duplicate)","table":"github-incidents","linked":false,"selectable":"true"},"PERSPECTIVE_GENERATED_ID_0":{"plugin":"Heatmap","plugin_config":{},"settings":false,"row_pivots":["bucket(\\"Incident Date\\", \'Y\')"],"column_pivots":["month_of_year(\\"Incident Date\\")"],"columns":["Complaint Id"],"filter":[["Incident Date","is not null","1/7/1985"]],"sort":[],"expressions":["bucket(\\"Incident Date\\", \'Y\')","month_of_year(\\"Incident Date\\")","day_of_week(\\"Incident Date\\")"],"aggregates":{"Complaint Id":"distinct count"},"master":false,"name":"Incidents (Github)","table":"github-incidents","linked":false},"PERSPECTIVE_GENERATED_ID_2":{"plugin":"Heatmap","plugin_config":{},"settings":false,"row_pivots":["month_of_year(\\"Incident Date\\")"],"column_pivots":["day_of_week(\\"Incident Date\\")"],"columns":["Complaint Id"],"filter":[["Incident Date","is not null","1/7/1985"]],"sort":[],"expressions":["bucket(\\"Incident Date\\", \'Y\')","month_of_year(\\"Incident Date\\")","day_of_week(\\"Incident Date\\")"],"aggregates":{"Complaint Id":"distinct count"},"master":false,"name":"Incidents (Github) (duplicate)","table":"github-incidents","linked":false}}}}');let gh=localStorage.getItem("layouts")?JSON.parse(localStorage.getItem("layouts")):ph;const mh=Te.worker(),bh=document.createElement("style");function vh(){"light"===bh.dataset.theme?(bh.textContent=dh(),bh.dataset.theme="dark",document.body.classList.add("dark"),window.theme.textContent="Light Theme"):(bh.textContent=hh(),bh.dataset.theme="light",document.body.classList.remove("dark"),window.theme.textContent="Dark Theme");for(const e of document.querySelectorAll("perspective-viewer"))e.restyleElement()}document.head.appendChild(bh),window.addEventListener("load",(async()=>{document.body.innerHTML='\n        <style>\n\n        </style>\n        <div id=\'buttons\'>\n            <span id="message"></span>\n            <select id="layouts"></select>\n            <button id="save_as">Save As</button>\n            <input id="name_input" style="display: none"></input>\n            <button id="save" style="display: none">Save</button>\n            <button id="cancel" style="display: none">Cancel</button>\n            <button id="theme" style="float: right">Light Theme</button>\n            <button id="copy" style="float: right">Debug to Clipboard</button>\n            <button id="reset" style="float: right">Reset LocalStorage</button>\n            <a href="https://github.com/texodus/nypd-ccrb">NYCLU/CCRB Data</a>\n            <a href="https://github.com/finos/perspective">Built With Perspective</a>\n        </div>\n        <perspective-workspace id=\'workspace\'>\n        </perspective-workspace>\n    '.trim(),vh(),window.workspace.addTable("github-incidents",(async()=>{const e=await async function(e){const t=await fetch("./github-incidents.arrow"),n=t.body.getReader(),r=+t.headers.get("Content-Length");let i=0,o=[];for(;;){const{done:e,value:t}=await n.read();if(e)break;o.push(t),i+=t.length,window.message.textContent=`Downloading (${(100*i/r).toFixed(1)}%)`}let a=new Uint8Array(i),s=0;for(let e of o)a.set(e,s),s+=e.length;return window.message.style.display="none",a.buffer}();return mh.table(e)})());const e=Object.keys(gh);let t=gh[e[0]];function n(){const e=Object.keys(gh);window.layouts.innerHTML="",console.log(e);for(const n of e)window.layouts.innerHTML+=`<option${n===t?" selected='true'":""}>${n}</option>`}function r(){window.save_as.style.display="inline-block",window.save.style.display="none",window.cancel.style.display="none",window.name_input.style.display="none",window.copy.style.display="inline-block",window.layouts.style.display="inline-block"}await window.workspace.restore(t),n(),window.name_input.value=e[0],window.layouts.addEventListener("change",(async()=>{0!==window.layouts.value.trim().length&&(window.workspace.innerHTML="",await window.workspace.restore(gh[window.layouts.value]),window.name_input.value=window.layouts.value)})),window.save_as.addEventListener("click",(async()=>{window.save_as.style.display="none",window.save.style.display="inline-block",window.cancel.style.display="inline-block",window.name_input.style.display="inline-block",window.copy.style.display="none",window.layouts.style.display="none"})),window.cancel.addEventListener("click",r),window.reset.addEventListener("click",(()=>{localStorage.clear(),window.reset.innerText="Reset!",setTimeout((()=>{window.reset.innerText="Reset LocalStorage"}),1e3)})),window.save.addEventListener("click",(async()=>{const e=await window.workspace.save(),t=window.name_input.value;gh[t]=e,n(),window.layouts.value=t,window.save_as.innerText="Saved!",setTimeout((()=>{window.save_as.innerText="Save As"}),1e3),localStorage.setItem("layouts",JSON.stringify(gh)),r()})),window.copy.addEventListener("click",(async()=>{await navigator.clipboard.writeText(JSON.stringify(gh)),window.copy.innerText="Copied!",setTimeout((()=>{window.copy.innerText="Debug to Clipboard"}),1e3)})),window.theme.addEventListener("click",vh)}))},4770:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>r})},1129:(e,t,n)=>{"use strict";n.d(t,{ml:()=>s,Nw:()=>c,ZR:()=>l,ZP:()=>u});var r=n(4770),i=n(2092),o=n(6388);const a=(0,i.Z)(r.Z),s=a.right,c=a.left,l=(0,i.Z)(o.Z).center,u=s},2092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4770);function i(e){let t=e,n=e,i=e;function o(e,t,r=0,o=e.length){if(r<o){if(0!==n(t,t))return o;do{const n=r+o>>>1;i(e[n],t)<0?r=n+1:o=n}while(r<o)}return r}return 2!==e.length&&(t=(t,n)=>e(t)-n,n=r.Z,i=(t,n)=>(0,r.Z)(e(t),n)),{left:o,center:function(e,n,r=0,i=e.length){const a=o(e,n,r,i-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r=0,o=e.length){if(r<o){if(0!==n(t,t))return o;do{const n=r+o>>>1;i(e[n],t)<=0?r=n+1:o=n}while(r<o)}return r}}}},3233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Adder:()=>m,InternMap:()=>_.L,InternSet:()=>_.H,ascending:()=>i.Z,bin:()=>W,bisect:()=>r.ZP,bisectCenter:()=>r.ZR,bisectLeft:()=>r.Nw,bisectRight:()=>r.ml,bisector:()=>o.Z,count:()=>a,cross:()=>u,cumsum:()=>d,descending:()=>f,deviation:()=>p,difference:()=>Ce,disjoint:()=>Ae,every:()=>ye,extent:()=>g,fcumsum:()=>v,filter:()=>xe,flatGroup:()=>M,flatRollup:()=>S,fsum:()=>b,greatest:()=>de,greatestIndex:()=>fe,group:()=>w,groupSort:()=>O,groups:()=>x,histogram:()=>W,index:()=>T,indexes:()=>E,intersection:()=>Te,least:()=>le,leastIndex:()=>ue,map:()=>ke,max:()=>U.Z,maxIndex:()=>J,mean:()=>ee,median:()=>te,merge:()=>ne,min:()=>Y.Z,minIndex:()=>re,mode:()=>ie,nice:()=>F,pairs:()=>oe,permute:()=>I,quantile:()=>$,quantileSorted:()=>X,quickselect:()=>q,range:()=>se.Z,rank:()=>ce,reduce:()=>Me,reverse:()=>Se,rollup:()=>C,rollups:()=>A,scan:()=>he,shuffle:()=>pe,shuffler:()=>ge,some:()=>we,sort:()=>D,subset:()=>Ie,sum:()=>me,superset:()=>ze,thresholdFreedmanDiaconis:()=>K,thresholdScott:()=>Q,thresholdSturges:()=>H,tickIncrement:()=>j.G9,tickStep:()=>j.ly,ticks:()=>j.ZP,transpose:()=>be,union:()=>De,variance:()=>h,zip:()=>_e});var r=n(1129),i=n(4770),o=n(2092);function a(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function s(e){return 0|e.length}function c(e){return!(e>0)}function l(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function u(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(l)).map(s),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(c))return o;for(;;){o.push(i.map(((t,n)=>e[n][t])));let a=r;for(;++i[a]===n[a];){if(0===a)return t?o.map(t):o;i[a--]=0}}}function d(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)}function f(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function p(e,t){const n=h(e,t);return n?Math.sqrt(n):n}function g(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class m{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}function b(e,t){const n=new m;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function v(e,t){const n=new m;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))}var _=n(2718);function y(e){return e}function w(e,...t){return P(e,y,y,t)}function x(e,...t){return P(e,Array.from,y,t)}function k(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap((e=>e.pop().map((([t,n])=>[...e,t,n]))));return e}function M(e,...t){return k(x(e,...t),t)}function S(e,t,...n){return k(A(e,t,...n),n)}function C(e,t,...n){return P(e,y,t,n)}function A(e,t,...n){return P(e,Array.from,t,n)}function T(e,...t){return P(e,y,z,t)}function E(e,...t){return P(e,Array.from,z,t)}function z(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function P(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const a=new _.L,s=r[o++];let c=-1;for(const e of i){const t=s(e,++c,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[t,n]of a)a.set(t,e(n,o));return t(a)}(e,0)}function I(e,t){return Array.from(t,(t=>e[t]))}function D(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=N(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>N(n[e],n[t])))),I(e,r)}return e.sort(L(n))}function L(e=i.Z){if(e===i.Z)return N;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function N(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function O(e,t,n){return(2!==t.length?D(C(e,t,n),(([e,t],[n,r])=>(0,i.Z)(t,r)||(0,i.Z)(e,n))):D(w(e,n),(([e,n],[r,o])=>t(n,o)||(0,i.Z)(e,r)))).map((([e])=>e))}var B=Array.prototype,V=B.slice;function R(e){return()=>e}B.map;var j=n(1440);function F(e,t,n){let r;for(;;){const i=(0,j.G9)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function H(e){return Math.ceil(Math.log(a(e))/Math.LN2)+1}function W(){var e=y,t=g,n=H;function i(i){Array.isArray(i)||(i=Array.from(i));var o,a,s=i.length,c=new Array(s);for(o=0;o<s;++o)c[o]=e(i[o],o,i);var l=t(c),u=l[0],d=l[1],f=n(c,u,d);if(!Array.isArray(f)){const e=d,n=+f;if(t===g&&([u,d]=F(u,d,n)),(f=(0,j.ZP)(u,d,n))[f.length-1]>=d)if(e>=d&&t===g){const e=(0,j.G9)(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else f.pop()}for(var h=f.length;f[0]<=u;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var p,m=new Array(h+1);for(o=0;o<=h;++o)(p=m[o]=[]).x0=o>0?f[o-1]:u,p.x1=o<h?f[o]:d;for(o=0;o<s;++o)null!=(a=c[o])&&u<=a&&a<=d&&m[(0,r.ZP)(f,a,0,h)].push(i[o]);return m}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:R(t),i):e},i.domain=function(e){return arguments.length?(t="function"==typeof e?e:R([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?R(V.call(e)):R(e),i):n},i}var U=n(6073),Y=n(5677);function q(e,t,n=0,r=e.length-1,i){for(i=void 0===i?N:L(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);q(e,t,Math.max(n,Math.floor(t-a*c/o+l)),Math.min(r,Math.floor(t+(o-a)*c/o+l)),i)}const o=e[t];let a=n,s=r;for(Z(e,n,t),i(e[r],o)>0&&Z(e,n,r);a<s;){for(Z(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Z(e,n,s):(++s,Z(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Z(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}var G=n(6388);function $(e,t,n){if(r=(e=Float64Array.from((0,G.K)(e,n))).length){if((t=+t)<=0||r<2)return(0,Y.Z)(e);if(t>=1)return(0,U.Z)(e);var r,i=(r-1)*t,o=Math.floor(i),a=(0,U.Z)(q(e,o).subarray(0,o+1));return a+((0,Y.Z)(e.subarray(o+1))-a)*(i-o)}}function X(e,t,n=G.Z){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function K(e,t,n){return Math.ceil((n-t)/(2*($(e,.75)-$(e,.25))*Math.pow(a(e),-1/3)))}function Q(e,t,n){return Math.ceil((n-t)/(3.5*p(e)*Math.pow(a(e),-1/3)))}function J(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ee(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function te(e,t){return $(e,.5,t)}function ne(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function re(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ie(e,t){const n=new _.L;if(void 0===t)for(let t of e)null!=t&&t>=t&&n.set(t,(n.get(t)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[e,t]of n)t>i&&(i=t,r=e);return r}function oe(e,t=ae){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function ae(e,t){return[e,t]}var se=n(7219);function ce(e,t=i.Z){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=i.Z);const o=(e,r)=>t(n[e],n[r]);let a,s;return Uint32Array.from(n,((e,t)=>t)).sort(t===i.Z?(e,t)=>N(n[e],n[t]):L(o)).forEach(((e,t)=>{const n=o(e,void 0===a?e:a);n>=0?((void 0===a||n>0)&&(a=e,s=t),r[e]=s):r[e]=NaN})),r}function le(e,t=i.Z){let n,r=!1;if(1===t.length){let o;for(const a of e){const e=t(a);(r?(0,i.Z)(e,o)<0:0===(0,i.Z)(e,e))&&(n=a,o=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n}function ue(e,t=i.Z){if(1===t.length)return re(e,t);let n,r=-1,o=-1;for(const i of e)++o,(r<0?0===t(i,i):t(i,n)<0)&&(n=i,r=o);return r}function de(e,t=i.Z){let n,r=!1;if(1===t.length){let o;for(const a of e){const e=t(a);(r?(0,i.Z)(e,o)>0:0===(0,i.Z)(e,e))&&(n=a,o=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n}function fe(e,t=i.Z){if(1===t.length)return J(e,t);let n,r=-1,o=-1;for(const i of e)++o,(r<0?0===t(i,i):t(i,n)>0)&&(n=i,r=o);return r}function he(e,t){const n=ue(e,t);return n<0?void 0:n}const pe=ge(Math.random);function ge(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,o=t[i+n];t[i+n]=t[r+n],t[r+n]=o}return t}}function me(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function be(e){if(!(i=e.length))return[];for(var t=-1,n=(0,Y.Z)(e,ve),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function ve(e){return e.length}function _e(){return be(arguments)}function ye(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function we(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function xe(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function ke(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function Me(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=t(n,o,++a,e);return n}function Se(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ce(e,...t){e=new _.H(e);for(const n of t)for(const t of n)e.delete(t);return e}function Ae(e,t){const n=t[Symbol.iterator](),r=new _.H;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0}function Te(e,...t){e=new _.H(e),t=t.map(Ee);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Ee(e){return e instanceof _.H?e:new _.H(e)}function ze(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){const t=Pe(e);if(r.has(t))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const e=Pe(i);if(r.add(e),Object.is(t,e))break}}return!0}function Pe(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Ie(e,t){return ze(t,e)}function De(...e){const t=new _.H;for(const n of e)for(const e of n)t.add(e);return t}},6073:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{Z:()=>r})},5677:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{Z:()=>r})},6388:(e,t,n)=>{"use strict";function r(e){return null===e?NaN:+e}function*i(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}n.d(t,{Z:()=>r,K:()=>i})},7219:(e,t,n)=>{"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}n.d(t,{Z:()=>r})},1440:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,G9:()=>s,ly:()=>c});var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(e,t,n){var r,i,o,a,c=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=s(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++c<i;)o[c]=(n+c)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++c<i;)o[c]=(n+c)/a}return r&&o.reverse(),o}function s(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),c=a/Math.pow(10,s);return s>=0?(c>=r?10:c>=i?5:c>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(c>=r?10:c>=i?5:c>=o?2:1)}function c(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/s;return c>=r?s*=10:c>=i?s*=5:c>=o&&(s*=2),t<e?-s:s}},174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{brush:()=>R,brushSelection:()=>O,brushX:()=>B,brushY:()=>V});var r=n(2983),i=n(1921),o=n(6814),a=n(2721),s=n(1257),c=n(3625);const l=e=>()=>e;function u(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function d(e){e.stopImmediatePropagation()}function f(e){e.preventDefault(),e.stopImmediatePropagation()}var h={name:"drag"},p={name:"space"},g={name:"handle"},m={name:"center"};const{abs:b,max:v,min:_}=Math;function y(e){return[+e[0],+e[1]]}function w(e){return[y(e[0]),y(e[1])]}var x={name:"x",handles:["w","e"].map(z),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},k={name:"y",handles:["n","s"].map(z),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},M={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(z),input:function(e){return null==e?null:w(e)},output:function(e){return e}},S={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},C={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function z(e){return{type:e}}function P(e){return!e.ctrlKey&&!e.button}function I(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function D(){return navigator.maxTouchPoints||"ontouchstart"in this}function L(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function N(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function O(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function B(){return j(x)}function V(){return j(k)}function R(){return j(M)}function j(e){var t,n=I,y=P,M=D,O=!0,B=(0,r.Z)("start","brush","end"),V=6;function R(t){var n=t.property("__brush",q).selectAll(".overlay").data([z("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",S.overlay).merge(n).each((function(){var e=L(this).extent;(0,a.Z)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([z("selection")]).enter().append("rect").attr("class","selection").attr("cursor",S.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return S[e.type]})),t.each(j).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",W).filter(M).on("touchstart.brush",W).on("touchmove.brush",U).on("touchend.brush touchcancel.brush",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(){var e=(0,a.Z)(this),t=L(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-V/2:t[0][0]-V/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-V/2:t[0][1]-V/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+V:V})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+V:V}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function F(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new H(e,t,n):r}function H(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function W(n){if((!t||n.touches)&&y.apply(this,arguments)){var r,o,l,u,w,M,z,P,I,D,B,V=this,R=n.target.__data__.type,H="selection"===(O&&n.metaKey?R="overlay":R)?h:O&&n.altKey?m:g,W=e===k?null:T[R],U=e===x?null:E[R],Y=L(V),q=Y.extent,Z=Y.selection,G=q[0][0],$=q[0][1],X=q[1][0],K=q[1][1],Q=0,J=0,ee=W&&U&&O&&n.shiftKey,te=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=(0,s.Z)(e,V)).point0=e.slice(),e.identifier=t,e}));(0,c.e1)(V);var ne=F(V,arguments,!0).beforestart();if("overlay"===R){Z&&(I=!0);const t=[te[0],te[1]||te[0]];Y.selection=Z=[[r=e===k?G:_(t[0][0],t[1][0]),l=e===x?$:_(t[0][1],t[1][1])],[w=e===k?X:v(t[0][0],t[1][0]),z=e===x?K:v(t[0][1],t[1][1])]],te.length>1&&se(n)}else r=Z[0][0],l=Z[0][1],w=Z[1][0],z=Z[1][1];o=r,u=l,M=w,P=z;var re=(0,a.Z)(V).attr("pointer-events","none"),ie=re.selectAll(".overlay").attr("cursor",S[R]);if(n.touches)ne.moved=ae,ne.ended=ce;else{var oe=(0,a.Z)(n.view).on("mousemove.brush",ae,!0).on("mouseup.brush",ce,!0);O&&oe.on("keydown.brush",le,!0).on("keyup.brush",ue,!0),(0,i.Z)(n.view)}j.call(V),ne.start(n,H.name)}function ae(e){for(const t of e.changedTouches||[e])for(const e of te)e.identifier===t.identifier&&(e.cur=(0,s.Z)(t,V));if(ee&&!D&&!B&&1===te.length){const e=te[0];b(e.cur[0]-e[0])>b(e.cur[1]-e[1])?B=!0:D=!0}for(const e of te)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);I=!0,f(e),se(e)}function se(e){const t=te[0],n=t.point0;var i;switch(Q=t[0]-n[0],J=t[1]-n[1],H){case p:case h:W&&(Q=v(G-r,_(X-w,Q)),o=r+Q,M=w+Q),U&&(J=v($-l,_(K-z,J)),u=l+J,P=z+J);break;case g:te[1]?(W&&(o=v(G,_(X,te[0][0])),M=v(G,_(X,te[1][0])),W=1),U&&(u=v($,_(K,te[0][1])),P=v($,_(K,te[1][1])),U=1)):(W<0?(Q=v(G-r,_(X-r,Q)),o=r+Q,M=w):W>0&&(Q=v(G-w,_(X-w,Q)),o=r,M=w+Q),U<0?(J=v($-l,_(K-l,J)),u=l+J,P=z):U>0&&(J=v($-z,_(K-z,J)),u=l,P=z+J));break;case m:W&&(o=v(G,_(X,r-Q*W)),M=v(G,_(X,w+Q*W))),U&&(u=v($,_(K,l-J*U)),P=v($,_(K,z+J*U)))}M<o&&(W*=-1,i=r,r=w,w=i,i=o,o=M,M=i,R in C&&ie.attr("cursor",S[R=C[R]])),P<u&&(U*=-1,i=l,l=z,z=i,i=u,u=P,P=i,R in A&&ie.attr("cursor",S[R=A[R]])),Y.selection&&(Z=Y.selection),D&&(o=Z[0][0],M=Z[1][0]),B&&(u=Z[0][1],P=Z[1][1]),Z[0][0]===o&&Z[0][1]===u&&Z[1][0]===M&&Z[1][1]===P||(Y.selection=[[o,u],[M,P]],j.call(V),ne.brush(e,H.name))}function ce(e){if(d(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else(0,i.D)(e.view,I),oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);re.attr("pointer-events","all"),ie.attr("cursor",S.overlay),Y.selection&&(Z=Y.selection),N(Z)&&(Y.selection=null,j.call(V)),ne.end(e,H.name)}function le(e){switch(e.keyCode){case 16:ee=W&&U;break;case 18:H===g&&(W&&(w=M-Q*W,r=o+Q*W),U&&(z=P-J*U,l=u+J*U),H=m,se(e));break;case 32:H!==g&&H!==m||(W<0?w=M-Q:W>0&&(r=o-Q),U<0?z=P-J:U>0&&(l=u-J),H=p,ie.attr("cursor",S.selection),se(e));break;default:return}f(e)}function ue(e){switch(e.keyCode){case 16:ee&&(D=B=ee=!1,se(e));break;case 18:H===m&&(W<0?w=M:W>0&&(r=o),U<0?z=P:U>0&&(l=u),H=g,se(e));break;case 32:H===p&&(e.altKey?(W&&(w=M-Q*W,r=o+Q*W),U&&(z=P-J*U,l=u+J*U),H=m):(W<0?w=M:W>0&&(r=o),U<0?z=P:U>0&&(l=u),H=g),ie.attr("cursor",S[R]),se(e));break;default:return}f(e)}}function U(e){F(this,arguments).moved(e)}function Y(e){F(this,arguments).ended(e)}function q(){var t=this.__brush||{selection:null};return t.extent=w(n.apply(this,arguments)),t.dim=e,t}return R.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){F(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){F(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=F(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=(0,o.Z)(a,s);function l(e){r.selection=1===e&&null===s?null:c(e),j.call(t),i.brush()}return null!==a&&null!==s?l:l(1)})):t.each((function(){var t=this,i=arguments,o=t.__brush,a=e.input("function"==typeof n?n.apply(t,i):n,o.extent),s=F(t,i).beforestart();(0,c.e1)(t),o.selection=null===a?null:a,j.call(t),s.start(r).brush(r).end(r)}))},R.clear=function(e,t){R.move(e,null,t)},H.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=(0,a.Z)(this.that).datum();B.call(t,this.that,new u(t,{sourceEvent:n,target:R,selection:e.output(this.state.selection),mode:r,dispatch:B}),i)}},R.extent=function(e){return arguments.length?(n="function"==typeof e?e:l(w(e)),R):n},R.filter=function(e){return arguments.length?(y="function"==typeof e?e:l(!!e),R):y},R.touchable=function(e){return arguments.length?(M="function"==typeof e?e:l(!!e),R):M},R.handleSize=function(e){return arguments.length?(V=+e,R):V},R.keyModifiers=function(e){return arguments.length?(O=!!e,R):O},R.on=function(){var e=B.on.apply(B,arguments);return e===B?R:e},R}},6788:(e,t,n)=>{"use strict";n.d(t,{Il:()=>i,xV:()=>o,J5:()=>a,ZP:()=>y,SU:()=>k,B8:()=>M,Ss:()=>S});var r=n(915);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[s,s,s,c]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,c]+"\\)$"),g=new RegExp("^hsl\\("+[c,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[c,l,l,c]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function y(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new S(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new S(t[1],t[2],t[3],1):(t=f.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?x(t[1],t[2],t[3],t[4]):(t=p.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?E(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?E(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?w(b[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function w(e){return new S(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new S(e,t,n,r)}function k(e){return e instanceof i||(e=y(e)),e?new S((e=e.rgb()).r,e.g,e.b,e.opacity):new S}function M(e,t,n,r){return 1===arguments.length?k(e):new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function C(){return"#"+T(this.r)+T(this.g)+T(this.b)}function A(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function T(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function E(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new P(e,t,n,r)}function z(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=y(e)),!e)return new P;if(e instanceof P)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-o,l=(a+o)/2;return c?(s=t===a?(n-r)/c+6*(n<r):n===a?(r-t)/c+2:(t-n)/c+4,c/=l<.5?a+o:2-a-o,s*=60):c=l>0&&l<1?0:s,new P(s,c,l,e.opacity)}function P(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function I(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.Z)(i,y,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return z(this).formatHsl()},formatRgb:_,toString:_}),(0,r.Z)(S,M,(0,r.l)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:A,toString:A})),(0,r.Z)(P,(function(e,t,n,r){return 1===arguments.length?z(e):new P(e,t,n,null==r?1:r)}),(0,r.l)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new P(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new S(I(e>=240?e-240:e+120,i,r),I(e,i,r),I(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},915:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:()=>r,l:()=>i})},2983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r={value:()=>{}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function c(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<l;)if(n=(e=i[o]).type)r[n]=c(r[n],e.name,t);else if(null==t)for(n in r)r[n]=c(r[n],e.name,null);return this}for(;++o<l;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const l=i},4582:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dispatch:()=>r.Z});var r=n(2983)},1921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,D:()=>a});var r=n(2721),i=n(729);function o(e){var t=e.document.documentElement,n=(0,r.Z)(e).on("dragstart.drag",i.ZP,i.Dd);"onselectstart"in t?n.on("selectstart.drag",i.ZP,i.Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a(e,t){var n=e.document.documentElement,o=(0,r.Z)(e).on("dragstart.drag",null);t&&(o.on("click.drag",i.ZP,i.Dd),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},729:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>r,Dd:()=>i,rG:()=>o,ZP:()=>a});const r={passive:!1},i={capture:!0,passive:!1};function o(e){e.stopImmediatePropagation()}function a(e){e.preventDefault(),e.stopImmediatePropagation()}},2047:(e,t,n)=>{"use strict";function r(e){return--e*e*e+1}function i(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.d(t,{_e:()=>r,tw:()=>i})},9677:(e,t,n)=>{"use strict";function r(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function i(e,t){return fetch(e,t).then(r)}function o(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function a(e,t){return fetch(e,t).then(o)}n.r(t),n.d(t,{blob:()=>i,buffer:()=>a,csv:()=>w,dsv:()=>y,html:()=>T,image:()=>k,json:()=>S,svg:()=>E,text:()=>v,tsv:()=>x,xml:()=>A});var s={},c={};function l(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function u(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function d(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function f(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,l=0,u=o<=0,d=!1;function f(){if(u)return c;if(d)return d=!1,s;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?u=!0:10===(r=e.charCodeAt(a++))?d=!0:13===r&&(d=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))d=!0;else if(13===r)d=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=f())!==c;){for(var h=[];r!==s&&r!==c;)h.push(r),r=f();t&&null==(h=t(h,l++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+d(-r,6):r>9999?"+"+d(r,6):d(r,4))+"-"+d(n.getUTCMonth()+1,2)+"-"+d(n.getUTCDate(),2)+(s?"T"+d(i,2)+":"+d(o,2)+":"+d(a,2)+"."+d(s,3)+"Z":a?"T"+d(i,2)+":"+d(o,2)+":"+d(a,2)+"Z":o||i?"T"+d(i,2)+":"+d(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=l(e);return function(r,i){return t(n(r),i,e)}}(e,t):l(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=u(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=u(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var h=f(","),p=h.parse,g=(h.parseRows,h.format,h.formatBody,h.formatRows,h.formatRow,h.formatValue,f("\t")),m=g.parse;function b(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function v(e,t){return fetch(e,t).then(b)}function _(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),v(t,n).then((function(t){return e(t,r)}))}}function y(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=f(e);return v(t,n).then((function(e){return i.parse(e,r)}))}g.parseRows,g.format,g.formatBody,g.formatRows,g.formatRow,g.formatValue;var w=_(p),x=_(m);function k(e,t){return new Promise((function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function M(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function S(e,t){return fetch(e,t).then(M)}function C(e){return(t,n)=>v(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}const A=C("application/xml");var T=C("text/html"),E=C("image/svg+xml")},4467:(e,t,n)=>{"use strict";n.d(t,{wx:()=>o,yi:()=>a,ZP:()=>s});var r=n(4956);function i(e,t){return function(n){return e+n*t}}function o(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):(0,r.Z)(isNaN(e)?t:e)}},4956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>()=>e},8748:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:()=>r})},5820:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,hD:()=>c});var r=n(6788);function i(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var o=n(4467);const a=function e(t){var n=(0,o.yi)(t);function i(e,t){var i=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),c=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=c(t),e+""}}return i.gamma=e,i}(1);function s(e){return function(t){var n,i,o=t.length,a=new Array(o),s=new Array(o),c=new Array(o);for(n=0;n<o;++n)i=(0,r.B8)(t[n]),a[n]=i.r||0,s[n]=i.g||0,c[n]=i.b||0;return a=e(a),s=e(s),c=e(c),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=c(e),i+""}}}var c=s((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,c=r<t-1?e[r+2]:2*a-o;return i((n-r/t)*t,s,o,a,c)}}));s((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],c=e[(r+2)%t];return i((n-r/t)*t,o,a,s,c)}}))},1144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8748),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");function a(e,t){var n,a,s,c=i.lastIndex=o.lastIndex=0,l=-1,u=[],d=[];for(e+="",t+="";(n=i.exec(e))&&(a=o.exec(t));)(s=a.index)>c&&(s=t.slice(c,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:(0,r.Z)(n,a)})),c=o.lastIndex;return c<t.length&&(s=t.slice(c),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,r=0;r<t;++r)u[(n=d[r]).i]=n.x(e);return u.join("")})}},6814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(6788),i=n(5820);function o(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=f(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function a(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var s=n(8748);function c(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=f(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var l=n(1144),u=n(4956);function d(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function f(e,t){var n,f,h=typeof t;return null==t||"boolean"===h?(0,u.Z)(t):("number"===h?s.Z:"string"===h?(n=(0,r.ZP)(t))?(t=n,i.ZP):l.Z:t instanceof r.ZP?i.ZP:t instanceof Date?a:(f=t,!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(t)?o:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?c:s.Z:d))(e,t)}},400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{path:()=>r.Z});var r=n(1698)},1698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});const r=Math.PI,i=2*r,o=1e-6,a=i-o;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function c(){return new s}s.prototype=c.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,i,a){e=+e,t=+t,n=+n,i=+i,a=+a;var s=this._x1,c=this._y1,l=n-e,u=i-t,d=s-e,f=c-t,h=d*d+f*f;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>o)if(Math.abs(f*l-u*d)>o&&a){var p=n-s,g=i-c,m=l*l+u*u,b=p*p+g*g,v=Math.sqrt(m),_=Math.sqrt(h),y=a*Math.tan((r-Math.acos((m+h-b)/(2*v*_)))/2),w=y/_,x=y/v;Math.abs(w-1)>o&&(this._+="L"+(e+w*d)+","+(t+w*f)),this._+="A"+a+","+a+",0,0,"+ +(f*p>d*g)+","+(this._x1=e+x*l)+","+(this._y1=t+x*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,s,c,l){e=+e,t=+t,l=!!l;var u=(n=+n)*Math.cos(s),d=n*Math.sin(s),f=e+u,h=t+d,p=1^l,g=l?s-c:c-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>o||Math.abs(this._y1-h)>o)&&(this._+="L"+f+","+h),n&&(g<0&&(g=g%i+i),g>a?this._+="A"+n+","+n+",0,1,"+p+","+(e-u)+","+(t-d)+"A"+n+","+n+",0,1,"+p+","+(this._x1=f)+","+(this._y1=h):g>o&&(this._+="A"+n+","+n+",0,"+ +(g>=r)+","+p+","+(this._x1=e+n*Math.cos(c))+","+(this._y1=t+n*Math.sin(c))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const l=c},1860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{randomBates:()=>l,randomBernoulli:()=>f,randomBeta:()=>g,randomBinomial:()=>m,randomCauchy:()=>v,randomExponential:()=>u,randomGamma:()=>p,randomGeometric:()=>h,randomInt:()=>o,randomIrwinHall:()=>c,randomLcg:()=>x,randomLogNormal:()=>s,randomLogistic:()=>_,randomNormal:()=>a,randomPareto:()=>d,randomPoisson:()=>y,randomUniform:()=>i,randomWeibull:()=>b});const r=Math.random,i=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(r),o=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(r),a=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(r),s=function e(t){var n=a.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(r),c=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(r),l=function e(t){var n=c.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(r),u=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(r),d=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(r),f=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(r),h=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(r),p=function e(t){var n=a.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,o=1/(3*Math.sqrt(i)),a=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),s=1+o*e}while(s<=0);s*=s*s;var c=1-t()}while(c>=1-.0331*e*e*e*e&&Math.log(c)>=.5*e*e+i*(1-s+Math.log(s)));return i*s*a()*r}}return r.source=e,r}(r),g=function e(t){var n=p.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(r),m=function e(t){var n=h.source(t),r=g.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,o=e,a=t;o*a>16&&o*(1-a)>16;){var s=Math.floor((o+1)*a),c=r(s,o-s+1)();c<=a?(i+=s,o-=s,a=(a-c)/(1-c)):(o=s-1,a/=c)}for(var l=a<.5,u=n(l?a:1-a),d=u(),f=0;d<=o;++f)d+=u();return i+(l?f:o-f)}}return i.source=e,i}(r),b=function e(t){function n(e,n,r){var i;return 0==(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(r),v=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(r),_=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(r),y=function e(t){var n=p.source(t),r=m.source(t);function i(e){return function(){for(var i=0,o=e;o>16;){var a=Math.floor(.875*o),s=n(a)();if(s>o)return i+r(a-1,o/s)();i+=a,o-=s}for(var c=-Math.log1p(-t()),l=0;c<=o;++l)c-=Math.log1p(-t());return i+l}}return i.source=e,i}(r),w=1/4294967296;function x(e=Math.random()){let t=0|(0<=e&&e<1?e/w:Math.abs(e));return()=>(t=1664525*t+1013904223|0,w*(t>>>0))}},9818:(e,t,n)=>{"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}n.r(t),n.d(t,{interpolateBlues:()=>oe,interpolateBrBG:()=>b,interpolateBuGn:()=>N,interpolateBuPu:()=>B,interpolateCividis:()=>me,interpolateCool:()=>Be,interpolateCubehelixDefault:()=>Ne,interpolateGnBu:()=>R,interpolateGreens:()=>se,interpolateGreys:()=>le,interpolateInferno:()=>Ge,interpolateMagma:()=>Ze,interpolateOrRd:()=>F,interpolateOranges:()=>ge,interpolatePRGn:()=>_,interpolatePiYG:()=>w,interpolatePlasma:()=>$e,interpolatePuBu:()=>Y,interpolatePuBuGn:()=>W,interpolatePuOr:()=>k,interpolatePuRd:()=>Z,interpolatePurples:()=>de,interpolateRainbow:()=>Re,interpolateRdBu:()=>S,interpolateRdGy:()=>A,interpolateRdPu:()=>$,interpolateRdYlBu:()=>E,interpolateRdYlGn:()=>P,interpolateReds:()=>he,interpolateSinebow:()=>We,interpolateSpectral:()=>D,interpolateTurbo:()=>Ue,interpolateViridis:()=>qe,interpolateWarm:()=>Oe,interpolateYlGn:()=>J,interpolateYlGnBu:()=>K,interpolateYlOrBr:()=>te,interpolateYlOrRd:()=>re,schemeAccent:()=>o,schemeBlues:()=>ie,schemeBrBG:()=>m,schemeBuGn:()=>L,schemeBuPu:()=>O,schemeCategory10:()=>i,schemeDark2:()=>a,schemeGnBu:()=>V,schemeGreens:()=>ae,schemeGreys:()=>ce,schemeOrRd:()=>j,schemeOranges:()=>pe,schemePRGn:()=>v,schemePaired:()=>s,schemePastel1:()=>c,schemePastel2:()=>l,schemePiYG:()=>y,schemePuBu:()=>U,schemePuBuGn:()=>H,schemePuOr:()=>x,schemePuRd:()=>q,schemePurples:()=>ue,schemeRdBu:()=>M,schemeRdGy:()=>C,schemeRdPu:()=>G,schemeRdYlBu:()=>T,schemeRdYlGn:()=>z,schemeReds:()=>fe,schemeSet1:()=>u,schemeSet2:()=>d,schemeSet3:()=>f,schemeSpectral:()=>I,schemeTableau10:()=>h,schemeYlGn:()=>Q,schemeYlGnBu:()=>X,schemeYlOrBr:()=>ee,schemeYlOrRd:()=>ne});const i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),l=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),f=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var p=n(5820);const g=e=>(0,p.hD)(e[e.length-1]);var m=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r);const b=g(m);var v=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r);const _=g(v);var y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r);const w=g(y);var x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r);const k=g(x);var M=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r);const S=g(M);var C=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r);const A=g(C);var T=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r);const E=g(T);var z=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r);const P=g(z);var I=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r);const D=g(I);var L=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r);const N=g(L);var O=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r);const B=g(O);var V=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r);const R=g(V);var j=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r);const F=g(j);var H=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r);const W=g(H);var U=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r);const Y=g(U);var q=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r);const Z=g(q);var G=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r);const $=g(G);var X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r);const K=g(X);var Q=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r);const J=g(Q);var ee=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r);const te=g(ee);var ne=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r);const re=g(ne);var ie=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r);const oe=g(ie);var ae=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r);const se=g(ae);var ce=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r);const le=g(ce);var ue=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r);const de=g(ue);var fe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r);const he=g(fe);var pe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r);const ge=g(pe);function me(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var be=n(915),ve=n(6788);const _e=Math.PI/180,ye=180/Math.PI;var we=-.14861,xe=1.78277,ke=-.29227,Me=-.90649,Se=1.97294,Ce=Se*Me,Ae=Se*xe,Te=xe*ke-Me*we;function Ee(e){if(e instanceof Pe)return new Pe(e.h,e.s,e.l,e.opacity);e instanceof ve.Ss||(e=(0,ve.SU)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Te*r+Ce*t-Ae*n)/(Te+Ce-Ae),o=r-i,a=(Se*(n-i)-ke*o)/Me,s=Math.sqrt(a*a+o*o)/(Se*i*(1-i)),c=s?Math.atan2(a,o)*ye-120:NaN;return new Pe(c<0?c+360:c,s,i,e.opacity)}function ze(e,t,n,r){return 1===arguments.length?Ee(e):new Pe(e,t,n,null==r?1:r)}function Pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,be.Z)(Pe,ze,(0,be.l)(ve.Il,{brighter:function(e){return e=null==e?ve.J5:Math.pow(ve.J5,e),new Pe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ve.xV:Math.pow(ve.xV,e),new Pe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*_e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ve.Ss(255*(t+n*(we*r+xe*i)),255*(t+n*(ke*r+Me*i)),255*(t+n*(Se*r)),this.opacity)}}));var Ie=n(4467);function De(e){return function t(n){function r(t,r){var i=e((t=ze(t)).h,(r=ze(r)).h),o=(0,Ie.ZP)(t.s,r.s),a=(0,Ie.ZP)(t.l,r.l),s=(0,Ie.ZP)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}De(Ie.wx);var Le=De(Ie.ZP);const Ne=Le(ze(300,.5,0),ze(-240,.5,1));var Oe=Le(ze(-100,.75,.35),ze(80,1.5,.8)),Be=Le(ze(260,.75,.35),ze(80,1.5,.8)),Ve=ze();function Re(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ve.h=360*e-100,Ve.s=1.5-1.5*t,Ve.l=.8-.9*t,Ve+""}var je=(0,ve.B8)(),Fe=Math.PI/3,He=2*Math.PI/3;function We(e){var t;return e=(.5-e)*Math.PI,je.r=255*(t=Math.sin(e))*t,je.g=255*(t=Math.sin(e+Fe))*t,je.b=255*(t=Math.sin(e+He))*t,je+""}function Ue(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Ye(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const qe=Ye(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ze=Ye(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ge=Ye(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$e=Ye(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},7767:(e,t,n)=>{"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function i(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}n.r(t),n.d(t,{interpolateCool:()=>ei,interpolateCubehelixDefault:()=>Qr,interpolateInferno:()=>ai,interpolateMagma:()=>oi,interpolatePlasma:()=>si,interpolateRainbow:()=>ni,interpolateViridis:()=>ii,interpolateWarm:()=>Jr,scaleBand:()=>A,scaleIdentity:()=>Ze,scaleImplicit:()=>S,scaleLinear:()=>qe,scaleLog:()=>tt,scaleOrdinal:()=>C,scalePoint:()=>E,scalePow:()=>rt,scaleQuantile:()=>ot,scaleQuantize:()=>at,scaleSequential:()=>ci,scaleSqrt:()=>it,scaleThreshold:()=>st,scaleTime:()=>Mr,scaleUtc:()=>Pr,schemeCategory10:()=>Dr,schemeCategory20:()=>Or,schemeCategory20b:()=>Lr,schemeCategory20c:()=>Nr});var o=i(r),a=o.right;o.left;const s=a;var c=Array.prototype,l=(c.slice,c.map,Math.sqrt(50)),u=Math.sqrt(10),d=Math.sqrt(2);function f(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=function(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=l?10:o>=u?5:o>=d?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=l?10:o>=u?5:o>=d?2:1)}(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}function h(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=l?i*=10:o>=u?i*=5:o>=d&&(i*=2),t<e?-i:i}function p(e){return null===e?NaN:+e}function g(e,t,n){if(null==n&&(n=p),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}var m="$";function b(){}function v(e,t){var n=new b;if(e instanceof b)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}b.prototype=v.prototype={constructor:b,has:function(e){return m+e in this},get:function(e){return this[m+e]},set:function(e,t){return this[m+e]=t,this},remove:function(e){var t=m+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===m&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===m&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===m&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===m&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===m&&++e;return e},empty:function(){for(var e in this)if(e[0]===m)return!1;return!0},each:function(e){for(var t in this)t[0]===m&&e(this[t],t.slice(1),this)}};const _=v;function y(){}var w=_.prototype;y.prototype=function(e,t){var n=new y;if(e instanceof y)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}.prototype={constructor:y,has:w.has,add:function(e){return this[m+(e+="")]=e,this},remove:w.remove,clear:w.clear,values:w.keys,size:w.size,empty:w.empty,each:w.each};var x=Array.prototype,k=x.map,M=x.slice,S={name:"implicit"};function C(e){var t=_(),n=[],r=S;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==S)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:M.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=_();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=M.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return C().domain(n).range(e).unknown(r)},i}function A(){var e,t,n=C().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,c=0,l=.5;function u(){var n=r().length,u=o[1]<o[0],d=o[u-0],f=o[1-u];e=(f-d)/Math.max(1,n-s+2*c),a&&(e=Math.floor(e)),d+=(f-d-e*(n-s))*l,t=e*(1-s),a&&(d=Math.round(d),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return d+e*t}));return i(u?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],u()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,u()):a},n.padding=function(e){return arguments.length?(s=c=Math.max(0,Math.min(1,e)),u()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u()):s},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u()):l},n.copy=function(){return A().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(c).align(l)},u()}function T(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T(t())},e}function E(){return T(A().paddingInner(1))}function z(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function P(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function I(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function D(){}var L=.7,N=1/L,O="\\s*([+-]?\\d+)\\s*",B="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R=/^#([0-9a-f]{3,8})$/,j=new RegExp("^rgb\\("+[O,O,O]+"\\)$"),F=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),H=new RegExp("^rgba\\("+[O,O,O,B]+"\\)$"),W=new RegExp("^rgba\\("+[V,V,V,B]+"\\)$"),U=new RegExp("^hsl\\("+[B,V,V]+"\\)$"),Y=new RegExp("^hsla\\("+[B,V,V,B]+"\\)$"),q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Z(){return this.rgb().formatHex()}function G(){return this.rgb().formatRgb()}function $(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=R.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?X(t):3===n?new ee(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?K(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?K(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=j.exec(e))?new ee(t[1],t[2],t[3],1):(t=F.exec(e))?new ee(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=H.exec(e))?K(t[1],t[2],t[3],t[4]):(t=W.exec(e))?K(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=U.exec(e))?ie(t[1],t[2]/100,t[3]/100,1):(t=Y.exec(e))?ie(t[1],t[2]/100,t[3]/100,t[4]):q.hasOwnProperty(e)?X(q[e]):"transparent"===e?new ee(NaN,NaN,NaN,0):null}function X(e){return new ee(e>>16&255,e>>8&255,255&e,1)}function K(e,t,n,r){return r<=0&&(e=t=n=NaN),new ee(e,t,n,r)}function Q(e){return e instanceof D||(e=$(e)),e?new ee((e=e.rgb()).r,e.g,e.b,e.opacity):new ee}function J(e,t,n,r){return 1===arguments.length?Q(e):new ee(e,t,n,null==r?1:r)}function ee(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function te(){return"#"+re(this.r)+re(this.g)+re(this.b)}function ne(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function re(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ie(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ae(e,t,n,r)}function oe(e){if(e instanceof ae)return new ae(e.h,e.s,e.l,e.opacity);if(e instanceof D||(e=$(e)),!e)return new ae;if(e instanceof ae)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new ae(a,s,c,e.opacity)}function ae(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function se(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ce(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function le(e){return function(){return e}}function ue(e,t){return function(n){return e+n*t}}function de(e,t){var n=t-e;return n?ue(e,n):le(isNaN(e)?t:e)}P(D,$,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Z,formatHex:Z,formatHsl:function(){return oe(this).formatHsl()},formatRgb:G,toString:G}),P(ee,J,I(D,{brighter:function(e){return e=null==e?N:Math.pow(N,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?L:Math.pow(L,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ne,toString:ne})),P(ae,(function(e,t,n,r){return 1===arguments.length?oe(e):new ae(e,t,n,null==r?1:r)}),I(D,{brighter:function(e){return e=null==e?N:Math.pow(N,e),new ae(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?L:Math.pow(L,e),new ae(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ee(se(e>=240?e-240:e+120,i,r),se(e,i,r),se(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const fe=function e(t){var n=function(e){return 1==(e=+e)?de:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):le(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=J(e)).r,(t=J(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=de(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function he(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=J(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}function pe(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=we(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function ge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function me(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=we(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}he((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return ce((n-r/t)*t,a,i,o,s)}})),he((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return ce((n-r/t)*t,i,o,a,s)}}));var be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ve=new RegExp(be.source,"g");function _e(e,t){var n,r,i,o=be.lastIndex=ve.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=be.exec(e))&&(r=ve.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:z(n,r)})),o=ve.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function ye(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function we(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?le(t):("number"===i?z:"string"===i?(n=$(t))?(t=n,fe):_e:t instanceof $?fe:t instanceof Date?ge:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?pe:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?me:z:ye))(e,t)}function xe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ke(e){return function(){return e}}function Me(e){return+e}var Se=[0,1];function Ce(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ke(t)}function Ae(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function Te(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),c=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<i;)o[c]=n(e[c],e[c+1]),a[c]=r(t[c],t[c+1]);return function(t){var n=s(e,t,1,i)-1;return a[n](o[n](t))}}function Ee(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function ze(e,t){var n,r,i,o=Se,a=Se,s=we,c=!1;function l(){return n=Math.min(o.length,a.length)>2?Te:Ae,r=i=null,u}function u(t){return(r||(r=n(o,a,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return u.invert=function(e){return(i||(i=n(a,o,Ce,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},u.domain=function(e){return arguments.length?(o=k.call(e,Me),l()):o.slice()},u.range=function(e){return arguments.length?(a=M.call(e),l()):a.slice()},u.rangeRound=function(e){return a=M.call(e),s=xe,l()},u.clamp=function(e){return arguments.length?(c=!!e,l()):c},u.interpolate=function(e){return arguments.length?(s=e,l()):s},l()}var Pe,Ie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function De(e){if(!(t=Ie.exec(e)))throw new Error("invalid format: "+e);var t;return new Le({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Le(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ne(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Oe(e){return(e=Ne(Math.abs(e)))?e[1]:NaN}function Be(e,t){var n=Ne(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}De.prototype=Le.prototype,Le.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ve={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Be(100*e,t)},r:Be,s:function(e,t){var n=Ne(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Pe=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ne(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Re(e){return e}var je,Fe,He,We=Array.prototype.map,Ue=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ye(e){var t=e.domain;return e.ticks=function(e){var n=t();return f(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var r,i=e[0],o=e[e.length-1],a=h(i,o,null==t?10:t);switch((n=De(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oe(t)/3)))-Oe(Math.abs(e)))}(a,s))||(n.precision=r),He(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oe(t)-Oe(e))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-Oe(Math.abs(e)))}(a))||(n.precision=r-2*("%"===n.type))}return Fe(n)}(t(),e,n)},e.nice=function(n){var r=t(),i=r.length-1,o=null==n?10:n,a=r[0],s=r[i],c=h(a,s,o);return c&&(c=h(Math.floor(a/c)*c,Math.ceil(s/c)*c,o),r[0]=Math.floor(a/c)*c,r[i]=Math.ceil(s/c)*c,t(r)),e},e}function qe(){var e=ze(Ce,z);return e.copy=function(){return Ee(e,qe())},Ye(e)}function Ze(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=k.call(n,Me),t):e.slice()},t.copy=function(){return Ze().domain(e)},Ye(t)}function Ge(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function $e(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:ke(t)}function Xe(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Ke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qe(e){return 10===e?Ke:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Je(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function et(e){return function(t){return-e(-t)}}function tt(){var e=ze($e,Xe).domain([1,10]),t=e.domain,n=10,r=Je(10),i=Qe(10);function o(){return r=Je(n),i=Qe(n),t()[0]<0&&(r=et(r),i=et(i)),e}return e.base=function(e){return arguments.length?(n=+e,o()):n},e.domain=function(e){return arguments.length?(t(e),o()):t()},e.ticks=function(e){var o,a=t(),s=a[0],c=a[a.length-1];(o=c<s)&&(h=s,s=c,c=h);var l,u,d,h=r(s),p=r(c),g=null==e?10:+e,m=[];if(!(n%1)&&p-h<g){if(h=Math.round(h)-1,p=Math.round(p)+1,s>0){for(;h<p;++h)for(u=1,l=i(h);u<n;++u)if(!((d=l*u)<s)){if(d>c)break;m.push(d)}}else for(;h<p;++h)for(u=n-1,l=i(h);u>=1;--u)if(!((d=l*u)<s)){if(d>c)break;m.push(d)}}else m=f(h,p,Math.min(p-h,g)).map(i);return o?m.reverse():m},e.tickFormat=function(t,o){if(null==o&&(o=10===n?".0e":","),"function"!=typeof o&&(o=Fe(o)),t===1/0)return o;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/i(Math.round(r(e)));return t*n<n-.5&&(t*=n),t<=a?o(e):""}},e.nice=function(){return t(Ge(t(),{floor:function(e){return i(Math.floor(r(e)))},ceil:function(e){return i(Math.ceil(r(e)))}}))},e.copy=function(){return Ee(e,tt().base(n))},e}function nt(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function rt(){var e=1,t=ze((function(t,n){return(n=nt(n,e)-(t=nt(t,e)))?function(r){return(nt(r,e)-t)/n}:ke(n)}),(function(t,n){return n=nt(n,e)-(t=nt(t,e)),function(r){return nt(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return Ee(t,rt().exponent(e))},Ye(t)}function it(){return rt().exponent(.5)}function ot(){var e=[],t=[],n=[];function i(){var r=0,i=Math.max(1,t.length);for(n=new Array(i-1);++r<i;)n[r-1]=g(e,r/i);return o}function o(e){if(!isNaN(e=+e))return t[s(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r),i()},o.range=function(e){return arguments.length?(t=M.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return ot().domain(e).range(t)},o}function at(){var e=0,t=1,n=1,r=[.5],i=[0,1];function o(e){if(e<=e)return i[s(r,e,0,n)]}function a(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],a()):[e,t]},o.range=function(e){return arguments.length?(n=(i=M.call(e)).length-1,a()):i.slice()},o.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=n?[r[n-1],t]:[r[a-1],r[a]]},o.copy=function(){return at().domain([e,t]).range(i)},Ye(o)}function st(){var e=[.5],t=[0,1],n=1;function r(r){if(r<=r)return t[s(e,r,0,n)]}return r.domain=function(i){return arguments.length?(e=M.call(i),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=M.call(i),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},r.copy=function(){return st().domain(e).range(t)},r}je=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Re:(t=We.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Re:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(We.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=De(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,m=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):Ve[v]||(void 0===m&&(m=12),b=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===f?o:/[%p]/.test(v)?c:"",w=Ve[v],x=/[defgprs%]/.test(v);function k(e){var i,o,c,f=_,k=y;if("c"===v)k=w(e)+k,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),f=(M?"("===d?d:l:"-"===d||"("===d?"":d)+f,k=("s"===v?Ue[8+Pe/3]:"")+k+(M&&"("===d?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){k=(46===c?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!h&&(e=r(e,1/0));var S=f.length+e.length+k.length,C=S<p?new Array(p-S+1).join(t):"";switch(g&&h&&(e=r(C+e,C.length?p-k.length:1/0),C=""),n){case"<":e=f+e+k+C;break;case"=":e=f+C+e+k;break;case"^":e=C.slice(0,S=C.length>>1)+f+e+k+C.slice(S);break;default:e=C+f+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=De(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Oe(t)/3))),i=Math.pow(10,-r),o=Ue[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Fe=je.format,He=je.formatPrefix;var ct=new Date,lt=new Date;function ut(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return ut((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return ct.setTime(+t),lt.setTime(+r),e(ct),e(lt),Math.floor(n(ct,lt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var dt=ut((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));dt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ut((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const ft=dt;dt.range;var ht=ut((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const pt=ht;ht.range;var gt=1e3,mt=6e4,bt=36e5,vt=864e5,_t=6048e5;function yt(e){return ut((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/_t}))}var wt=yt(0),xt=yt(1),kt=yt(2),Mt=yt(3),St=yt(4),Ct=yt(5),At=yt(6),Tt=(wt.range,xt.range,kt.range,Mt.range,St.range,Ct.range,At.range,ut((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/vt}),(function(e){return e.getDate()-1})));const Et=Tt;Tt.range;var zt=ut((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*gt-e.getMinutes()*mt)}),(function(e,t){e.setTime(+e+t*bt)}),(function(e,t){return(t-e)/bt}),(function(e){return e.getHours()}));const Pt=zt;zt.range;var It=ut((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*gt)}),(function(e,t){e.setTime(+e+t*mt)}),(function(e,t){return(t-e)/mt}),(function(e){return e.getMinutes()}));const Dt=It;It.range;var Lt=ut((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*gt)}),(function(e,t){return(t-e)/gt}),(function(e){return e.getUTCSeconds()}));const Nt=Lt;Lt.range;var Ot=ut((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Ot.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ut((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Ot:null};const Bt=Ot;function Vt(e){return ut((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/_t}))}Ot.range;var Rt=Vt(0),jt=Vt(1),Ft=Vt(2),Ht=Vt(3),Wt=Vt(4),Ut=Vt(5),Yt=Vt(6),qt=(Rt.range,jt.range,Ft.range,Ht.range,Wt.range,Ut.range,Yt.range,ut((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/vt}),(function(e){return e.getUTCDate()-1})));const Zt=qt;qt.range;var Gt=ut((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Gt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ut((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const $t=Gt;function Xt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}Gt.range;var Jt,en,tn,nn={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,on=/^%/,an=/[\\^$*+?|[\]().{}]/g;function sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function cn(e){return e.replace(an,"\\$&")}function ln(e){return new RegExp("^(?:"+e.map(cn).join("|")+")","i")}function un(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function dn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mn(e,t,n){var r=rn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _n(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function yn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xn(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Sn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Cn(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function An(e,t,n){var r=rn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tn(e,t,n){var r=on.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function En(e,t,n){var r=rn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zn(e,t,n){var r=rn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Pn(e,t){return sn(e.getDate(),t,2)}function In(e,t){return sn(e.getHours(),t,2)}function Dn(e,t){return sn(e.getHours()%12||12,t,2)}function Ln(e,t){return sn(1+Et.count(ft(e),e),t,3)}function Nn(e,t){return sn(e.getMilliseconds(),t,3)}function On(e,t){return Nn(e,t)+"000"}function Bn(e,t){return sn(e.getMonth()+1,t,2)}function Vn(e,t){return sn(e.getMinutes(),t,2)}function Rn(e,t){return sn(e.getSeconds(),t,2)}function jn(e){var t=e.getDay();return 0===t?7:t}function Fn(e,t){return sn(wt.count(ft(e)-1,e),t,2)}function Hn(e){var t=e.getDay();return t>=4||0===t?St(e):St.ceil(e)}function Wn(e,t){return e=Hn(e),sn(St.count(ft(e),e)+(4===ft(e).getDay()),t,2)}function Un(e){return e.getDay()}function Yn(e,t){return sn(xt.count(ft(e)-1,e),t,2)}function qn(e,t){return sn(e.getFullYear()%100,t,2)}function Zn(e,t){return sn((e=Hn(e)).getFullYear()%100,t,2)}function Gn(e,t){return sn(e.getFullYear()%1e4,t,4)}function $n(e,t){var n=e.getDay();return sn((e=n>=4||0===n?St(e):St.ceil(e)).getFullYear()%1e4,t,4)}function Xn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sn(t/60|0,"0",2)+sn(t%60,"0",2)}function Kn(e,t){return sn(e.getUTCDate(),t,2)}function Qn(e,t){return sn(e.getUTCHours(),t,2)}function Jn(e,t){return sn(e.getUTCHours()%12||12,t,2)}function er(e,t){return sn(1+Zt.count($t(e),e),t,3)}function tr(e,t){return sn(e.getUTCMilliseconds(),t,3)}function nr(e,t){return tr(e,t)+"000"}function rr(e,t){return sn(e.getUTCMonth()+1,t,2)}function ir(e,t){return sn(e.getUTCMinutes(),t,2)}function or(e,t){return sn(e.getUTCSeconds(),t,2)}function ar(e){var t=e.getUTCDay();return 0===t?7:t}function sr(e,t){return sn(Rt.count($t(e)-1,e),t,2)}function cr(e){var t=e.getUTCDay();return t>=4||0===t?Wt(e):Wt.ceil(e)}function lr(e,t){return e=cr(e),sn(Wt.count($t(e),e)+(4===$t(e).getUTCDay()),t,2)}function ur(e){return e.getUTCDay()}function dr(e,t){return sn(jt.count($t(e)-1,e),t,2)}function fr(e,t){return sn(e.getUTCFullYear()%100,t,2)}function hr(e,t){return sn((e=cr(e)).getUTCFullYear()%100,t,2)}function pr(e,t){return sn(e.getUTCFullYear()%1e4,t,4)}function gr(e,t){var n=e.getUTCDay();return sn((e=n>=4||0===n?Wt(e):Wt.ceil(e)).getUTCFullYear()%1e4,t,4)}function mr(){return"+0000"}function br(){return"%"}function vr(e){return+e}function _r(e){return Math.floor(+e/1e3)}Jt=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=ln(i),u=un(i),d=ln(o),f=un(o),h=ln(a),p=un(a),g=ln(s),m=un(s),b=ln(c),v=un(c),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Pn,e:Pn,f:On,g:Zn,G:$n,H:In,I:Dn,j:Ln,L:Nn,m:Bn,M:Vn,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:vr,s:_r,S:Rn,u:jn,U:Fn,V:Wn,w:Un,W:Yn,x:null,X:null,y:qn,Y:Gn,Z:Xn,"%":br},y={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Kn,e:Kn,f:nr,g:hr,G:gr,H:Qn,I:Jn,j:er,L:tr,m:rr,M:ir,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:vr,s:_r,S:or,u:ar,U:sr,V:lr,w:ur,W:dr,x:null,X:null,y:fr,Y:pr,Z:mr,"%":br},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:wn,e:wn,f:An,g:bn,G:mn,H:kn,I:kn,j:xn,L:Cn,m:yn,M:Mn,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:_n,Q:En,s:zn,S:Sn,u:fn,U:hn,V:pn,w:dn,W:gn,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:bn,Y:mn,Z:vn,"%":Tn};function x(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=nn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=Qt(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Kt(Qt(o.y,0,1))).getUTCDay(),r=i>4||0===i?jt.ceil(r):jt(r),r=Zt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Xt(Qt(o.y,0,1))).getDay(),r=i>4||0===i?xt.ceil(r):xt(r),r=Et.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Kt(Qt(o.y,0,1)).getUTCDay():Xt(Qt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Kt(o)):Xt(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in nn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),en=Jt.format,Jt.parse,tn=Jt.utcFormat,Jt.utcParse;var yr=31536e6;function wr(e){return new Date(e)}function xr(e){return e instanceof Date?+e:+new Date(+e)}function kr(e,t,n,r,o,a,s,c,l){var u=ze(Ce,z),d=u.invert,f=u.domain,p=l(".%L"),g=l(":%S"),m=l("%I:%M"),b=l("%I %p"),v=l("%a %d"),_=l("%b %d"),y=l("%B"),w=l("%Y"),x=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,yr]];function M(i){return(s(i)<i?p:a(i)<i?g:o(i)<i?m:r(i)<i?b:t(i)<i?n(i)<i?v:_:e(i)<i?y:w)(i)}function S(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,s=i((function(e){return e[2]})).right(x,a);s===x.length?(o=h(n/yr,r/yr,t),t=e):s?(o=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],t=s[0]):(o=h(n,r,t),t=c)}return null==o?t:t.every(o)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(k.call(e,xr)):f().map(wr)},u.ticks=function(e,t){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(e,t){return null==t?M:l(t)},u.nice=function(e,t){var n=f();return(e=S(e,n[0],n[n.length-1],t))?f(Ge(n,e)):u},u.copy=function(){return Ee(u,kr(e,t,n,r,o,a,s,c,l))},u}function Mr(){return kr(ft,pt,wt,Et,Pt,Dt,Nt,Bt,en).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}var Sr=ut((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const Cr=Sr;Sr.range;var Ar=ut((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*bt)}),(function(e,t){return(t-e)/bt}),(function(e){return e.getUTCHours()}));const Tr=Ar;Ar.range;var Er=ut((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*mt)}),(function(e,t){return(t-e)/mt}),(function(e){return e.getUTCMinutes()}));const zr=Er;function Pr(){return kr($t,Cr,Rt,Zt,Tr,zr,Nt,Bt,tn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function Ir(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}Er.range;const Dr=Ir("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Lr=Ir("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Nr=Ir("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Or=Ir("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Br=Math.PI/180,Vr=180/Math.PI,Rr=-.14861,jr=1.78277,Fr=-.29227,Hr=-.90649,Wr=1.97294,Ur=Wr*Hr,Yr=Wr*jr,qr=jr*Fr-Hr*Rr;function Zr(e){if(e instanceof $r)return new $r(e.h,e.s,e.l,e.opacity);e instanceof ee||(e=Q(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(qr*r+Ur*t-Yr*n)/(qr+Ur-Yr),o=r-i,a=(Wr*(n-i)-Fr*o)/Hr,s=Math.sqrt(a*a+o*o)/(Wr*i*(1-i)),c=s?Math.atan2(a,o)*Vr-120:NaN;return new $r(c<0?c+360:c,s,i,e.opacity)}function Gr(e,t,n,r){return 1===arguments.length?Zr(e):new $r(e,t,n,null==r?1:r)}function $r(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Xr(e){return function t(n){function r(t,r){var i=e((t=Gr(t)).h,(r=Gr(r)).h),o=de(t.s,r.s),a=de(t.l,r.l),s=de(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}P($r,Gr,I(D,{brighter:function(e){return e=null==e?N:Math.pow(N,e),new $r(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?L:Math.pow(L,e),new $r(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Br,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ee(255*(t+n*(Rr*r+jr*i)),255*(t+n*(Fr*r+Hr*i)),255*(t+n*(Wr*r)),this.opacity)}})),Xr((function(e,t){var n=t-e;return n?ue(e,n>180||n<-180?n-360*Math.round(n/360):n):le(isNaN(e)?t:e)}));var Kr=Xr(de);const Qr=Kr(Gr(300,.5,0),Gr(-240,.5,1));var Jr=Kr(Gr(-100,.75,.35),Gr(80,1.5,.8)),ei=Kr(Gr(260,.75,.35),Gr(80,1.5,.8)),ti=Gr();function ni(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ti.h=360*e-100,ti.s=1.5-1.5*t,ti.l=.8-.9*t,ti+""}function ri(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const ii=ri(Ir("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var oi=ri(Ir("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ai=ri(Ir("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),si=ri(Ir("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ci(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return ci(e).domain([t,n]).clamp(r)},Ye(i)}},8766:(e,t,n)=>{"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.d(t,{Z:()=>r})},2751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(772),i=n(2368);function o(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i.P&&t.documentElement.namespaceURI===i.P?t.createElement(e):t.createElementNS(n,e)}}function a(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s(e){var t=(0,r.Z)(e);return(t.local?a:o)(t)}},4641:(e,t,n)=>{"use strict";n.r(t),n.d(t,{create:()=>o,creator:()=>r.Z,local:()=>s,matcher:()=>l.Z,namespace:()=>u.Z,namespaces:()=>d.Z,pointer:()=>f.Z,pointers:()=>p,select:()=>i.Z,selectAll:()=>b,selection:()=>m.ZP,selector:()=>v.Z,selectorAll:()=>_.Z,style:()=>y.S,window:()=>w.Z});var r=n(2751),i=n(2721);function o(e){return(0,i.Z)((0,r.Z)(e).call(document.documentElement))}var a=0;function s(){return new c}function c(){this._="@"+(++a).toString(36)}c.prototype=s.prototype={constructor:c,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var l=n(8164),u=n(772),d=n(2368),f=n(1257),h=n(8172);function p(e,t){return e.target&&(e=(0,h.Z)(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>(0,f.Z)(e,t)))}var g=n(8766),m=n(8952);function b(e){return"string"==typeof e?new m.Y1([document.querySelectorAll(e)],[document.documentElement]):new m.Y1([(0,g.Z)(e)],m.Jz)}var v=n(1453),_=n(3238),y=n(7429),w=n(7041)},8164:(e,t,n)=>{"use strict";function r(e){return function(){return this.matches(e)}}function i(e){return function(t){return t.matches(e)}}n.d(t,{Z:()=>r,P:()=>i})},772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2368);function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.Z.hasOwnProperty(t)?{space:r.Z[t],local:e}:e}},2368:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,Z:()=>i});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},1257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8172);function i(e,t){if(e=(0,r.Z)(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}},2721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8952);function i(e){return"string"==typeof e?new r.Y1([[document.querySelector(e)]],[document.documentElement]):new r.Y1([[e]],r.Jz)}},8952:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>oe,ZP:()=>se,Jz:()=>ie});var r=n(1453),i=n(8766),o=n(3238),a=n(8164),s=Array.prototype.find;function c(){return this.firstElementChild}var l=Array.prototype.filter;function u(){return Array.from(this.children)}function d(e){return new Array(e.length)}function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e){return function(){return e}}function p(e,t,n,r,i,o){for(var a,s=0,c=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new f(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function g(e,t,n,r,i,o,a){var s,c,l,u=new Map,d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(p[s]=l=a.call(c,c.__data__,s,t)+"",u.has(l)?i[s]=c:u.set(l,c));for(s=0;s<h;++s)l=a.call(e,o[s],s,o)+"",(c=u.get(l))?(r[s]=c,c.__data__=o[s],u.delete(l)):n[s]=new f(e,o[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(p[s])===c&&(i[s]=c)}function m(e){return e.__data__}function b(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function v(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _=n(772);function y(e){return function(){this.removeAttribute(e)}}function w(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x(e,t){return function(){this.setAttribute(e,t)}}function k(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var C=n(7429);function A(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function z(e){return e.trim().split(/^|\s+/)}function P(e){return e.classList||new I(e)}function I(e){this._node=e,this._names=z(e.getAttribute("class")||"")}function D(e,t){for(var n=P(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function L(e,t){for(var n=P(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function N(e){return function(){D(this,e)}}function O(e){return function(){L(this,e)}}function B(e,t){return function(){(t.apply(this,arguments)?D:L)(this,e)}}function V(){this.textContent=""}function R(e){return function(){this.textContent=e}}function j(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function F(){this.innerHTML=""}function H(e){return function(){this.innerHTML=e}}function W(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}I.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var q=n(2751);function Z(){return null}function G(){var e=this.parentNode;e&&e.removeChild(this)}function $(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Q(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function J(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}var ee=n(7041);function te(e,t,n){var r=(0,ee.Z)(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ne(e,t){return function(){return te(this,e,t)}}function re(e,t){return function(){return te(this,e,t.apply(this,arguments))}}var ie=[null];function oe(e,t){this._groups=e,this._parents=t}function ae(){return new oe([[document.documentElement]],ie)}oe.prototype=ae.prototype={constructor:oe,select:function(e){"function"!=typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a,s,c=t[o],l=c.length,u=i[o]=new Array(l),d=0;d<l;++d)(a=c[d])&&(s=e.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),u[d]=s);return new oe(i,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return(0,i.Z)(e.apply(this,arguments))}}(e):(0,o.Z)(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var c,l=t[s],u=l.length,d=0;d<u;++d)(c=l[d])&&(r.push(e.call(c,c.__data__,d,l)),a.push(c));return new oe(r,a)},selectChild:function(e){return this.select(null==e?c:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,a.P)(e)))},selectChildren:function(e){return this.selectAll(null==e?u:function(e){return function(){return l.call(this.children,e)}}("function"==typeof e?e:(0,a.P)(e)))},filter:function(e){"function"!=typeof e&&(e=(0,a.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],c=s.length,l=r[i]=[],u=0;u<c;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&l.push(o);return new oe(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,m);var n=t?g:p,r=this._parents,i=this._groups;"function"!=typeof e&&(e=h(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],d=i[l],f=d.length,v=b(e.call(u,u&&u.__data__,l,r)),_=v.length,y=s[l]=new Array(_),w=a[l]=new Array(_),x=c[l]=new Array(f);n(u,d,y,w,x,v,t);for(var k,M,S=0,C=0;S<_;++S)if(k=y[S]){for(S>=C&&(C=S+1);!(M=w[C])&&++C<_;);k._next=M||null}}return(a=new oe(a,r))._enter=s,a._exit=c,a},enter:function(){return new oe(this._enter||this._groups.map(d),this._parents)},exit:function(){return new oe(this._exit||this._groups.map(d),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l,u=n[c],d=r[c],f=u.length,h=s[c]=new Array(f),p=0;p<f;++p)(l=u[p]||d[p])&&(h[p]=l);for(;c<i;++c)s[c]=n[c];return new oe(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=v);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new oe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=(0,_.Z)(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?w:y:"function"==typeof t?n.local?S:M:n.local?k:x)(n,t))},style:C.Z,property:function(e,t){return arguments.length>1?this.each((null==t?A:"function"==typeof t?E:T)(e,t)):this.node()[e]},classed:function(e,t){var n=z(e+"");if(arguments.length<2){for(var r=P(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?B:t?N:O)(n,t))},text:function(e){return arguments.length?this.each(null==e?V:("function"==typeof e?j:R)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?W:H)(e)):this.node().innerHTML},raise:function(){return this.each(U)},lower:function(){return this.each(Y)},append:function(e){var t="function"==typeof e?e:(0,q.Z)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:(0,q.Z)(e),i=null==t?Z:"function"==typeof t?t:(0,r.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(G)},clone:function(e){return this.select(e?X:$)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=K(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?J:Q,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?re:ne)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const se=ae},7429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,S:()=>c});var r=n(7041);function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t,n){return arguments.length>1?this.each((null==t?i:"function"==typeof t?a:o)(e,t,null==n?"":n)):c(this.node(),e)}function c(e,t){return e.style.getPropertyValue(t)||(0,r.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},1453:(e,t,n)=>{"use strict";function r(){}function i(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{Z:()=>i})},3238:(e,t,n)=>{"use strict";function r(){return[]}function i(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{Z:()=>i})},8172:(e,t,n)=>{"use strict";function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}n.d(t,{Z:()=>r})},7041:(e,t,n)=>{"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:()=>r})},8098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arc:()=>S,area:()=>D,areaRadial:()=>H,curveBasis:()=>we,curveBasisClosed:()=>ke,curveBasisOpen:()=>Se,curveBumpX:()=>Ae,curveBumpY:()=>Te,curveBundle:()=>ze,curveCardinal:()=>De,curveCardinalClosed:()=>Ne,curveCardinalOpen:()=>Be,curveCatmullRom:()=>je,curveCatmullRomClosed:()=>He,curveCatmullRomOpen:()=>Ue,curveLinear:()=>E,curveLinearClosed:()=>qe,curveMonotoneX:()=>et,curveMonotoneY:()=>tt,curveNatural:()=>it,curveStep:()=>at,curveStepAfter:()=>ct,curveStepBefore:()=>st,line:()=>I,lineRadial:()=>F,linkHorizontal:()=>X,linkRadial:()=>Q,linkVertical:()=>K,pie:()=>O,pointRadial:()=>W,radialArea:()=>H,radialLine:()=>F,stack:()=>ht,stackOffsetDiverging:()=>gt,stackOffsetExpand:()=>pt,stackOffsetNone:()=>lt,stackOffsetSilhouette:()=>mt,stackOffsetWiggle:()=>bt,stackOrderAppearance:()=>vt,stackOrderAscending:()=>yt,stackOrderDescending:()=>xt,stackOrderInsideOut:()=>kt,stackOrderNone:()=>ut,stackOrderReverse:()=>Mt,symbol:()=>be,symbolCircle:()=>J,symbolCross:()=>ee,symbolDiamond:()=>re,symbolSquare:()=>ce,symbolStar:()=>se,symbolTriangle:()=>ue,symbolWye:()=>ge,symbols:()=>me});var r=n(1698);function i(e){return function(){return e}}var o=Math.abs,a=Math.atan2,s=Math.cos,c=Math.max,l=Math.min,u=Math.sin,d=Math.sqrt,f=1e-12,h=Math.PI,p=h/2,g=2*h;function m(e){return e>1?0:e<-1?h:Math.acos(e)}function b(e){return e>=1?p:e<=-1?-p:Math.asin(e)}function v(e){return e.innerRadius}function _(e){return e.outerRadius}function y(e){return e.startAngle}function w(e){return e.endAngle}function x(e){return e&&e.padAngle}function k(e,t,n,r,i,o,a,s){var c=n-e,l=r-t,u=a-i,d=s-o,h=d*c-u*l;if(!(h*h<f))return[e+(h=(u*(t-o)-d*(e-i))/h)*c,t+h*l]}function M(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/d(s*s+l*l),f=u*l,h=-u*s,p=e+f,g=t+h,m=n+f,b=r+h,v=(p+m)/2,_=(g+b)/2,y=m-p,w=b-g,x=y*y+w*w,k=i-o,M=p*b-m*g,S=(w<0?-1:1)*d(c(0,k*k*x-M*M)),C=(M*w-y*S)/x,A=(-M*y-w*S)/x,T=(M*w+y*S)/x,E=(-M*y+w*S)/x,z=C-v,P=A-_,I=T-v,D=E-_;return z*z+P*P>I*I+D*D&&(C=T,A=E),{cx:C,cy:A,x01:-f,y01:-h,x11:C*(i/k-1),y11:A*(i/k-1)}}function S(){var e=v,t=_,n=i(0),c=null,S=y,C=w,A=x,T=null;function E(){var i,v,_=+e.apply(this,arguments),y=+t.apply(this,arguments),w=S.apply(this,arguments)-p,x=C.apply(this,arguments)-p,E=o(x-w),z=x>w;if(T||(T=i=(0,r.Z)()),y<_&&(v=y,y=_,_=v),y>f)if(E>g-f)T.moveTo(y*s(w),y*u(w)),T.arc(0,0,y,w,x,!z),_>f&&(T.moveTo(_*s(x),_*u(x)),T.arc(0,0,_,x,w,z));else{var P,I,D=w,L=x,N=w,O=x,B=E,V=E,R=A.apply(this,arguments)/2,j=R>f&&(c?+c.apply(this,arguments):d(_*_+y*y)),F=l(o(y-_)/2,+n.apply(this,arguments)),H=F,W=F;if(j>f){var U=b(j/_*u(R)),Y=b(j/y*u(R));(B-=2*U)>f?(N+=U*=z?1:-1,O-=U):(B=0,N=O=(w+x)/2),(V-=2*Y)>f?(D+=Y*=z?1:-1,L-=Y):(V=0,D=L=(w+x)/2)}var q=y*s(D),Z=y*u(D),G=_*s(O),$=_*u(O);if(F>f){var X,K=y*s(L),Q=y*u(L),J=_*s(N),ee=_*u(N);if(E<h&&(X=k(q,Z,J,ee,K,Q,G,$))){var te=q-X[0],ne=Z-X[1],re=K-X[0],ie=Q-X[1],oe=1/u(m((te*re+ne*ie)/(d(te*te+ne*ne)*d(re*re+ie*ie)))/2),ae=d(X[0]*X[0]+X[1]*X[1]);H=l(F,(_-ae)/(oe-1)),W=l(F,(y-ae)/(oe+1))}}V>f?W>f?(P=M(J,ee,q,Z,y,W,z),I=M(K,Q,G,$,y,W,z),T.moveTo(P.cx+P.x01,P.cy+P.y01),W<F?T.arc(P.cx,P.cy,W,a(P.y01,P.x01),a(I.y01,I.x01),!z):(T.arc(P.cx,P.cy,W,a(P.y01,P.x01),a(P.y11,P.x11),!z),T.arc(0,0,y,a(P.cy+P.y11,P.cx+P.x11),a(I.cy+I.y11,I.cx+I.x11),!z),T.arc(I.cx,I.cy,W,a(I.y11,I.x11),a(I.y01,I.x01),!z))):(T.moveTo(q,Z),T.arc(0,0,y,D,L,!z)):T.moveTo(q,Z),_>f&&B>f?H>f?(P=M(G,$,K,Q,_,-H,z),I=M(q,Z,J,ee,_,-H,z),T.lineTo(P.cx+P.x01,P.cy+P.y01),H<F?T.arc(P.cx,P.cy,H,a(P.y01,P.x01),a(I.y01,I.x01),!z):(T.arc(P.cx,P.cy,H,a(P.y01,P.x01),a(P.y11,P.x11),!z),T.arc(0,0,_,a(P.cy+P.y11,P.cx+P.x11),a(I.cy+I.y11,I.cx+I.x11),z),T.arc(I.cx,I.cy,H,a(I.y11,I.x11),a(I.y01,I.x01),!z))):T.arc(0,0,_,O,N,z):T.lineTo(G,$)}else T.moveTo(0,0);if(T.closePath(),i)return T=null,i+""||null}return E.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+S.apply(this,arguments)+ +C.apply(this,arguments))/2-h/2;return[s(r)*n,u(r)*n]},E.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),E):e},E.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),E):t},E.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:i(+e),E):n},E.padRadius=function(e){return arguments.length?(c=null==e?null:"function"==typeof e?e:i(+e),E):c},E.startAngle=function(e){return arguments.length?(S="function"==typeof e?e:i(+e),E):S},E.endAngle=function(e){return arguments.length?(C="function"==typeof e?e:i(+e),E):C},E.padAngle=function(e){return arguments.length?(A="function"==typeof e?e:i(+e),E):A},E.context=function(e){return arguments.length?(T=null==e?null:e,E):T},E}var C=Array.prototype.slice;function A(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function T(e){this._context=e}function E(e){return new T(e)}function z(e){return e[0]}function P(e){return e[1]}function I(e,t){var n=i(!0),o=null,a=E,s=null;function c(i){var c,l,u,d=(i=A(i)).length,f=!1;for(null==o&&(s=a(u=(0,r.Z)())),c=0;c<=d;++c)!(c<d&&n(l=i[c],c,i))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(l,c,i),+t(l,c,i));if(u)return s=null,u+""||null}return e="function"==typeof e?e:void 0===e?z:i(e),t="function"==typeof t?t:void 0===t?P:i(t),c.x=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),c):e},c.y=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),c):t},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:i(!!e),c):n},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function D(e,t,n){var o=null,a=i(!0),s=null,c=E,l=null;function u(i){var u,d,f,h,p,g=(i=A(i)).length,m=!1,b=new Array(g),v=new Array(g);for(null==s&&(l=c(p=(0,r.Z)())),u=0;u<=g;++u){if(!(u<g&&a(h=i[u],u,i))===m)if(m=!m)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=u-1;f>=d;--f)l.point(b[f],v[f]);l.lineEnd(),l.areaEnd()}m&&(b[u]=+e(h,u,i),v[u]=+t(h,u,i),l.point(o?+o(h,u,i):b[u],n?+n(h,u,i):v[u]))}if(p)return l=null,p+""||null}function d(){return I().defined(a).curve(c).context(s)}return e="function"==typeof e?e:void 0===e?z:i(+e),t="function"==typeof t?t:i(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?P:i(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),o=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u):e},u.x1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:i(+e),u):o},u.y=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:i(+e),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(o).y(t)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:i(!!e),u):a},u.curve=function(e){return arguments.length?(c=e,null!=s&&(l=c(s)),u):c},u.context=function(e){return arguments.length?(null==e?s=l=null:l=c(s=e),u):s},u}function L(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function N(e){return e}function O(){var e=N,t=L,n=null,r=i(0),o=i(g),a=i(0);function s(i){var s,c,l,u,d,f=(i=A(i)).length,h=0,p=new Array(f),m=new Array(f),b=+r.apply(this,arguments),v=Math.min(g,Math.max(-g,o.apply(this,arguments)-b)),_=Math.min(Math.abs(v)/f,a.apply(this,arguments)),y=_*(v<0?-1:1);for(s=0;s<f;++s)(d=m[p[s]=s]=+e(i[s],s,i))>0&&(h+=d);for(null!=t?p.sort((function(e,n){return t(m[e],m[n])})):null!=n&&p.sort((function(e,t){return n(i[e],i[t])})),s=0,l=h?(v-f*y)/h:0;s<f;++s,b=u)c=p[s],u=b+((d=m[c])>0?d*l:0)+y,m[c]={data:i[c],index:s,value:d,startAngle:b,endAngle:u,padAngle:_};return m}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:i(+e),s):r},s.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:i(+e),s):o},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:i(+e),s):a},s}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var B=R(E);function V(e){this._curve=e}function R(e){function t(t){return new V(e(t))}return t._curve=e,t}function j(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function F(){return j(I().curve(B))}function H(){var e=D().curve(B),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return j(n())},delete e.lineX0,e.lineEndAngle=function(){return j(r())},delete e.lineX1,e.lineInnerRadius=function(){return j(i())},delete e.lineY0,e.lineOuterRadius=function(){return j(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function W(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}function U(e){return e.source}function Y(e){return e.target}function q(e){var t=U,n=Y,o=z,a=P,s=null;function c(){var i,c=C.call(arguments),l=t.apply(this,c),u=n.apply(this,c);if(s||(s=i=(0,r.Z)()),e(s,+o.apply(this,(c[0]=l,c)),+a.apply(this,c),+o.apply(this,(c[0]=u,c)),+a.apply(this,c)),i)return s=null,i+""||null}return c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.x=function(e){return arguments.length?(o="function"==typeof e?e:i(+e),c):o},c.y=function(e){return arguments.length?(a="function"==typeof e?e:i(+e),c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}function Z(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function G(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function $(e,t,n,r,i){var o=W(t,n),a=W(t,n=(n+i)/2),s=W(r,n),c=W(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function X(){return q(Z)}function K(){return q(G)}function Q(){var e=q($);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}V.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};const J={draw:function(e,t){var n=Math.sqrt(t/h);e.moveTo(n,0),e.arc(0,0,n,0,g)}},ee={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var te=Math.sqrt(1/3),ne=2*te;const re={draw:function(e,t){var n=Math.sqrt(t/ne),r=n*te;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var ie=Math.sin(h/10)/Math.sin(7*h/10),oe=Math.sin(g/10)*ie,ae=-Math.cos(g/10)*ie;const se={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=oe*n,i=ae*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=g*o/5,s=Math.cos(a),c=Math.sin(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},ce={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var le=Math.sqrt(3);const ue={draw:function(e,t){var n=-Math.sqrt(t/(3*le));e.moveTo(0,2*n),e.lineTo(-le*n,-n),e.lineTo(le*n,-n),e.closePath()}};var de=-.5,fe=Math.sqrt(3)/2,he=1/Math.sqrt(12),pe=3*(he/2+1);const ge={draw:function(e,t){var n=Math.sqrt(t/pe),r=n/2,i=n*he,o=r,a=n*he+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(de*r-fe*i,fe*r+de*i),e.lineTo(de*o-fe*a,fe*o+de*a),e.lineTo(de*s-fe*c,fe*s+de*c),e.lineTo(de*r+fe*i,de*i-fe*r),e.lineTo(de*o+fe*a,de*a-fe*o),e.lineTo(de*s+fe*c,de*c-fe*s),e.closePath()}};var me=[J,ee,re,ce,se,ue,ge];function be(e,t){var n=null;function o(){var i;if(n||(n=i=(0,r.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:i(e||J),t="function"==typeof t?t:i(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"==typeof t?t:i(t),o):e},o.size=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}function ve(){}function _e(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ye(e){this._context=e}function we(e){return new ye(e)}function xe(e){this._context=e}function ke(e){return new xe(e)}function Me(e){this._context=e}function Se(e){return new Me(e)}ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xe.prototype={areaStart:ve,areaEnd:ve,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Ce{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Ae(e){return new Ce(e,!0)}function Te(e){return new Ce(e,!1)}function Ee(e,t){this._basis=new ye(e),this._beta=t}Ee.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*a),this._beta*t[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ze=function e(t){function n(e){return 1===t?new ye(e):new Ee(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Pe(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ie(e,t){this._context=e,this._k=(1-t)/6}Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pe(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const De=function e(t){function n(e){return new Ie(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Le(e,t){this._context=e,this._k=(1-t)/6}Le.prototype={areaStart:ve,areaEnd:ve,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ne=function e(t){function n(e){return new Le(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Be=function e(t){function n(e){return new Oe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ve(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>f){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>f){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Re(e,t){this._context=e,this._alpha=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ve(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const je=function e(t){function n(e){return t?new Re(e,t):new Ie(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Fe(e,t){this._context=e,this._alpha=t}Fe.prototype={areaStart:ve,areaEnd:ve,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ve(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const He=function e(t){function n(e){return t?new Fe(e,t):new Le(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function We(e,t){this._context=e,this._alpha=t}We.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ve(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ue=function e(t){function n(e){return t?new We(e,t):new Oe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ye(e){this._context=e}function qe(e){return new Ye(e)}function Ze(e){return e<0?-1:1}function Ge(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ze(o)+Ze(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $e(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xe(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Ke(e){this._context=e}function Qe(e){this._context=new Je(e)}function Je(e){this._context=e}function et(e){return new Ke(e)}function tt(e){return new Qe(e)}function nt(e){this._context=e}function rt(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function it(e){return new nt(e)}function ot(e,t){this._context=e,this._t=t}function at(e){return new ot(e,.5)}function st(e){return new ot(e,0)}function ct(e){return new ot(e,1)}function lt(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ut(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dt(e,t){return e[t]}function ft(e){const t=[];return t.key=e,t}function ht(){var e=i([]),t=ut,n=lt,r=dt;function o(i){var o,a,s=Array.from(e.apply(this,arguments),ft),c=s.length,l=-1;for(const e of i)for(o=0,++l;o<c;++o)(s[o][l]=[0,+r(e,s[o].key,l,i)]).data=e;for(o=0,a=A(t(s));o<c;++o)s[a[o]].index=o;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:i(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:i(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?ut:"function"==typeof e?e:i(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?lt:e,o):n},o}function pt(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}lt(e,t)}}function gt(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,c=0,l=e[t[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function mt(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}lt(e,t)}}function bt(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}c+=d,l+=f*d}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,lt(e,t)}}function vt(e){var t=e.map(_t);return ut(e).sort((function(e,n){return t[e]-t[n]}))}function _t(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function yt(e){var t=e.map(wt);return ut(e).sort((function(e,n){return t[e]-t[n]}))}function wt(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function xt(e){return yt(e).reverse()}function kt(e){var t,n,r=e.length,i=e.map(wt),o=vt(e),a=0,s=0,c=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)}function Mt(e){return ut(e).reverse()}Ye.prototype={areaStart:ve,areaEnd:ve,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xe(this,this._t0,$e(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xe(this,$e(this,n=Ge(this,e,t)),n);break;default:Xe(this,this._t0,n=Ge(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Qe.prototype=Object.create(Ke.prototype)).point=function(e,t){Ke.prototype.point.call(this,t,e)},Je.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=rt(e),i=rt(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},9703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,a:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD),(e=>e.getDate()-1));const a=o;var s=o.range},3586:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>r,yB:()=>i,Y2:()=>o,UD:()=>a,iM:()=>s,jz:()=>c,qz:()=>l});const r=1e3,i=60*r,o=60*i,a=24*o,s=7*a,c=30*a,l=365*a},7781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,i:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym-e.getMinutes()*i.yB)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getHours()}));const a=o;var s=o.range},7845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeInterval:()=>r.Z,timeMillisecond:()=>i.Z,timeMilliseconds:()=>i.m,utcMillisecond:()=>i.Z,utcMilliseconds:()=>i.m,timeSecond:()=>o.Z,timeSeconds:()=>o.m,utcSecond:()=>o.Z,utcSeconds:()=>o.m,timeMinute:()=>a.Z,timeMinutes:()=>a.L,timeHour:()=>s.Z,timeHours:()=>s.i,timeDay:()=>c.Z,timeDays:()=>c.a,timeWeek:()=>l.OM,timeWeeks:()=>l.vm,timeSunday:()=>l.OM,timeSundays:()=>l.vm,timeMonday:()=>l.wA,timeMondays:()=>l.bJ,timeTuesday:()=>l.sy,timeTuesdays:()=>l.aU,timeWednesday:()=>l.zg,timeWednesdays:()=>l.Ld,timeThursday:()=>l.bL,timeThursdays:()=>l.$t,timeFriday:()=>l.mC,timeFridays:()=>l.b$,timeSaturday:()=>l.EY,timeSaturdays:()=>l.Ff,timeMonth:()=>u.Z,timeMonths:()=>u.e,timeYear:()=>d.Z,timeYears:()=>d.g,utcMinute:()=>f.Z,utcMinutes:()=>f.N,utcHour:()=>h.Z,utcHours:()=>h.X,utcDay:()=>p.Z,utcDays:()=>p.y,utcWeek:()=>g.Ox,utcWeeks:()=>g.SU,utcSunday:()=>g.Ox,utcSundays:()=>g.SU,utcMonday:()=>g.l6,utcMondays:()=>g.$3,utcTuesday:()=>g.J1,utcTuesdays:()=>g.DK,utcWednesday:()=>g.b3,utcWednesdays:()=>g.uy,utcThursday:()=>g.hB,utcThursdays:()=>g.xj,utcFriday:()=>g.QQ,utcFridays:()=>g.fz,utcSaturday:()=>g.g4,utcSaturdays:()=>g.Q_,utcMonth:()=>m.Z,utcMonths:()=>m.K,utcYear:()=>b.Z,utcYears:()=>b.D,utcTicks:()=>v.WG,utcTickInterval:()=>v.jo,timeTicks:()=>v.jK,timeTickInterval:()=>v._g});var r=n(8754),i=n(7870),o=n(8448),a=n(2642),s=n(7781),c=n(9703),l=n(6346),u=n(2364),d=n(8307),f=n(5070),h=n(323),p=n(5017),g=n(7136),m=n(3428),b=n(5193),v=n(9652)},8754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=new Date,i=new Date;function o(e,t,n,a){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},s.filter=function(n){return o((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(s.count=function(t,o){return r.setTime(+t),i.setTime(+o),e(r),e(i),Math.floor(n(r,i))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}},7870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,m:()=>a});var r=n(8754),i=(0,r.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};const o=i;var a=i.range},2642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,L:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getMinutes()}));const a=o;var s=o.range},2364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,e:()=>o});var r=(0,n(8754).Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const i=r;var o=r.range},8448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,m:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*i.Ym)}),(function(e,t){return(t-e)/i.Ym}),(function(e){return e.getUTCSeconds()}));const a=o;var s=o.range},9652:(e,t,n)=>{"use strict";n.d(t,{WG:()=>w,jo:()=>x,jK:()=>k,_g:()=>M});var r=n(2092),i=n(1440),o=n(3586),a=n(7870),s=n(8448),c=n(2642),l=n(7781),u=n(9703),d=n(6346),f=n(2364),h=n(8307),p=n(5070),g=n(323),m=n(5017),b=n(7136),v=n(3428),_=n(5193);function y(e,t,n,c,l,u){const d=[[s.Z,1,o.Ym],[s.Z,5,5*o.Ym],[s.Z,15,15*o.Ym],[s.Z,30,30*o.Ym],[u,1,o.yB],[u,5,5*o.yB],[u,15,15*o.yB],[u,30,30*o.yB],[l,1,o.Y2],[l,3,3*o.Y2],[l,6,6*o.Y2],[l,12,12*o.Y2],[c,1,o.UD],[c,2,2*o.UD],[n,1,o.iM],[t,1,o.jz],[t,3,3*o.jz],[e,1,o.qz]];function f(t,n,s){const c=Math.abs(n-t)/s,l=(0,r.Z)((([,,e])=>e)).right(d,c);if(l===d.length)return e.every((0,i.ly)(t/o.qz,n/o.qz,s));if(0===l)return a.Z.every(Math.max((0,i.ly)(t,n,s),1));const[u,f]=d[c/d[l-1][2]<d[l][2]/c?l-1:l];return u.every(f)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:f(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},f]}const[w,x]=y(_.Z,v.Z,b.Ox,m.Z,g.Z,p.Z),[k,M]=y(h.Z,f.Z,d.OM,u.Z,l.Z,c.Z)},5017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,y:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/i.UD}),(function(e){return e.getUTCDate()-1}));const a=o;var s=o.range},323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,X:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getUTCHours()}));const a=o;var s=o.range},5070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,N:()=>s});var r=n(8754),i=n(3586),o=(0,r.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getUTCMinutes()}));const a=o;var s=o.range},3428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,K:()=>o});var r=(0,n(8754).Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const i=r;var o=r.range},7136:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>a,l6:()=>s,J1:()=>c,b3:()=>l,hB:()=>u,QQ:()=>d,g4:()=>f,SU:()=>h,$3:()=>p,DK:()=>g,uy:()=>m,xj:()=>b,fz:()=>v,Q_:()=>_});var r=n(8754),i=n(3586);function o(e){return(0,r.Z)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/i.iM}))}var a=o(0),s=o(1),c=o(2),l=o(3),u=o(4),d=o(5),f=o(6),h=a.range,p=s.range,g=c.range,m=l.range,b=u.range,v=d.range,_=f.range},5193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,D:()=>a});var r=n(8754),i=(0,r.Z)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const o=i;var a=i.range},6346:(e,t,n)=>{"use strict";n.d(t,{OM:()=>a,wA:()=>s,sy:()=>c,zg:()=>l,bL:()=>u,mC:()=>d,EY:()=>f,vm:()=>h,bJ:()=>p,aU:()=>g,Ld:()=>m,$t:()=>b,b$:()=>v,Ff:()=>_});var r=n(8754),i=n(3586);function o(e){return(0,r.Z)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM}))}var a=o(0),s=o(1),c=o(2),l=o(3),u=o(4),d=o(5),f=o(6),h=a.range,p=s.range,g=c.range,m=l.range,b=u.range,v=d.range,_=f.range},8307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,g:()=>a});var r=n(8754),i=(0,r.Z)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const o=i;var a=i.range},3625:(e,t,n)=>{"use strict";n.d(t,{e1:()=>E});var r,i,o=n(8952),a=n(2983),s=0,c=0,l=0,u=0,d=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function g(){return d||(p(m),d=h.now()+f)}function m(){d=0}function b(){this._call=this._time=this._next=null}function v(e,t,n){var r=new b;return r.restart(e,t,n),r}function _(){d=(u=h.now())+f,s=c=0;try{!function(){g(),++s;for(var e,t=r;t;)(e=d-t._time)>=0&&t._call.call(void 0,e),t=t._next;--s}()}finally{s=0,function(){for(var e,t,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,w(o)}(),d=0}}function y(){var e=h.now(),t=e-u;t>1e3&&(f-=t,u=e)}function w(e){s||(c&&(c=clearTimeout(c)),e-d>24?(e<1/0&&(c=setTimeout(_,e-h.now()-f)),l&&(l=clearInterval(l))):(l||(u=h.now(),l=setInterval(y,1e3)),s=1,p(_)))}function x(e,t,n){var r=new b;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}b.prototype=v.prototype={constructor:b,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?g():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var k=(0,a.Z)("start","end","cancel","interrupt"),M=[];function S(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(c){var l,u,d,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return x(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(x((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=v((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:k,tween:M,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function C(e,t){var n=T(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function A(e,t){var n=T(e,t);if(n.state>3)throw new Error("too late; already running");return n}function T(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function E(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}var z,P=n(8748),I=180/Math.PI,D={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function L(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*I,skewX:Math.atan(c)*I,scaleX:a,scaleY:s}}function N(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],c=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:(0,P.Z)(e,i)},{i:c-2,x:(0,P.Z)(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,P.Z)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,P.Z)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,c),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,P.Z)(e,n)},{i:s-2,x:(0,P.Z)(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var O=N((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?D:L(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),B=N((function(e){return null==e?D:(z||(z=document.createElementNS("http://www.w3.org/2000/svg","g")),z.setAttribute("transform",e),(e=z.transform.baseVal.consolidate())?L((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):D)}),", ",")",")"),V=n(772);function R(e,t){var n,r;return function(){var i=A(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function j(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=A(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function F(e,t,n){var r=e._id;return e.each((function(){var e=A(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return T(e,r).value[t]}}var H=n(6788),W=n(5820),U=n(1144);function Y(e,t){var n;return("number"==typeof t?P.Z:t instanceof H.ZP?W.ZP:(n=(0,H.ZP)(t))?(t=n,W.ZP):U.Z)(e,t)}function q(e){return function(){this.removeAttribute(e)}}function Z(e){return function(){this.removeAttributeNS(e.space,e.local)}}function G(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function $(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function X(e,t,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,c));this.removeAttribute(e)}}function K(e,t,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function Q(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function J(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ee(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&J(e,i)),n}return i._value=t,i}function te(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Q(e,i)),n}return i._value=t,i}function ne(e,t){return function(){C(this,e).delay=+t.apply(this,arguments)}}function re(e,t){return t=+t,function(){C(this,e).delay=t}}function ie(e,t){return function(){A(this,e).duration=+t.apply(this,arguments)}}function oe(e,t){return t=+t,function(){A(this,e).duration=t}}function ae(e,t){if("function"!=typeof t)throw new Error;return function(){A(this,e).ease=t}}var se=n(8164);function ce(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?C:A;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var le=n(1453),ue=n(3238),de=o.ZP.prototype.constructor,fe=n(7429);function he(e){return function(){this.style.removeProperty(e)}}function pe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ge(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&pe(e,o,n)),r}return o._value=t,o}function me(e){return function(t){this.textContent=e.call(this,t)}}function be(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&me(r)),t}return r._value=e,r}var ve=0;function _e(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ye(){return++ve}var we=o.ZP.prototype;_e.prototype=function(e){return(0,o.ZP)().transition(e)}.prototype={constructor:_e,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,le.Z)(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(s=l[f])&&(c=e.call(s,s.__data__,f,l))&&("__data__"in s&&(c.__data__=s.__data__),d[f]=c,S(d[f],t,n,f,d,T(s,n)));return new _e(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,ue.Z)(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var f,h=e.call(c,c.__data__,d,l),p=T(c,n),g=0,m=h.length;g<m;++g)(f=h[g])&&S(f,t,n,g,h,p);o.push(h),a.push(c)}return new _e(o,a,t,n)},selectChild:we.selectChild,selectChildren:we.selectChildren,filter:function(e){"function"!=typeof e&&(e=(0,se.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new _e(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],d=l.length,f=a[s]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;s<r;++s)a[s]=t[s];return new _e(a,this._parents,this._name,this._id)},selection:function(){return new de(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ye(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=T(a,t);S(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _e(r,this._parents,e,n)},call:we.call,nodes:we.nodes,node:we.node,size:we.size,empty:we.empty,each:we.each,on:function(e,t){var n=this._id;return arguments.length<2?T(this.node(),n).on.on(e):this.each(ce(n,e,t))},attr:function(e,t){var n=(0,V.Z)(e),r="transform"===n?B:Y;return this.attrTween(e,"function"==typeof t?(n.local?K:X)(n,r,F(this,"attr."+e,t)):null==t?(n.local?Z:q)(n):(n.local?$:G)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=(0,V.Z)(e);return this.tween(n,(r.local?ee:te)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?O:Y;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=(0,fe.S)(this,e),a=(this.style.removeProperty(e),(0,fe.S)(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,he(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=(0,fe.S)(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=(0,fe.S)(this,e)),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}(e,r,F(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var c=A(this,e),l=c.on,u=null==c.value[a]?o||(o=he(t)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=(0,fe.S)(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,ge(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(F(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,be(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=T(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?R:j)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ne:re)(t,e)):T(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ie:oe)(t,e)):T(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(ae(t,e)):T(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;A(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=A(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:we[Symbol.iterator]};var xe={time:null,delay:0,duration:250,ease:n(2047).tw};function ke(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}o.ZP.prototype.interrupt=function(e){return this.each((function(){E(this,e)}))},o.ZP.prototype.transition=function(e){var t,n;e instanceof _e?(t=e._id,e=e._name):(t=ye(),(n=xe).time=g(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&S(a,e,t,l,s,n||ke(a,t));return new _e(r,this._parents,e,t)}},797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ZoomTransform:()=>f,zoom:()=>k,zoomIdentity:()=>h,zoomTransform:()=>p});var r=n(2983),i=n(1921);function o(e){return((e=Math.exp(e))+1/e)/2}const a=function e(t,n,r){function i(e,i){var a,s,c=e[0],l=e[1],u=e[2],d=i[0],f=i[1],h=i[2],p=d-c,g=f-l,m=p*p+g*g;if(m<1e-12)s=Math.log(h/u)/t,a=function(e){return[c+e*p,l+e*g,u*Math.exp(t*e*s)]};else{var b=Math.sqrt(m),v=(h*h-u*u+r*m)/(2*u*n*b),_=(h*h-u*u-r*m)/(2*h*n*b),y=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(_*_+1)-_);s=(w-y)/t,a=function(e){var r,i=e*s,a=o(y),d=u/(n*b)*(a*(r=t*i+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[c+d*p,l+d*g,u*a/o(t*i+y)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);var s=n(2721),c=n(1257),l=n(3625);const u=e=>()=>e;function d(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function f(e,t,n){this.k=e,this.x=t,this.y=n}f.prototype={constructor:f,scale:function(e){return 1===e?this:new f(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new f(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new f(1,0,0);function p(e){for(;!e.__zoom;)if(!(e=e.parentNode))return h;return e.__zoom}function g(e){e.stopImmediatePropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function b(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function v(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function _(){return this.__zoom||h}function y(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function w(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function k(){var e,t,n,o=b,p=v,k=x,M=y,S=w,C=[0,1/0],A=[[-1/0,-1/0],[1/0,1/0]],T=250,E=a,z=(0,r.Z)("start","zoom","end"),P=500,I=0,D=10;function L(e){e.property("__zoom",_).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",W).filter(S).on("touchstart.zoom",U).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(e,t){return(t=Math.max(C[0],Math.min(C[1],t)))===e.k?e:new f(t,e.x,e.y)}function O(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new f(e.k,r,i)}function B(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function V(e,t,n,r){e.on("start.zoom",(function(){R(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){R(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,o=R(e,i).event(r),a=p.apply(e,i),s=null==n?B(a):"function"==typeof n?n.apply(e,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,i):t,d=E(l.invert(s).concat(c/l.k),u.invert(s).concat(c/u.k));return function(e){if(1===e)e=u;else{var t=d(e),n=c/t[2];e=new f(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function R(e,t,n){return!n&&e.__zooming||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=p.apply(e,t),this.taps=0}function F(e,...t){if(o.apply(this,arguments)){var n=R(this,t).event(e),r=this.__zoom,i=Math.max(C[0],Math.min(C[1],r.k*Math.pow(2,M.apply(this,arguments)))),a=(0,c.Z)(e);if(n.wheel)n.mouse[0][0]===a[0]&&n.mouse[0][1]===a[1]||(n.mouse[1]=r.invert(n.mouse[0]=a)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[a,r.invert(a)],(0,l.e1)(this),n.start()}m(e),n.wheel=setTimeout(s,150),n.zoom("mouse",k(O(N(r,i),n.mouse[0],n.mouse[1]),n.extent,A))}function s(){n.wheel=null,n.end()}}function H(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,a=R(this,t,!0).event(e),u=(0,s.Z)(e.view).on("mousemove.zoom",p,!0).on("mouseup.zoom",b,!0),d=(0,c.Z)(e,r),f=e.clientX,h=e.clientY;(0,i.Z)(e.view),g(e),a.mouse=[d,this.__zoom.invert(d)],(0,l.e1)(this),a.start()}function p(e){if(m(e),!a.moved){var t=e.clientX-f,n=e.clientY-h;a.moved=t*t+n*n>I}a.event(e).zoom("mouse",k(O(a.that.__zoom,a.mouse[0]=(0,c.Z)(e,r),a.mouse[1]),a.extent,A))}function b(e){u.on("mousemove.zoom mouseup.zoom",null),(0,i.D)(e.view,a.moved),m(e),a.event(e).end()}}function W(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,r=(0,c.Z)(e.changedTouches?e.changedTouches[0]:e,this),i=n.invert(r),a=n.k*(e.shiftKey?.5:2),l=k(O(N(n,a),r,i),p.apply(this,t),A);m(e),T>0?(0,s.Z)(this).transition().duration(T).call(V,l,r,e):(0,s.Z)(this).call(L.transform,l,r,e)}}function U(n,...r){if(o.apply(this,arguments)){var i,a,s,u,d=n.touches,f=d.length,h=R(this,r,n.changedTouches.length===f).event(n);for(g(n),a=0;a<f;++a)s=d[a],u=[u=(0,c.Z)(s,this),this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,i=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),P)),(0,l.e1)(this),h.start())}}function Y(e,...t){if(this.__zooming){var n,r,i,o,a=R(this,t).event(e),s=e.changedTouches,l=s.length;for(m(e),n=0;n<l;++n)r=s[n],i=(0,c.Z)(r,this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],f=a.touch1[0],h=a.touch1[1],p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,g=(g=h[0]-d[0])*g+(g=h[1]-d[1])*g;r=N(r,Math.sqrt(p/g)),i=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",k(O(r,i,o),a.extent,A))}}function q(e,...r){if(this.__zooming){var i,o,a=R(this,r).event(e),l=e.changedTouches,u=l.length;for(g(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),P),i=0;i<u;++i)o=l[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=(0,c.Z)(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<D)){var d=(0,s.Z)(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return L.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",_),e!==i?V(e,t,n,r):i.interrupt().each((function(){R(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},L.scaleBy=function(e,t,n,r){L.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,r)},L.scaleTo=function(e,t,n,r){L.transform(e,(function(){var e=p.apply(this,arguments),r=this.__zoom,i=null==n?B(e):"function"==typeof n?n.apply(this,arguments):n,o=r.invert(i),a="function"==typeof t?t.apply(this,arguments):t;return k(O(N(r,a),i,o),e,A)}),n,r)},L.translateBy=function(e,t,n,r){L.transform(e,(function(){return k(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),p.apply(this,arguments),A)}),null,r)},L.translateTo=function(e,t,n,r,i){L.transform(e,(function(){var e=p.apply(this,arguments),i=this.__zoom,o=null==r?B(e):"function"==typeof r?r.apply(this,arguments):r;return k(h.translate(o[0],o[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,A)}),r,i)},j.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,s.Z)(this.that).datum();z.call(e,this.that,new d(e,{sourceEvent:this.sourceEvent,target:L,type:e,transform:this.that.__zoom,dispatch:z}),t)}},L.wheelDelta=function(e){return arguments.length?(M="function"==typeof e?e:u(+e),L):M},L.filter=function(e){return arguments.length?(o="function"==typeof e?e:u(!!e),L):o},L.touchable=function(e){return arguments.length?(S="function"==typeof e?e:u(!!e),L):S},L.extent=function(e){return arguments.length?(p="function"==typeof e?e:u([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),L):p},L.scaleExtent=function(e){return arguments.length?(C[0]=+e[0],C[1]=+e[1],L):[C[0],C[1]]},L.translateExtent=function(e){return arguments.length?(A[0][0]=+e[0][0],A[1][0]=+e[1][0],A[0][1]=+e[0][1],A[1][1]=+e[1][1],L):[[A[0][0],A[0][1]],[A[1][0],A[1][1]]]},L.constrain=function(e){return arguments.length?(k=e,L):k},L.duration=function(e){return arguments.length?(T=+e,L):T},L.interpolate=function(e){return arguments.length?(E=e,L):E},L.on=function(){var e=z.on.apply(z,arguments);return e===z?L:e},L.clickDistance=function(e){return arguments.length?(I=(e=+e)*e,L):Math.sqrt(I)},L.tapDistance=function(e){return arguments.length?(D=+e,L):D},L}p.prototype=f.prototype},3258:function(e,t,n){!function(e,t,n,r,i,o,a,s,c,l,u,d,f){"use strict";var h=function(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return a===t?e:a}},p=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];e[s]=h(e,t,s)}return e},g=function(e){return function(t){return e.reduce((function(e,t){return e&&t(e)}),t)}},m=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var o=g(r),a=0,s=Object.keys(t);a<s.length;a++){var c=s[a],l=o(c);l&&(e[l]=h(e,t,c))}return e},b=function(e){return e.map((function(e){return"string"==typeof e?new RegExp("^".concat(e,"$")):e}))},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=b(t),function(e){return t.every((function(t){return!t.test(e)}))&&e}},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=b(t),function(e){return t.some((function(t){return t.test(e)}))&&e}},y=function(e){return function(t){return e[t]}},w=function(e){return function(t){return e+((n=t)[0].toUpperCase()+n.slice(1));var n}};function x(e){return e}function k(e){}function M(e){return"function"==typeof e?e:function(){return e}}function S(e){return"number"==typeof e&&isNaN(e)?void 0:e}function C(){var e=function(){return 10},t=k,n=x,r=function(e){return null!=e},i=function(i){var o=e.apply(this,arguments),a=i.slice(0,o).map(n);return i.map((function(e,i){return i>=o&&(a.shift(),a.push(n(e,i))),i<o-1||a.some((function(e){return!r(e)}))?t(void 0,i):t(a,i)}))};return i.period=function(){return arguments.length?(e=M(arguments.length<=0?void 0:arguments[0]),i):e},i.accumulator=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i}function A(){var e=x,n=function(){return 9},r=function(e){var n=[];return function(r){var i;return n.length<e&&(null!=r?n.push(r):n=[]),n.length>=e&&(i=t.mean(n)),i}},i=function(t){var i,o=n.apply(this,arguments),a=2/(o+1),s=r(o);return t.map((function(t,n){var r=e(t,n);return S(i=void 0===i?s(r):r*a+(1-a)*i)}))};return i.period=function(){return arguments.length?(n=M(arguments.length<=0?void 0:arguments[0]),i):n},i.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function O(e,t,n){return(O=N()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&L(i,n.prototype),i}).apply(null,arguments)}function B(e){var t="function"==typeof Map?new Map:void 0;return(B=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return O(e,arguments,D(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),L(r,e)})(e)}function V(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){var t=N();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V(this,n)}}function j(e,t){return H(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||U(e,t)||q()}function F(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||W(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){if(Array.isArray(e))return e}function W(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function U(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(){var e=C().accumulator((function(e){return e&&t.mean(e)})),n=function(t){return e(t)};return p(n,e,"period","value"),n}function G(){var e={distance:function(e,t){return t-e},offset:function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t},clampUp:function(e){return e},clampDown:function(e){return e},copy:function(){return e}};return e}function $(e,t){var n=e.map(t.clampUp);return n.length!==new Set(n.map((function(e){return null==e?void 0:e.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}var X=function(e,t,n,r){var i=0,o=1,a=6,s=432e6,c={},l=function(t){return 0===e(t)||6===e(t)};return c.clampDown=function(n){if(n&&l(n)){var r=t.ceil(n);return e(r)===i?t.offset(r,-1):e(r)===o?t.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&l(n)){var r=t.floor(n);return e(r)===a?t.offset(r,2):e(r)===i?t.offset(r,1):r}return n},c.distance=function(e,t){e=c.clampUp(e),t=c.clampDown(t);var r=n.ceil(e);if(t<r)return t.getTime()-e.getTime();var i=r.getTime()-e.getTime(),o=n.ceil(t),a=o.getTime()-t.getTime();return Math.round((o.getTime()-r.getTime())/6048e5)*s+i-a},c.offset=function(e,i){var o=l(e)?c.clampUp(e):e;if(0===i)return o;var a=i<0,u=i>0,d=i,f=a?r.floor(o):n.ceil(o);if(d-=f.getTime()-o.getTime(),a&&d>0||u&&d<0)return new Date(o.getTime()+i);o=a?f:t.offset(f,2);var h=Math.floor(d/s);return o=t.offset(o,7*h),d-=h*s,new Date(o.getTime()+d)},c.copy=function(){return c},c};function K(){var e=[function(e){return e}],n=[0,0],r="percent",i=null,o=[],a=function(a){var s,c=new Array(a.length),l=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(l.s();!(s=l.n()).done;)for(var u=s.value,d=0;d<a.length;d++){var f=u(a[d],d);Array.isArray(f)?c.push.apply(c,F(f)):c.push(f)}}catch(e){l.e(e)}finally{l.f()}var h=[t.min(c),t.max(c)];if(h[0]=null==h[0]?t.min(o):t.min([h[0]].concat(F(o))),h[1]=null==h[1]?t.max(o):t.max([h[1]].concat(F(o))),null!=i){var p=Math.max(Math.abs(h[1]-i),Math.abs(h[0]-i));h[0]=i-p,h[1]=i+p}switch(r){case"domain":h[0]-=n[0],h[1]+=n[1];break;case"percent":var g=h[1]-h[0];h[0]-=n[0]*g,h[1]+=n[1]*g;break;default:throw new Error("Unknown padUnit: ".concat(r))}return h};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.include=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a.symmetricalAbout=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a}function Q(){var e=[],t=[0,0],n="percent",r=null,i=[],o=K(),a=function(e){return null!=e?e.valueOf():null},s=function(s){var c=e.map((function(e){return function(){var t=e.apply(void 0,arguments);return Array.isArray(t)?t.map(a):a(t)}}));return o.accessors(c).pad(t).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(i.map((function(e){return e.valueOf()}))),o(s).map((function(e){return new Date(e)}))};return s.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s}function J(){var e=1,t=20,n=.1,r=.1,o=i.randomNormal(),a=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=e/t,s=[],c=0;c<t+1;c++){s.push(i);var l=o()*Math.sqrt(a)*r+(n-r*r/2)*a;i*=Math.exp(l)}return s};return a.period=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.steps=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.random=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a}function ee(e){return"function"==typeof e?e:function(){return e}}function te(){var e=10,n=function(n){return e<=1?n.map((function(e){return[e]})):t.range(0,Math.ceil(n.length/e)).map((function(t){return n.slice(t*e,(t+1)*e)}))};return n.bucketSize=function(t){return arguments.length?(e=t,n):e},n}var ne=function(e){return"function"==typeof e?e:function(){return e}},re=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},i=function(e){return e.low},o=function(e){return e.close},s="vertical",c=ne(3),l=function(l){var u=e||a.path();return l.forEach((function(e,a){var l=t(e,a),d=n(e,a),f=r(e,a),h=i(e,a),p=o(e,a),g=c(e,a)/2;"vertical"===s?(u.moveTo(l,h),u.lineTo(l,f),u.moveTo(l,d),u.lineTo(l-g,d),u.moveTo(l,p),u.lineTo(l+g,p)):(u.moveTo(h,l),u.lineTo(f,l),u.moveTo(d,l),u.lineTo(d,l+g),u.moveTo(p,l),u.lineTo(p,l-g))})),e?null:u.toString()};return l.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.x=function(){return arguments.length?(t=ne(arguments.length<=0?void 0:arguments[0]),l):t},l.open=function(){return arguments.length?(n=ne(arguments.length<=0?void 0:arguments[0]),l):n},l.high=function(){return arguments.length?(r=ne(arguments.length<=0?void 0:arguments[0]),l):r},l.low=function(){return arguments.length?(i=ne(arguments.length<=0?void 0:arguments[0]),l):i},l.close=function(){return arguments.length?(o=ne(arguments.length<=0?void 0:arguments[0]),l):o},l.width=function(){return arguments.length?(c=ne(arguments.length<=0?void 0:arguments[0]),l):c},l.orient=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l):s},l},ie=function(){var e=null,t=function(e){return e.x},n=function(e){return e.y},r="center",i="center",o=function(e){return e.height},s=ne(3),c=function(c,l){var u=e||a.path();return c.forEach((function(e,a){var c,d,f=t.call(this,e,l||a),h=n.call(this,e,l||a),p=o.call(this,e,l||a),g=s.call(this,e,l||a);switch(r){case"left":c=g;break;case"right":c=0;break;case"center":c=g/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(i){case"bottom":d=-p;break;case"top":d=0;break;case"center":d=p/2;break;default:throw new Error("Invalid vertical alignment "+i)}u.rect(f-c,h-d,g,p)}),this),e?null:u.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=ne(arguments.length<=0?void 0:arguments[0]),c):t},c.y=function(){return arguments.length?(n=ne(arguments.length<=0?void 0:arguments[0]),c):n},c.width=function(){return arguments.length?(s=ne(arguments.length<=0?void 0:arguments[0]),c):s},c.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.height=function(){return arguments.length?(o=ne(arguments.length<=0?void 0:arguments[0]),c):o},c.verticalAlign=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c},oe=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},i=function(e){return e.low},o=function(e){return e.close},s=ne(3),c=function(c){var l=e||a.path();return c.forEach((function(e,a){var c=t(e,a),u=n(e,a),d=r(e,a),f=i(e,a),h=o(e,a),p=s(e,a),g=p/2;l.rect(c-g,u,p,h-u),l.moveTo(c,Math.min(h,u)),l.lineTo(c,d),l.moveTo(c,Math.max(h,u)),l.lineTo(c,f)})),e?null:l.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=ne(arguments.length<=0?void 0:arguments[0]),c):t},c.open=function(){return arguments.length?(n=ne(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=ne(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(i=ne(arguments.length<=0?void 0:arguments[0]),c):i},c.close=function(){return arguments.length?(o=ne(arguments.length<=0?void 0:arguments[0]),c):o},c.width=function(){return arguments.length?(s=ne(arguments.length<=0?void 0:arguments[0]),c):s},c},ae=function(){var e=null,t=function(e){return e.value},n=function(e){return e.median},r=function(e){return e.upperQuartile},i=function(e){return e.lowerQuartile},o=function(e){return e.high},s=function(e){return e.low},c="vertical",l=ne(5),u=ne(.5),d=function(d){var f=e||a.path();return d.forEach((function(e,a){var d=t(e,a),h=l(e,a),p=h/2,g=h*u(e,a)/2,m=o(e,a),b=r(e,a),v=n(e,a),_=i(e,a),y=s(e,a),w=_-b;"vertical"===c?(f.moveTo(d-g,m),f.lineTo(d+g,m),f.moveTo(d,m),f.lineTo(d,b),f.rect(d-p,b,h,w),f.moveTo(d-p,v),f.lineTo(d+p,v),f.moveTo(d,_),f.lineTo(d,y),f.moveTo(d-g,y),f.lineTo(d+g,y)):(f.moveTo(y,d-g),f.lineTo(y,d+g),f.moveTo(y,d),f.lineTo(_,d),f.rect(_,d-p,-w,h),f.moveTo(v,d-p),f.lineTo(v,d+p),f.moveTo(b,d),f.lineTo(m,d),f.moveTo(m,d-g),f.lineTo(m,d+g))})),e?null:f.toString()};return d.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],d):e},d.value=function(){return arguments.length?(t=ne(arguments.length<=0?void 0:arguments[0]),d):t},d.median=function(){return arguments.length?(n=ne(arguments.length<=0?void 0:arguments[0]),d):n},d.upperQuartile=function(){return arguments.length?(r=ne(arguments.length<=0?void 0:arguments[0]),d):r},d.lowerQuartile=function(){return arguments.length?(i=ne(arguments.length<=0?void 0:arguments[0]),d):i},d.high=function(){return arguments.length?(o=ne(arguments.length<=0?void 0:arguments[0]),d):o},d.low=function(){return arguments.length?(s=ne(arguments.length<=0?void 0:arguments[0]),d):s},d.width=function(){return arguments.length?(l=ne(arguments.length<=0?void 0:arguments[0]),d):l},d.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d.cap=function(){return arguments.length?(u=ne(arguments.length<=0?void 0:arguments[0]),d):u},d},se=function(){var e=null,t=function(e){return e.x},n=function(e){return e.high},r=function(e){return e.low},i="vertical",o=ne(5),s=function(s){var c=e||a.path();return s.forEach((function(e,a){var s=t(e,a),l=o(e,a)/2,u=n(e,a),d=r(e,a);"vertical"===i?(c.moveTo(s-l,u),c.lineTo(s+l,u),c.moveTo(s,u),c.lineTo(s,d),c.moveTo(s-l,d),c.lineTo(s+l,d)):(c.moveTo(d,s-l),c.lineTo(d,s+l),c.moveTo(d,s),c.lineTo(u,s),c.moveTo(u,s-l),c.lineTo(u,s+l))})),e?null:c.toString()};return s.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.value=function(){return arguments.length?(t=ne(arguments.length<=0?void 0:arguments[0]),s):t},s.high=function(){return arguments.length?(n=ne(arguments.length<=0?void 0:arguments[0]),s):n},s.low=function(){return arguments.length?(r=ne(arguments.length<=0?void 0:arguments[0]),s):r},s.width=function(){return arguments.length?(o=ne(arguments.length<=0?void 0:arguments[0]),s):o},s.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s},ce=function(e){return"function"==typeof e?e:function(){return e}},le=1e-6,ue=function(e){return e.selection()!==e},de=function(e,t){e=e||"g";var n=function(e,t){return t},r=null,i=function(i,o){o=o||function(e){return e};var a=i.selection(),s=ue(i)?i:null,c=a.selectChildren(null==t?e:"".concat(e,".").concat(t)).data(o,n),l=c.enter().append(e).attr("class",t),u=c.exit();c=c.merge(l);var d=s||r;return d&&(c=c.transition(d).style("opacity",1),l.style("opacity",le),u=u.transition(d).style("opacity",le)),u.remove(),c.enter=function(){return l},c.exit=function(){return u},c};return i.element=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.className=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},fe=function(e,t){if(function(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)}(e,t)){var n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),i=Math.max(e.y,t.y);return(r-n)*(Math.min(e.y+e.height,t.y+t.height)-i)}return 0},he=function(e,n){return t.sum(e.map((function(t,r){return n===r?0:fe(e[n],t)})))},pe=function(e,t,n,r,i){return{x:e,y:t,width:n,height:r,location:i}},ge=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return[pe(t,n,r,i,"bottom-right"),pe(t-r,n,r,i,"bottom-left"),pe(t-r,n-i,r,i,"top-left"),pe(t,n-i,r,i,"top-right"),pe(t,n-i/2,r,i,"middle-right"),pe(t-r/2,n,r,i,"bottom-center"),pe(t-r,n-i/2,r,i,"middle-left"),pe(t-r/2,n-i,r,i,"top-center")]},me=function(e,t,n){return[].concat(F(e.slice(0,t)),[n],F(e.slice(t+1)))},be=function(e,t){return e<t},ve=function e(){var n,r=null,i=be,o=function(){return 0},a=function a(s,c){r||(r=t.sum(n.map((function(e,t){return o(e,t,n)}))));var l=function(e,t){return r-o(n[t],t,n)+o(e,t,me(n,t,e))}(s,c);return i(l,r)?e().locationScore(o).winningScore(i).score(l).rectangles(me(n,c,s)):a};return a.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.winningScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.locationScore=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a},_e=function(e){return Math.floor(Math.random()*e.length)},ye=function(e){return"function"==typeof e?e:function(){return e}};function we(){var e=arguments;return function(t,n){for(var r=0,i=e.length;r<i;r++)if(null==e[r](t,n))return!1;return!0}}var xe=function(e,t){switch(e){case"left":return t/2;case"right":return-t/2;default:return 0}},ke=function(e){var t=Object.assign({},e),n=function(){};return Object.keys(t).forEach((function(e){n[e]=function(){return arguments.length?(t[e]=arguments.length<=0?void 0:arguments[0],n):t[e]}})),n},Me=function(){var e=function(){return 0},t=function(e){return e.x},r=function(e){return e.y},i="center",o=function(){return 5},a="vertical",s=ke({decorate:function(){},defined:function(n,i){return we(e,t,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return s.values=function(n,c){var l=o(n,c),u=xe(i,l),d=s.xScale(),f=s.yScale();if("vertical"===a){var h=f(r(n,c),c),p=f(e(n,c),c),g=d(t(n,c),c)+u;return{d:n,x:g,y:h,y0:p,width:l,height:h-p,origin:[g,h],baseOrigin:[g,p],transposedX:g,transposedY:h}}var m=d(r(n,c),c),b=d(e(n,c),c),v=f(t(n,c),c)+u;return{d:n,x:v,y:m,y0:b,width:l,height:m-b,origin:[m,v],baseOrigin:[b,v],transposedX:m,transposedY:v}},s.xValues=function(){return"vertical"===a?[t]:[e,r]},s.yValues=function(){return"vertical"!==a?[t]:[e,r]},s.baseValue=function(){return arguments.length?(e=ye(arguments.length<=0?void 0:arguments[0]),s):e},s.crossValue=function(){return arguments.length?(t=ye(arguments.length<=0?void 0:arguments[0]),s):t},s.mainValue=function(){return arguments.length?(r=ye(arguments.length<=0?void 0:arguments[0]),s):r},s.bandwidth=function(){return arguments.length?(o=ye(arguments.length<=0?void 0:arguments[0]),s):o},s.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s},Se="#c60",Ce="#6c0",Ae="#000",Te="#ddd",Ee="#999",ze=function(){var e=Me(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=de("path","line"),r=function(r){ue(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,i,o){var a=n(s.select(o[i]),[r]);a.enter().attr("fill","none").attr("stroke",Ae),a.attr("d",t),e.decorate()(a,r,i)}))};return m(r,e,v("baseValue","bandwidth","align")),p(r,n,"key"),p(r,t,"curve"),r},Pe=function(){var e=Me(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=function(n){var r=t.context();r.beginPath(),r.strokeStyle=Ae,r.fillStyle="transparent",e.decorate()(r,n),t.defined(e.defined())(n),r.fill(),r.stroke(),r.closePath()};return m(n,e,v("baseValue","bandwidth","align")),p(n,t,"curve","context"),n},Ie=function(){var e=[0,1],t=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.range=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},De=function(){var e={},t={},n=null,r=function(r,i){var o=r.context();Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(t,", found ").concat(n));var a=o.getAttribLocation(i,t);n.location(a)(r)})),Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(e,", found ").concat(n));var a=o.getUniformLocation(i,e);n.location(a)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(e).forEach((function(e){return e.clear()})),Object.values(t).forEach((function(e){return e.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.uniform=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},Le=function(e){var t=-1,n=e,r=!0,i=function(e){if(r){var i=e.context();if(Array.isArray(n))switch(n.length){case 1:i.uniform1fv(t,n);break;case 2:i.uniform2fv(t,n);break;case 3:i.uniform3fv(t,n);break;case 4:i.uniform4fv(t,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else i.uniform1f(t,n);r=!1}};return i.clear=function(){r=!0},i.location=function(){return arguments.length?(t!==(arguments.length<=0?void 0:arguments[0])&&(t=arguments.length<=0?void 0:arguments[0],r=!0),i):t},i.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},i},Ne=0,Oe=4,Be=function(){var e=null,t=null,n=null,r=null,i=null,o=null,a=Oe,s=0,c=De(),l=!1,u=null,d=!0,f=1,h=function h(g){if(null!=e){var m=n(),b=r();if(function(e,t,n){return!(e&&!d)||t!==i||n!==o}(t,m,b)&&(t=function(t,n){var r=p(t,e.VERTEX_SHADER),i=p(n,e.FRAGMENT_SHADER),o=e.createProgram();if(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),l&&!e.getProgramParameter(o,e.LINK_STATUS)){var a=e.getProgramInfoLog(o);throw e.deleteProgram(o),new Error("Failed to link program : ".concat(a,"\n            Vertex Shader : ").concat(t,"\n            Fragment Shader : ").concat(n))}return o}(m,b),i=m,o=b,d=!1),e.useProgram(t),c.uniform("uScreen",Le([e.canvas.width/f,e.canvas.height/f])),c(h,t),0===s)null==c.elementIndices()?e.drawArrays(a,0,g):e.drawElements(a,g,e.UNSIGNED_SHORT,0);else if(null==c.elementIndices())u.drawArraysInstancedANGLE(a,0,s,g);else{var v=c.elementIndices().data().length;if(s!==v)throw new Error("Expected elementIndices length ".concat(v)+" to match subInstanceCount ".concat(s,"."));u.drawElementsInstancedANGLE(a,s,e.UNSIGNED_SHORT,0,g)}}};return h.extInstancedArrays=function(){return u},h.context=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.length?(null!=n[0]&&n[0]===e||(c.flush(),d=!0),null!=n[0]&&n[0]!==e&&(u=n[0].getExtension("ANGLE_instanced_arrays")),e=n[0],h):e},h.buffers=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],h):n},h.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],h):r},h.mode=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],h):a},h.subInstanceCount=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],h):s},h.debug=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.pixelRatio=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],h):f},h;function p(t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),l&&!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Failed to compile shader : ".concat(i,"\n            Shader : ").concat(t))}return r}},Ve=function(e){var t=[],n=[],r=function(){return e(t.join("\n"),n.join("\n"))};function i(e,t){e.push(t)}function o(e,t,n){var r=e.indexOf(n);e.splice(r>=0?r:e.length,0,t)}function a(e,t){-1===e.indexOf(t)&&e.push(t)}return r.appendHeader=function(e){return i(t,e),r},r.insertHeader=function(e,n){return o(t,e,n),r},r.appendHeaderIfNotExists=function(e){return a(t,e),r},r.appendBody=function(e){return i(n,e),r},r.insertBody=function(e,t){return o(n,e,t),r},r.appendBodyIfNotExists=function(e){return a(n,e),r},r},Re=function(e,t){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(e,"\nvoid main() {\n    ").concat(t,"\n}")},je=function(e,t){return"\nprecision mediump float;\n".concat(e,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(t,"\n}")},Fe="attribute vec4 aFillColor;\n             varying vec4 vFillColor;",He="vFillColor = aFillColor;",We="attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",Ue="vStrokeColor = aStrokeColor;",Ye="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",qe="\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Ze="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Ge="\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",$e="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Xe="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Ke="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Qe="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Je="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",et="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",tt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",nt="\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",rt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",it="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",ot="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",at="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",st="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",ct="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",lt="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",ut="\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",dt="\n        attribute vec3 aCorner;\n        attribute float aCrossNextNextValue;\n        attribute float aMainNextNextValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossPrevValue;\n        attribute float aMainPrevValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        uniform float uStrokeWidth;\n        uniform vec2 uScreen;\n\n        varying float vDefined;",ft="\n        vDefined = aDefined * aDefinedNext;\n        vec4 prev = vec4(aCrossPrevValue, aMainPrevValue, 0, 0);\n        vec4 curr = vec4(aCrossValue, aMainValue, 0, 0);\n        gl_Position = vec4(aCrossNextValue, aMainNextValue, 0, 1);\n        vec4 nextNext = vec4(aCrossNextNextValue, aMainNextNextValue, 0, 0);",ht="\n        vec4 currVertexPosition = gl_Position;\n        vec4 nextVertexPosition = gl_Position;\n\n        if (all(equal(curr.xy, prev.xy))) {\n            prev.xy = curr.xy + normalize(curr.xy - currVertexPosition.xy);\n        }\n        if (all(equal(curr.xy, currVertexPosition.xy))) {\n            currVertexPosition.xy = curr.xy + normalize(curr.xy - prev.xy);\n        }\n        vec2 A = normalize(normalize(curr.xy - prev.xy) * uScreen);\n        vec2 B = normalize(normalize(currVertexPosition.xy - curr.xy) * uScreen);\n        vec2 tangent = normalize(A + B);\n        vec2 miter = vec2(-tangent.y, tangent.x);\n        vec2 normalA = vec2(-A.y, A.x);\n        float miterLength = 1.0 / dot(miter, normalA);\n        vec2 point = normalize(A - B);\n        if (miterLength > 10.0 && sign(aCorner.x * dot(miter, point)) > 0.0) {\n            currVertexPosition.xy = curr.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalA) / uScreen.xy;\n        } else {\n            currVertexPosition.xy = curr.xy + (aCorner.x * miter * uStrokeWidth * miterLength) / uScreen.xy;\n        }\n\n        if (all(equal(nextVertexPosition.xy, curr.xy))) {\n            curr.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - nextNext.xy);\n        }\n        if (all(equal(nextVertexPosition.xy, nextNext.xy))) {\n            nextNext.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - curr.xy);\n        }\n        vec2 C = normalize(normalize(nextVertexPosition.xy - curr.xy) * uScreen);\n        vec2 D = normalize(normalize(nextNext.xy - nextVertexPosition.xy) * uScreen);\n        vec2 tangentCD = normalize(C + D);\n        vec2 miterCD = vec2(-tangentCD.y, tangentCD.x);\n        vec2 normalC = vec2(-C.y, C.x);\n        float miterCDLength = 1.0 / dot(miterCD, normalC);\n        vec2 pointCD = normalize(C - D);\n        if (miterCDLength > 10.0 && sign(aCorner.x * dot(miterCD, pointCD)) > 0.0) {\n            nextVertexPosition.xy = nextVertexPosition.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalC) / uScreen.xy;\n        } else {\n            nextVertexPosition.xy = nextVertexPosition.xy + (aCorner.x * miterCD * uStrokeWidth * miterCDLength) / uScreen.xy;\n        }\n\n        gl_Position.xy = ((1.0 - aCorner.z) * currVertexPosition.xy) + (aCorner.z * nextVertexPosition.xy);",pt="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",gt="\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);",mt="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",bt="\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));",vt="\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",_t="\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;",yt="\n        varying float vSize;\n        varying float vDefined;",wt="\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",xt="\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",kt="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Mt="\n        varying float vSize;\n        varying float vDefined;\n    ",St="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Ct="\n        varying float vSize;\n        varying float vDefined;",At="\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);",Tt="\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",Et="\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    ",zt="\n        varying float vSize;\n        varying float vDefined;",Pt="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",It="\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",Dt="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",Lt="\n        varying float vColorIndicator;\n        varying float vDefined;",Nt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Ot="\n        varying float vColorIndicator;\n        varying float vDefined;",Bt="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Vt="\n        varying float vDefined;",Rt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);",jt="\n        varying float vDefined;\n    ",Ft="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }",Ht="varying float vDefined;",Wt="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }",Ut="varying float vDefined;",Yt="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }",qt="varying vec4 vFillColor;",Zt="gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);",Gt="varying vec4 vStrokeColor;",$t="gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);",Xt="varying float vDefined;",Kt="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }",Qt=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(mt).appendBody(bt),t.appendHeader(Vt).appendBody(Rt),{vertex:function(){return e},fragment:function(){return t}}},Jt={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function en(e){switch(e){case Jt.BYTE:case Jt.UNSIGNED_BYTE:return 1;case Jt.SHORT:case Jt.UNSIGNED_SHORT:return 2;case Jt.FLOAT:return 4;default:throw new Error("Unknown type ".concat(e))}}function tn(e){switch(e){case Jt.BYTE:return Int8Array;case Jt.UNSIGNED_BYTE:return Uint8Array;case Jt.SHORT:return Int16Array;case Jt.UNSIGNED_SHORT:return Uint16Array;case Jt.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(e))}}var nn=function(){var e=-1,t=null,n=1,r=Jt.FLOAT,i=!1,o=0,a=0,s=null,c=function(c){var l=c.context();null==t&&(t=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,t),l.vertexAttribPointer(e,n,r,i,o,a),l.enableVertexAttribArray(e),c.extInstancedArrays().vertexAttribDivisorANGLE(e,null!=s?s:c.subInstanceCount()>0?1:0)};return c.location=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.buffer=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.normalized=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.stride=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.offset=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.divisor=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],c):s},c},rn=function(){var e=!0,t=1,n=Jt.FLOAT,r=function(){var e=Jt.FLOAT,t=new Float32Array(0),n=function(n){var r=tn(e);return t.length>n?t=new r(t.buffer,0,n):t.length!==n&&(t=new r(n)),t};return n.type=function(){if(!arguments.length)return e;if(e!==(arguments.length<=0?void 0:arguments[0])){var r=tn(e=arguments.length<=0?void 0:arguments[0]);t=new r(0)}return n},n}(),i=function(e,t){return e},o=null,a=function(){var a=o.length,s=r.type(n)(a*t);if(t>1)for(var c=0;c<a;c++){var l=i(o[c],c);if(l.length!==t)throw new Error("Expected components array of size ".concat(t,", recieved array with length ").concat(l.length,"."));for(var u=0;u<t;u++)s[c*t+u]=l[u]}else for(var d=0;d<a;d++){var f=i(o[d],d);if(Array.isArray(f))throw new Error("Expected a single component value, recieved array with length ".concat(f.length,"."));s[d]=f}return e=!1,s};return a.dirty=function(){return e},a.clear=function(){e=!0},a.size=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e=!0,a):t},a.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],e=!0,a):n},a.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e=!0,a):r},a.value=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e=!0,a):i},a.data=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],e=!0,a):o},a},on=function(){var e=nn(),t=rn(),n=function n(r){if(e.size(n.size()).type(n.type()),e(r),t.dirty()){var i=t(),o=r.context();o.bindBuffer(o.ARRAY_BUFFER,e.buffer()),o.bufferData(o.ARRAY_BUFFER,i,o.DYNAMIC_DRAW)}};return n.clear=function(){e.buffer(null),t.clear()},p(n,e,"normalized","location","divisor"),p(n,t,"data","value","size","type"),n},an=function(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];e[t]=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=n[r].apply(n,o.concat(i));return s===n?e:s}},sn=function(){var e=Be().mode(Oe).subInstanceCount(6),t=Ie(),n=Ie(),r=function(){},i=on().divisor(0).size(3).type(Jt.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);e.buffers().attribute("aCorner",i);var o=function(i){var o=Qt();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e(i-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},p(o,e,"context","pixelRatio"),an(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(o,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),an(o,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),an(o,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),an(o,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),an(o,"baseNextValueAttribute",e.buffers(),"attribute","aBaseNextValue"),an(o,"definedAttribute",e.buffers(),"attribute","aDefined"),an(o,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),o},cn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(Ye).appendBody(qe),t.appendHeader(yt).appendBody(wt),{vertex:function(){return e},fragment:function(){return t}}},ln=function(){var e=Be().mode(Ne),t=Ie(),n=Ie(),r=cn(),i=function(){},o=function(o){e.vertexShader(r.vertex()).fragmentShader(r.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e(o)};return o.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},p(o,e,"context","pixelRatio"),an(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(o,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),an(o,"sizeAttribute",e.buffers(),"attribute","aSize"),an(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},un=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(dt).appendBody(ft),t.appendHeader(Xt).appendBody(Kt),{vertex:function(){return e},fragment:function(){return t}}},dn=function(){var e=1,t=function(t){t.buffers().uniform("uStrokeWidth",Le(e))};return t.lineWidth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},fn=function(e){var t=null,n=e,r=!0,i=function(e){var i=e.context();null==t&&(t=i.createBuffer()),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),r&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),i.STATIC_DRAW),r=!1)};return i.clear=function(){t=null,r=!0},i.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],i):n},i},hn=function(){var e=Be().mode(Oe).subInstanceCount(12),t=Ie(),n=Ie(),r=function(){},i=dn(),o=on().divisor(0).size(3).type(Jt.BYTE).data([[-1,0,0],[1,1,0],[1,-1,1],[-1,0,1],[1,1,1]]);e.buffers().elementIndices(fn([0,1,2,1,2,3,0,2,3,2,3,4])).attribute("aCorner",o);var a=function(o){var a=un();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"prev",0),n(e,"prev",1),t(e,"curr",0),n(e,"curr",1),t(e,"gl_Position",0),n(e,"gl_Position",1),t(e,"nextNext",0),n(e,"nextNext",1),e.vertexShader().appendBody(ht),i(e),r(e),e(o-1)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,e,"context","pixelRatio"),p(a,i,"lineWidth"),an(a,"crossPreviousValueAttribute",e.buffers(),"attribute","aCrossPrevValue"),an(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(a,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),an(a,"crossNextNextValueAttribute",e.buffers(),"attribute","aCrossNextNextValue"),an(a,"mainPreviousValueAttribute",e.buffers(),"attribute","aMainPrevValue"),an(a,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),an(a,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),an(a,"mainNextNextValueAttribute",e.buffers(),"attribute","aMainNextNextValue"),an(a,"definedAttribute",e.buffers(),"attribute","aDefined"),an(a,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),a},pn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(st).appendBody(ct),t.appendHeader(Ot).appendBody(Bt),{vertex:function(){return e},fragment:function(){return t}}},gn=function(){var e=Be().mode(Oe).subInstanceCount(18),t=Ie(),n=Ie(),r=dn(),i=function(){},o=on().divisor(0).size(3).type(Jt.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);e.buffers().elementIndices(fn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",o);var a=function(o){var a=pn();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(e),e(o)};return a.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,e,"context","pixelRatio"),p(a,r,"lineWidth"),an(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(a,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),an(a,"highValueAttribute",e.buffers(),"attribute","aHighValue"),an(a,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),an(a,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),an(a,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),an(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},mn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(lt).appendBody(ut),t.appendHeader(Ut).appendBody(Yt),{vertex:function(){return e},fragment:function(){return t}}},bn=function(){var e=Be().mode(Oe).subInstanceCount(6),t=Ie(),n=Ie(),r=function(){},i=on().divisor(0).size(2).type(Jt.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);e.buffers().elementIndices(fn([0,1,2,0,1,3])).attribute("aCorner",i);var o=function(i){var o=mn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(e),e(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},p(o,e,"context","pixelRatio"),an(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(o,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),an(o,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),an(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),an(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},vn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(pt).appendBody(gt),t.appendHeader(Ht).appendBody(Wt),{vertex:function(){return e},fragment:function(){return t}}},_n=function(){var e=Be().mode(Oe).subInstanceCount(18),t=Ie(),n=Ie(),r=function(){},i=dn(),o=on().divisor(0).size(3).type(Jt.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);e.buffers().elementIndices(fn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",o);var a=function(o){var a=vn();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(e),e(o)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,e,"context","pixelRatio"),p(a,i,"lineWidth"),an(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(a,"highValueAttribute",e.buffers(),"attribute","aHighValue"),an(a,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),an(a,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),an(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},yn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(ot).appendBody(at),t.appendHeader(Lt).appendBody(Nt),{vertex:function(){return e},fragment:function(){return t}}},wn=function(){var e=Be().mode(Oe).subInstanceCount(12),t=Ie(),n=Ie(),r=dn(),i=function(){},o=on().divisor(0).size(3).type(Jt.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);e.buffers().elementIndices(fn([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",o);var a=function(o){var a=yn();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(e),e(o)};return a.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,e,"context","pixelRatio"),p(a,r,"lineWidth"),an(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(a,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),an(a,"highValueAttribute",e.buffers(),"attribute","aHighValue"),an(a,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),an(a,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),an(a,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),an(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},xn=function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(vt).appendBody(_t),t.appendHeader(jt).appendBody(Ft),{vertex:function(){return e},fragment:function(){return t}}},kn=function(){var e=Be().mode(Oe).subInstanceCount(54),t=Ie(),n=Ie(),r=function(){},i=dn(),o=on().divisor(0).size(4).type(Jt.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);e.buffers().elementIndices(fn([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",o);var a=function(o){var a=xn();e.vertexShader(a.vertex()).fragmentShader(a.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),i(e),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(e),e(o)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},p(a,e,"context","pixelRatio"),p(a,i,"lineWidth"),an(a,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),an(a,"highValueAttribute",e.buffers(),"attribute","aHighValue"),an(a,"upperQuartileValueAttribute",e.buffers(),"attribute","aUpperQuartileValue"),an(a,"medianValueAttribute",e.buffers(),"attribute","aMedianValue"),an(a,"lowerQuartileValueAttribute",e.buffers(),"attribute","aLowerQuartileValue"),an(a,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),an(a,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),an(a,"capAttribute",e.buffers(),"attribute","aCapWidth"),an(a,"definedAttribute",e.buffers(),"attribute","aDefined"),a},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>0||t<0)throw new Error("Offset values (".concat(e," & ").concat(t,") must straddle 0 "));var n=nn(),r=rn(),i=function i(o){var a=i.size()*en(i.type()),s=Math.abs(e)*a;if(n.offset(s).size(i.size()).type(i.type()),n(o),r.dirty()){var c=r(),l=t*a,u=s+c.length*en(i.type())+l,d=o.context();d.bindBuffer(d.ARRAY_BUFFER,n.buffer()),d.bufferData(d.ARRAY_BUFFER,u,d.DYNAMIC_DRAW),d.bufferSubData(d.ARRAY_BUFFER,s,c)}};return i.offset=function(r){if(e>r||r>t)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(e," & ").concat(t,") "));var o=function(t){n.offset((r-e)*i.size()*en(i.type())),n(t)};return p(o,i,"clear","location"),o},i.clear=function(){n.buffer(null),r.clear()},p(i,n,"normalized","location","divisor"),p(i,r,"data","value","size","type"),i},Sn=function(){var e=Ie(),t=function(e){return"linear".concat(e)},n=function(n,r,i){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(t(i),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(t(i),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(t(i),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(t(i),"Scale;"));var o=e.domain()[1]-e.domain()[0],a=e.range()[1]-e.range()[0],s=e.range()[0]*(o/a)-e.domain()[0],c=a/o,l=[0,0,0,0],u=[1,1,1,1];l[i]=s,u[i]=c,n.buffers().uniform("".concat(t(i),"Offset"),Le(l)).uniform("".concat(t(i),"Scale"),Le(u))};return m(n,e),n},Cn=function(){var e=Ie(),t=10;function n(e,t){return Math.log10(e)/Math.log10(t)}var r=function(e){return"log".concat(e)},i=function(i,o,a){var s="".concat(r(a),"Offset + (").concat(r(a),"Scale * clamp(log(").concat(o,") / log(").concat(r(a),"Base), -inf, inf))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(a),"Base;")).appendBody("".concat(o," = (").concat(r(a),"Include * (").concat(s,")) + ((1.0 - ").concat(r(a),"Include) * ").concat(o,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),l=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-l*n(e.domain()[0],t),d=[0,0,0,0],f=[0,0,0,0],h=[0,0,0,0];d[a]=u,f[a]=l,h[a]=1,i.buffers().uniform("".concat(r(a),"Offset"),Le(d)).uniform("".concat(r(a),"Scale"),Le(f)).uniform("".concat(r(a),"Include"),Le(h)).uniform("".concat(r(a),"Base"),Le(t))};return i.base=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},m(i,e),i},An=function(){var e=Ie(),t=1;function n(e,t){return Math.sign(e)*Math.pow(Math.abs(e),t)}var r=function(e){return"pow".concat(e)},i=function(i,o,a){var s="".concat(r(a),"Offset + (").concat(r(a),"Scale * sign(").concat(o,") * pow(abs(").concat(o,"), vec4(").concat(r(a),"Exp)))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(a),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(a),"Exp;")).appendBody("".concat(o," = (").concat(r(a),"Include * (").concat(s,")) + ((1.0 - ").concat(r(a),"Include) * ").concat(o,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),l=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-l*n(e.domain()[0],t),d=[0,0,0,0],f=[0,0,0,0],h=[0,0,0,0];d[a]=u,f[a]=l,h[a]=1,i.buffers().uniform("".concat(r(a),"Offset"),Le(d)).uniform("".concat(r(a),"Scale"),Le(f)).uniform("".concat(r(a),"Include"),Le(h)).uniform("".concat(r(a),"Exp"),Le(t))};return i.exponent=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},m(i,e),i},Tn=n.scaleLinear().copy.toString(),En=n.scaleLog().copy.toString(),zn=n.scalePow().copy.toString(),Pn=n.scaleTime().copy.toString(),In=n.scaleIdentity(),Dn=Date.now(),Ln=function(e){return e-Dn},Nn=function(e){switch(e.copy.toString()){case Tn:return{scale:In,webglScale:Sn().domain(e.domain())};case Pn:return{scale:Ln,webglScale:Sn().domain(e.domain().map(Ln))};case En:return{scale:In,webglScale:Cn().domain(e.domain()).base(e.base())};case zn:return{scale:In,webglScale:An().domain(e.domain()).exponent(e.exponent())};default:return{scale:e.copy(),webglScale:Sn().domain(e.range())}}},On=function(e){switch(e){case c.symbolCircle:return cn();case c.symbolSquare:return t=Ve(Re),n=Ve(je),t.appendHeader(Ke).appendBody(Qe),n.appendHeader(Ct).appendBody(At),{vertex:function(){return t},fragment:function(){return n}};case c.symbolTriangle:return function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(tt).appendBody(nt),t.appendHeader(zt).appendBody(Pt),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolCross:return function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(rt).appendBody(it),t.appendHeader(It).appendBody(Dt),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolDiamond:return function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(Je).appendBody(et),t.appendHeader(Tt).appendBody(Et),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolStar:return function(){var e=Ve(Re),t=Ve(je);return e.appendHeader(Ze).appendBody(Ge),t.appendHeader(xt).appendBody(kt),{vertex:function(){return e},fragment:function(){return t}}}();case c.symbolWye:return function(){var e=Ve(Re),t=Ve(je);return e.appendHeader($e).appendBody(Xe),t.appendHeader(Mt).appendBody(St),{vertex:function(){return e},fragment:function(){return t}}}();default:throw new Error("Unrecognised symbol: ".concat(e))}var t,n},Bn=function(e){var t=nn().divisor(1),n=e,r=!0,i=function(e){if(t(e),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==t.size())throw new Error("Expected array of length: ".concat(t.size(),", recieved array of length: ").concat(n.length));var i=e.context();i["vertexAttrib".concat(n.length,"fv")](t.location(),n),i.disableVertexAttribArray(t.location()),r=!1}};return i.clear=function(){r=!0},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},p(i,t,"normalized","size","location"),i},Vn=function(){var e=Me(),t=Mn(-1,2),n=t.offset(-1),r=t.offset(1),i=t.offset(2),o=Mn(-1,2),a=o.offset(-1),s=o.offset(1),c=o.offset(2),l=Mn(0,1).type(Jt.UNSIGNED_BYTE),u=l.offset(1),d=hn().crossPreviousValueAttribute(n).crossValueAttribute(t).crossNextValueAttribute(r).crossNextNextValueAttribute(i).mainPreviousValueAttribute(a).mainValueAttribute(o).mainNextValueAttribute(s).mainNextNextValueAttribute(c).definedAttribute(l).definedNextAttribute(u),f=function(e,t){return!1},h=Nn,g=[],b=null,_=null,y=function(n){var r=h(e.xScale()),i=h(e.yScale()),a=!f(g,n);a&&(g=n,l.value((function(t,n){return e.defined()(t,n)})).data(n)),(a||r.scale!==b)&&(b=r.scale,"vertical"===e.orient()?t.value((function(t,n){return r.scale(e.crossValue()(t,n))})).data(n):t.value((function(t,n){return r.scale(e.mainValue()(t,n))})).data(n)),(a||i.scale!==_)&&(_=i.scale,"vertical"===e.orient()?o.value((function(t,n){return i.scale(e.mainValue()(t,n))})).data(n):o.value((function(t,n){return i.scale(e.crossValue()(t,n))})).data(n)),d.xScale(r.webglScale).yScale(i.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),d(n.length)};return y.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.scaleMapper=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},m(y,e,v("baseValue","bandwidth","align")),p(y,d,"context","lineWidth","pixelRatio"),y},Rn=function(){var e=c.symbol(),t=Me(),n=de("g","point"),r=function(e){return"translate("+e[0]+", "+e[1]+")"},i=function(i){ue(i)&&n.transition(i),i.each((function(i,o,a){var c=i.filter(t.defined()),l=n(s.select(a[o]),c);l.enter().attr("transform",(function(e,n){return r(t.values(e,n).origin)})).attr("fill",Te).attr("stroke",Ae).append("path"),l.attr("transform",(function(e,n){return r(t.values(e,n).origin)})).select("path").attr("d",e),t.decorate()(l,i,o)}))};return m(i,t,v("baseValue","bandwidth","align")),p(i,n,"key"),p(i,e,"type","size"),i},jn=function(){var e=c.symbol(),t=Me(),n=function(n){var r=n.filter(t.defined()),i=e.context();r.forEach((function(n,r){i.save();var o=t.values(n,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),i.strokeStyle=Ae,i.fillStyle=Te,t.decorate()(i,n,r),e(n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return m(n,t,v("baseValue","bandwidth","align")),p(n,e,"size","type","context"),n},Fn=function(){var e=function(e){return e.high},t=function(e){return e.low},r=function(e){return e.cross},i="vertical",o="center",a=function(){return 5},s=ke({decorate:function(){},defined:function(n,i){return we(t,e,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return s.values=function(n,c){var l=a(n,c),u=xe(o,l),d=s.xScale(),f=s.yScale();if("vertical"===i){var h=f(e(n,c));return{origin:[d(r(n,c))+u,h],high:0,low:f(t(n,c))-h,width:l}}var p=d(t(n,c));return{origin:[p,f(r(n,c))+u],high:d(e(n,c))-p,low:0,width:l}},s.xValues=function(){return"vertical"===i?[r]:[e,t]},s.yValues=function(){return"vertical"!==i?[r]:[e,t]},s.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.lowValue=function(){return arguments.length?(t=ye(arguments.length<=0?void 0:arguments[0]),s):t},s.highValue=function(){return arguments.length?(e=ye(arguments.length<=0?void 0:arguments[0]),s):e},s.crossValue=function(){return arguments.length?(r=ye(arguments.length<=0?void 0:arguments[0]),s):r},s.bandwidth=function(){return arguments.length?(a=ye(arguments.length<=0?void 0:arguments[0]),s):a},s.align=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s},Hn=function(){var e,t=function(e){return e.date},r=function(e){return e.open},i=function(e){return e.high},o=function(e){return e.low},a=function(e){return e.close},s=function(){return 5},c="center",l=function(n,r){return e.xScale()(t(n,r))};return(e=ke({decorate:function(){},defined:function(e,n){return we(t,r,o,i,a)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(t,n){var u=a(t,n),d=r(t,n),f=s(t,n),h=xe(c,f),p="";return u>d?p="up":u<d&&(p="down"),{cross:l(t,n)+h,open:e.yScale()(d),high:e.yScale()(i(t,n)),low:e.yScale()(o(t,n)),close:e.yScale()(u),width:f,direction:p}},e.xValues=function(){return[t]},e.yValues=function(){return[r,i,o,a]},e.crossValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e):r},e.highValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e):i},e.lowValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],e):o},e.yValue=e.closeValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],e):a},e.bandwidth=function(){return arguments.length?(s=ye(arguments.length<=0?void 0:arguments[0]),e):s},e.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],e):c},e},Wn=function(e,t){var n=Hn(),r=de("g",t),i=function(e){return"translate("+e.cross+", "+e.high+")"},o=function(o){ue(o)&&r.transition(o);var a,c=(a=o,function(e){return ue(a)?e.transition(a):e});o.each((function(o,a,l){var u=o.filter(n.defined()),d=r(s.select(l[a]),u);d.enter().attr("transform",(function(e,t){return i(n.values(e,t))+" scale(1e-6, 1)"})).append("path"),d.each((function(r,o,a){var l=n.values(r,o),u="up"===l.direction?Ce:Se,d=c(s.select(a[o])).attr("class",t+" "+l.direction).attr("stroke",u).attr("fill",u).attr("transform",(function(){return i(l)+" scale(1)"}));e.x(0).width(l.width).open((function(){return l.open-l.high})).high(0).low((function(){return l.low-l.high})).close((function(){return l.close-l.high})),d.select("path").attr("d",e([r]))})),n.decorate()(d,o,a)}))};return p(o,r,"key"),m(o,n),o},Un=function(e){var t=Hn(),n=function(n){var r=n.filter(t.defined()),i=e.context();r.forEach((function(n,r){i.save();var o=t.values(n,r);i.translate(o.cross,o.high),i.beginPath(),e.x(0).open((function(){return o.open-o.high})).width(o.width).high(0).low((function(){return o.low-o.high})).close((function(){return o.close-o.high}))([n]);var a="up"===o.direction?Ce:Se;i.strokeStyle=a,i.fillStyle=a,t.decorate()(i,n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return p(n,e,"context"),m(n,t),n},Yn=function(e){var t=Hn(),n=on(),r=on(),i=on(),o=on(),a=on(),s=on().type(Jt.UNSIGNED_SHORT),c=on().type(Jt.UNSIGNED_BYTE);e.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(i).lowValueAttribute(o).closeValueAttribute(a).bandwidthAttribute(s).definedAttribute(c);var l=function(e,t){return!1},u=Nn,d=[],f=null,h=null,g=function(p){var g=u(t.xScale()),m=u(t.yScale()),b=!l(d,p);b&&(d=p,s.value((function(e,n){return t.bandwidth()(e,n)})).data(p),c.value((function(e,n){return t.defined()(e,n)})).data(p)),(b||g.scale!==f)&&(f=g.scale,n.value((function(e,n){return g.scale(t.crossValue()(e,n))})).data(p)),(b||m.scale!==h)&&(h=m.scale,r.value((function(e,n){return m.scale(t.openValue()(e,n))})).data(p),i.value((function(e,n){return m.scale(t.highValue()(e,n))})).data(p),o.value((function(e,n){return m.scale(t.lowValue()(e,n))})).data(p),a.value((function(e,n){return m.scale(t.closeValue()(e,n))})).data(p)),e.xScale(g.webglScale).yScale(m.webglScale).decorate((function(e){return t.decorate()(e,p,0)})),e(p.length)};return g.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},m(g,t,v("align")),p(g,e,"context","lineWidth","pixelRatio"),g},qn=function(){var e=function(e){return e.upperQuartile},t=function(e){return e.lowerQuartile},r=function(e){return e.high},i=function(e){return e.low},o=function(e){return e.value},a=function(e){return e.median},s="vertical",c="center",l=function(){return 5},u=ke({decorate:function(){},defined:function(n,s){return we(i,r,t,e,o,a)(n,s)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,d){var f=l(n,d),h=xe(c,f),p=u.xScale(),g=u.yScale();if("vertical"===s){var m=g(r(n,d));return{origin:[p(o(n,d))+h,m],high:0,upperQuartile:g(e(n,d))-m,median:g(a(n,d))-m,lowerQuartile:g(t(n,d))-m,low:g(i(n,d))-m,width:f}}var b=p(i(n,d));return{origin:[b,g(o(n,d))+h],high:p(r(n,d))-b,upperQuartile:p(e(n,d))-b,median:p(a(n,d))-b,lowerQuartile:p(t(n,d))-b,low:0,width:f}},u.xValues=function(){return"vertical"===s?[o]:[e,t,r,i,a]},u.yValues=function(){return"vertical"!==s?[o]:[e,t,r,i,a]},u.orient=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],u):s},u.lowerQuartileValue=function(){return arguments.length?(t=ye(arguments.length<=0?void 0:arguments[0]),u):t},u.upperQuartileValue=function(){return arguments.length?(e=ye(arguments.length<=0?void 0:arguments[0]),u):e},u.lowValue=function(){return arguments.length?(i=ye(arguments.length<=0?void 0:arguments[0]),u):i},u.highValue=function(){return arguments.length?(r=ye(arguments.length<=0?void 0:arguments[0]),u):r},u.crossValue=function(){return arguments.length?(o=ye(arguments.length<=0?void 0:arguments[0]),u):o},u.medianValue=function(){return arguments.length?(a=ye(arguments.length<=0?void 0:arguments[0]),u):a},u.bandwidth=function(){return arguments.length?(l=ye(arguments.length<=0?void 0:arguments[0]),u):l},u.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u},Zn=function(){var e=[],t=function(e){return e},r=function(e,t){return t},i=ke({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return i.xValues=function(){return e.map((function(e){return e.xValues()})).reduce((function(e,t){return e.concat(t)}))},i.yValues=function(){return e.map((function(e){return e.yValues()})).reduce((function(e,t){return e.concat(t)}))},i.mapping=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i},Gn=function(){var e=Zn(),t=de("g"),n=de("g","multi"),r=function(r){ue(r)&&(n.transition(r),t.transition(r));var i=e.mapping(),o=e.series(),a=e.xScale(),c=e.yScale();r.each((function(r,l,u){var d=n(s.select(u[l]),o);d.each((function(e,n,l){e.xScale(a).yScale(c);var u=i(r,n,o);t(s.select(l[n]),[u]).call(e)})),d.selection().order(),e.decorate()(d,r,l)}))};return m(r,e),p(r,n,"key"),r},$n=function(){var e=null,t=Zn(),n=function(n){var r=t.mapping(),i=t.series(),o=t.xScale(),a=t.yScale();i.forEach((function(s,c){var l,u=r(n,c,i);s.context(e).xScale(o).yScale(a),s.decorate?(l=s.decorate(),s.decorate((function(e,r,i){t.decorate()(e,n,c),l(e,r,i)}))):t.decorate()(e,n,c),s(u),l&&s.decorate(l)}))};return n.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},m(n,t),n},Xn=function(){var e=null,t=1,n=Zn(),r=function(r){var i=n.mapping(),o=n.series(),a=n.xScale(),s=n.yScale();o.forEach((function(c,l){var u,d=i(r,l,o);c.context(e).pixelRatio(t).xScale(a).yScale(s),c.decorate?(u=c.decorate(),c.decorate((function(e,t,i){n.decorate()(e,r,l),u(e,t,i)}))):n.decorate()(e,r,l),c(d),u&&c.decorate(u)}))};return r.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.pixelRatio=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},m(r,n),r},Kn=function(e){var r=function(){return 50},i="center",o=n.scaleBand(),a=ke({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return a.offsetScaleForDatum=function(e,n,a){var s=r(n,a),c=xe(i,s),l=s/2;return o.domain(t.range(0,e.length)).range([-l+c,l+c])},a.bandwidth=function(){return arguments.length?(r=ye(arguments.length<=0?void 0:arguments[0]),a):r},a.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},m(a,o,y({paddingInner:"paddingOuter"})),a};var Qn=function(){var e=function(e){return e.x},r=function(e){return e.y},i=function(e){return e.color},o=function(){return 5},a=function(){return 5},s=l.interpolateViridis,c=ke({decorate:function(){},defined:function(t,n){return we(e,r,i)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return c.pathGenerator=ie().x(0).y(0),c.colorScale=function(e){var r=e.map(i);return n.scaleLinear().domain([t.min(r),t.max(r)])},c.values=function(t,n){return{x:c.xScale()(e(t,n)),y:c.yScale()(r(t,n)),colorValue:i(t,n),width:a(t,n),height:o(t,n)}},c.xValues=function(){return[e]},c.yValues=function(){return[r]},c.xValue=function(){return arguments.length?(e=ye(arguments.length<=0?void 0:arguments[0]),c):e},c.yValue=function(){return arguments.length?(r=ye(arguments.length<=0?void 0:arguments[0]),c):r},c.colorValue=function(){return arguments.length?(i=ye(arguments.length<=0?void 0:arguments[0]),c):i},c.colorInterpolate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],c):s},c.xBandwidth=function(){return arguments.length?(a=ye(arguments.length<=0?void 0:arguments[0]),c):a},c.yBandwidth=function(){return arguments.length?(o=ye(arguments.length<=0?void 0:arguments[0]),c):o},m(c,c.pathGenerator,y({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),c},Jn=function(e){return"function"==typeof e?e:function(){return e}},er=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},i=r,o=function(){},a="horizontal",c=de("g","annotation-line"),l=function(n){if(ue(n)&&c.transition(n),"horizontal"!==a&&"vertical"!==a)throw new Error("Invalid orientation");var l="horizontal"===a,u=l?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},d=l?"x2":"y2",f=l?t:e,h=l?"left-handle":"bottom-handle",p=l?"right-handle":"top-handle",g=l?"9":"0",m=l?"0":"9",b=l?"0.32em":"0.71em",v=l?"start":"middle",_=(l?e:t).range(),y=function(){return u(_[0],f(r.apply(void 0,arguments)))},w=_[1]-_[0];n.each((function(e,t,n){var r=c(s.select(n[t]),e),l=r.enter().attr("transform",y).style("stroke","#bbb");l.append("line").attr(d,w),l.append("g").classed(h,!0).style("stroke","none"),l.append("g").classed(p,!0).style("stroke","none").attr("transform",u(w,0)).append("text").attr("text-anchor",v).attr("x",g).attr("y",m).attr("dy",b),r.attr("class","annotation-line ".concat(a)),r.attr("transform",y),r.select("line").attr(d,w),r.select("g."+p).attr("transform",u(w,0)),r.select("text").text(i),o(r,e,t)}))};return l.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),l):r},l.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),l):i},l.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l};var tr=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},i=r,o=function(){},a="horizontal",s=c.line(),l=function(n){if("horizontal"!==a&&"vertical"!==a)throw new Error("Invalid orientation");var c="horizontal"===a,l=s.context(),u=c?e:t,d=c?t:e,f=u.domain(),h=c?9:0,p=c?0:9,g=c?"left":"center",m=c?"middle":"hanging";n.forEach((function(e,t){l.save(),l.beginPath(),l.strokeStyle="#bbb",l.fillStyle="#000",l.textAlign=g,l.textBaseline=m,o(l,e,t),s.context(l)(f.map((function(t){var n=[u(t),d(r(e))];return c?n:n.reverse()})));var n=c?u(f[1]):d(r(e)),a=c?d(r(e)):u(f[1]);l.fillText(i(e),n+h,a+p),l.fill(),l.stroke(),l.closePath(),l.restore()}))};return l.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),l):r},l.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),l):i},l.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},p(l,s,"context"),l},nr=function(){var e=n.scaleIdentity(),t=[10],r=null,i=function(){var n;return null!=r?r:e.ticks?(n=e).ticks.apply(n,F(t)):e.domain()};return i.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.ticks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=n,i},i.tickArguments=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},rr=function(e){return e},ir=function(e){return e},or=function(e,t,n,r){return e[t]?e[t].apply(e,n):r},ar=function(e){var t;return null!==(t=e.tickValues())&&void 0!==t?t:or(e.scale(),"ticks",e.tickArguments(),e.scale().domain())},sr=function(e){var t;return null!==(t=e.tickFormat())&&void 0!==t?t:or(e.scale(),"tickFormat",e.tickArguments(),ir)},cr=function(e){return e},lr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],i=null,o=function(){},a=null,l=6,u=6,d=3,f=c.line(),h=de("g","tick").key(cr),p=de("path","domain"),g=function(){return{offset:[0,u+d]}},m=function(){return{path:[[0,0],[0,u]]}},b=n.labelOffset||g,v=n.tickPath||m,_=function(e,t){var n=0;return e.bandwidth&&(n=e.bandwidth()/2,e.round()&&(n=Math.round(n))),function(r){return t(e(r)+n,0)}},y=function(e,t){return x()?"translate(".concat(t,", ").concat(e,")"):"translate(".concat(e,", ").concat(t,")")},w=function(e){return x()?e.map((function(e){return[e[1],e[0]]})):e},x=function(){return"left"===e||"right"===e},k=function n(r){ue(r)&&(h.transition(r),p.transition(r)),r.each((function(r,i,a){var c=a[i],u=s.select(c);c.__scale__||u.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===e?"start":"left"===e?"end":"middle");var d=c.__scale__||t;c.__scale__=t.copy();var g=ar(n),m=sr(n),k="bottom"===e||"right"===e?1:-1,M=function(e){var t=j(e,2),n=t[0],r=t[1];return[n,k*r]},S=t.range(),C=w([[S[0],k*l],[S[0],0],[S[1],0],[S[1],k*l]]),A=p(u,[r]);A.enter().attr("stroke","#000"),A.attr("d",f(C));var T=h(u,g),E=g.map((function(e,t){return b(e,t,g)})),z=g.map((function(e,t){return v(e,t,g)}));T.enter().attr("transform",_(d,y)).append("path").attr("stroke","#000"),T.enter().append("text").attr("transform",(function(e,t){return y.apply(void 0,F(M(E[t].offset)))})).attr("fill","#000"),T.exit().attr("transform",_(t,y)),T.select("path").attr("visibility",(function(e,t){return z[t].hidden&&"hidden"})).attr("d",(function(e,t){return f(w(z[t].path.map(M)))})),T.select("text").attr("visibility",(function(e,t){return E[t].hidden&&"hidden"})).attr("transform",(function(e,t){return y.apply(void 0,F(M(E[t].offset)))})).attr("dy",(function(){var t="0em";return x()?t="0.32em":"bottom"===e&&(t="0.71em"),t})).text(m),T.attr("transform",_(t,y)),o(T,r,i)}))};return k.tickFormat=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],k):a},k.tickSize=function(){return arguments.length?(u=l=Number(arguments.length<=0?void 0:arguments[0]),k):u},k.tickSizeInner=function(){return arguments.length?(u=Number(arguments.length<=0?void 0:arguments[0]),k):u},k.tickSizeOuter=function(){return arguments.length?(l=Number(arguments.length<=0?void 0:arguments[0]),k):l},k.tickPadding=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],k):d},k.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],k):o},k.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],k):t},k.ticks=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=[].concat(t),k},k.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),k):null!==r?r.slice():null},k.tickValues=function(){return arguments.length?(i=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),k):null!==i?i.slice():null},k.orient=function(){return e},k},ur=function(e,t){var n=!1,r=lr(e,t,{labelOffset:function(e,i,o){var a=0,s=r.tickSizeInner()+r.tickPadding(),c=!1;if(n){var l=t(e),u=i<o.length-1?t(o[i+1]):t.range()[1];a=(u-l)/2,s=r.tickPadding(),c=i===o.length-1&&l===u}return{offset:[a,s],hidden:c}}}),i=function(e){return r(e)};return i.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},m(i,r),i},dr=function(e){return ur("top",e)},fr=function(e){return ur("bottom",e)},hr=function(e){return ur("left",e)},pr=function(e){return ur("right",e)},gr=function(e,t){var n=null,r=function(e,n,r){if(t.step)return t.step();var i=t(e);return n<r.length-1?t(r[n+1])/i:2*(t.range()[1]-i)},i=lr(e,t,{labelOffset:function(){return{offset:[0,i.tickPadding()]}},tickPath:function(e,t,o){var a;return{path:[[a=n?n(e,t):r(e,t,o)/2,0],[a,i.tickSizeInner()]],hidden:t===o.length-1}}}),o=function(e){i(e)};return o.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},m(o,i),o},mr=function(e){return function(t){var n=ar(e),r=sr(e),i=n.map(r),o=t.append("text"),a=i.map((function(e){return o.text(e).node().getBBox()})),s=Math.max.apply(Math,F(a.map((function(e){return e.height})))),c=Math.max.apply(Math,F(a.map((function(e){return e.width}))));return o.remove(),{maxHeight:s,maxWidth:c,labelCount:i.length}}},br="__d3fc-elements__",vr=function(e){return e[br]||{}},_r=function(e,t){e[br]=t},yr=function(e){return"D3FC-GROUP"===e.tagName?[e].concat(F(e.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[e]},wr=function(e){var t=vr(e),n=t.width,r=t.height,i=e.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,o=e.clientWidth*i,a=e.clientHeight*i,s=o!==n||a!==r,c=e.children[0];_r(e,{pixelRatio:i,width:o,height:a,resized:s,child:c})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var xr=function(e){var t=vr(e),n=new CustomEvent("measure",{detail:t});e.dispatchEvent(n)},kr=function(e){var t=vr(e),n=new CustomEvent("draw",{detail:t});e.dispatchEvent(n)},Mr=function(e){return vr(e.ownerDocument).queue||[]},Sr=function(e,t){var n=vr(e.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){var t,n=Mr(e);(t=n.map(yr).reduce((function(e,t){return e.concat(t)}))).forEach(wr),t.forEach(xr),t.forEach(kr),Cr(e)}))),_r(e.ownerDocument,{queue:t,requestId:n})},Cr=function(e){return function(e){return delete e[br]}(e.ownerDocument)},Ar=function(e,t){var n=e;do{if(n.parentNode===t)return!0}while(n=n.parentNode);return!1},Tr=function(e){var t=Mr(e);if(!(t.indexOf(e)>-1||t.some((function(t){return Ar(e,t)})))){var n=t.filter((function(t){return!Ar(t,e)}));n.push(e),Sr(e,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Er=function(e,t){return function(n){I(i,n);var r=R(i);function i(){return E(this,i),r.apply(this,arguments)}return P(i,[{key:"attributeChangedCallback",value:function(e){switch(e){case"use-device-pixel-ratio":this.requestRedraw()}}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(e()),function(e){null==e.__measureListener__&&(e.__measureListener__=function(t){return e.setMeasurements(t.detail)},e.addEventListener("measure",e.__measureListener__))}(this)}},{key:"disconnectedCallback",value:function(){!function(e){null!=e.__measureListener__&&(e.removeEventListener("measure",e.__measureListener__),e.__measureListener__=null)}(this)}},{key:"setMeasurements",value:function(e){var n,r=e.width,i=e.height,o=H(n=this.childNodes)||W(n)||U(n)||q(),a=o[0];if(o.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(this,a,{width:r,height:i})}},{key:"requestRedraw",value:function(){Tr(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(e){e&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!e&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),i}(B(HTMLElement))},zr=function(e){I(n,e);var t=R(n);function n(){return E(this,n),t.apply(this,arguments)}return P(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(e){e&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!e&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}(Er((function(){return document.createElement("canvas")}),(function(e,t,n){var r=n.width,i=n.height;t.setAttribute("width",r),t.setAttribute("height",i),e.setWebglViewport&&t.getContext("webgl").viewport(0,0,r,i)}))),Pr=function(e){e.autoResize?Ir(e):Dr(e)},Ir=function(e){null==e.__autoResizeListener__&&(e.__autoResizeListener__=function(){return Tr(e)},addEventListener("resize",e.__autoResizeListener__))},Dr=function(e){null!=e.__autoResizeListener__&&(removeEventListener("resize",e.__autoResizeListener__),e.__autoResizeListener__=null)},Lr=function(e){I(n,e);var t=R(n);function n(){return E(this,n),t.apply(this,arguments)}return P(n,[{key:"connectedCallback",value:function(){Pr(this)}},{key:"disconnectedCallback",value:function(){Dr(this)}},{key:"requestRedraw",value:function(){Tr(this)}},{key:"attributeChangedCallback",value:function(e){switch(e){case"auto-resize":Pr(this)}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(e){e&&!this.autoResize?this.setAttribute("auto-resize",""):!e&&this.autoResize&&this.removeAttribute("auto-resize"),Pr(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(B(HTMLElement)),Nr=Er((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(e,t,n){var r=n.width,i=n.height;t.setAttribute("viewBox","0 0 ".concat(r," ").concat(i))})),Or="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Br=document.createElement("style");if(Br.setAttribute("type","text/css"),document.querySelector("head").appendChild(Br),Br.styleSheet?Br.styleSheet.cssText+=Or:Br.textContent+=Or,"object"!==("undefined"==typeof customElements?"undefined":T(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Vr=[],Rr=function(e,t){customElements.get(e)?Vr.push(e):customElements.define(e,t)};Rr("d3fc-canvas",zr),Rr("d3fc-group",Lr),Rr("d3fc-svg",Nr),Vr.length>0&&console.warn('The d3fc components "'.concat(Vr.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var jr=function(){for(var e={},t=function(t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i].apply(null,e[i])}return t},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=function(){var n=s[a];t[n]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length?(e[n]=i,t):e[n]}},a=0,s=r;a<s.length;a++)o();return t},Fr="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",Hr=document.createElement("style");Hr.setAttribute("type","text/css"),document.querySelector("head").appendChild(Hr),Hr.styleSheet?Hr.styleSheet.cssText+=Fr:Hr.textContent+=Fr;var Wr=function(e){return"function"==typeof e?e:function(){return e}},Ur=function(){var e=Yr.apply(void 0,arguments),t=e.xScale,n=e.yScale,r=e.xAxis,i=e.yAxis,o=Wr(""),a=Wr(""),c=Wr(""),l=Wr(null),u=Wr(null),d=Wr("right"),f=Wr("bottom"),h=null,p=null,g=null,b=!1,_=!0,y=jr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),x=function(){},k=jr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),M=function(){},S=function(){},C=de("d3fc-group","cartesian-chart"),A=de("d3fc-canvas","webgl-plot-area"),T=de("d3fc-canvas","canvas-plot-area"),E=de("d3fc-svg","svg-plot-area"),z=de("d3fc-svg","x-axis").key((function(e){return e})),P=de("d3fc-svg","y-axis").key((function(e){return e})),I=de("div","chart-label"),D=de("div","x-label").key((function(e){return e})),L=de("div","y-label").key((function(e){return e})),N=function(e){return function(t){return ue(e)?t.transition(e):t}},O=function(e){var m=N(e);e.each((function(e,v,w){var N=C(s.select(w[v]),[e]);N.enter().attr("auto-resize",""),I(N,[f(e)]).attr("class",(function(e){return"top"===e?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(e){return"top"===e?0:"1em"})).style("margin-top",(function(e){return"top"===e?"1em":0})).text(o(e)),D(N,[f(e)]).attr("class",(function(e){return"x-label ".concat(e,"-label")})).text(a(e)),L(N,[d(e)]).attr("class",(function(e){return"y-label ".concat(e,"-label")})).text(c(e)),A(N,h?[e]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",_).on("draw",(function(e,r){var i=e.detail,o=i.child,a=i.pixelRatio;h.context(b?null:o.getContext("webgl")).pixelRatio(a).xScale(t).yScale(n),h(r)})),N.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(e){console.warn("WebGLRenderingContext lost"),e.preventDefault(),b=!0,N.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),b=!1,N.node().requestRedraw()})),T(N,p?[e]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",_).on("draw",(function(e,r){var i=e.detail,o=i.child,a=i.pixelRatio,s=o.getContext("2d");s.save(),_&&s.scale(a,a),p.context(s).xScale(t).yScale(n),p(r),s.restore()})),E(N,g?[e]:[]).classed("plot-area",!0).on("draw",(function(e,r){var i=e.detail.child;g.xScale(t).yScale(n),m(s.select(i).datum(r)).call(g)})),z(N,[f(e)]).attr("class",(function(e){return"x-axis ".concat(e,"-axis")})).style("height",l(e)).on("measure",(function(e,n){var r=e.detail,i=r.width,o=r.height,a=r.child;"top"===n&&s.select(a).attr("viewBox","0 ".concat(-o," ").concat(i," ").concat(o)),t.range([0,i])})).on("draw",(function(e,n){var i=e.detail.child,o="top"===n?r.top(t):r.bottom(t);o.decorate(x),m(s.select(i).datum(n)).call(y(o))})),P(N,[d(e)]).attr("class",(function(e){return"y-axis ".concat(e,"-axis")})).style("width",u(e)).on("measure",(function(e,t){var r=e.detail,i=r.width,o=r.height,a=r.child;"left"===t&&s.select(a).attr("viewBox","".concat(-i," 0 ").concat(i," ").concat(o)),n.range([o,0])})).on("draw",(function(e,t){var r=e.detail.child,o="left"===t?i.left(n):i.right(n);o.decorate(M),m(s.select(r).datum(t)).call(k(o))})),N.each((function(e,t,n){return n[t].requestRedraw()})),S(N,e,v)}))},B=v(/range\w*/,/tickFormat/);return m(O,t,B,w("x")),m(O,n,B,w("y")),m(O,y,w("x")),m(O,k,w("y")),O.xOrient=function(){return arguments.length?(f=Wr(arguments.length<=0?void 0:arguments[0]),O):f},O.yOrient=function(){return arguments.length?(d=Wr(arguments.length<=0?void 0:arguments[0]),O):d},O.xDecorate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],O):x},O.yDecorate=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],O):M},O.chartLabel=function(){return arguments.length?(o=Wr(arguments.length<=0?void 0:arguments[0]),O):o},O.xLabel=function(){return arguments.length?(a=Wr(arguments.length<=0?void 0:arguments[0]),O):a},O.yLabel=function(){return arguments.length?(c=Wr(arguments.length<=0?void 0:arguments[0]),O):c},O.xAxisHeight=function(){return arguments.length?(l=Wr(arguments.length<=0?void 0:arguments[0]),O):l},O.yAxisWidth=function(){return arguments.length?(u=Wr(arguments.length<=0?void 0:arguments[0]),O):u},O.webglPlotArea=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],O):h},O.canvasPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],O):p},O.svgPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],O):g},O.decorate=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],O):S},O.useDevicePixelRatio=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},O},Yr=function(){for(var e={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:fr,top:dr},yAxis:{right:pr,left:hr}},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return 1!==r.length||r[0].domain||r[0].range?Object.assign(e,{xScale:r[0]||e.xScale,yScale:r[1]||e.yScale}):Object.assign(e,r[0])},qr=function(e){return"function"==typeof e?e:function(){return e}},Zr=function(e,t){return function(){var n=qr(""),r=t,i=function(){},o=Ur.apply(void 0,arguments),a=function(t){e(o,r),o.decorate((function(e,t,r){e.enter().select(".x-label").style("height","1em").style("line-height","1em");var a=o.yOrient()(t);e.enter().append("div").attr("class","y-label-container").style("grid-column","left"===a?1:5).style("-ms-grid-column","left"===a?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),e.select(".y-label-container>.y-label").text(n),i(e,t,r)})),t.call(o)};return m(a,o,_(/^x/,/^y/,"chartLabel")),a.yLabel=function(){return arguments.length?(n=qr(arguments.length<=0?void 0:arguments[0]),a):n},a.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a}},Gr=Zr((function(e,t){return e.svgPlotArea(t)}),ze),$r=Zr((function(e,t){return e.canvasPlotArea(t)}),Pe),Xr=function(e){return[e[1],e[0]]},Kr=function(e){var t=function(e){switch(e){case"x":return d.brushX();case"y":return d.brushY();case"xy":return d.brush()}}(e),r=u.dispatch("brush","start","end"),i=n.scaleIdentity(),o=n.scaleIdentity(),a=de("g","brush"),c=function(t,n,r){switch(e){case"x":return t.map(n);case"y":return t.map(r);case"xy":return[[n(t[0][0]),r(t[0][1])],[n(t[1][0]),r(t[1][1])]]}},l=function(t){var r=n.scaleLinear().domain(i.domain());return"x"===e?t.map(r.invert):"xy"===e?[r.invert(t[0][0]),r.invert(t[1][0])]:void 0},f=function(t){var r=n.scaleLinear().domain(Xr(o.domain()));return"y"===e?[t[1],t[0]].map(r.invert):"xy"===e?[r.invert(t[1][1]),r.invert(t[0][1])]:void 0},h=function(e){if(!e.sourceEvent||"draw"!==e.sourceEvent.type)if(e.selection){var t=(a=e.selection,c(a,n.scaleLinear().domain(i.range()),n.scaleLinear().domain(Xr(o.range()))));r.call(e.type,{},{selection:t,xDomain:l(t),yDomain:f(t)})}else r.call(e.type,{},{});var a},g=function(e){e.each((function(e,r,l){t.extent([[i.range()[0],o.range()[1]],[i.range()[1],o.range()[0]]]),t.on("end",(function(e){return h(e)})).on("brush",(function(e){return h(e)})).on("start",(function(e){return h(e)})),a(s.select(l[r]),[e]).call(t).call(t.move,e?c(e,n.scaleLinear().domain(i.range()).invert,n.scaleLinear().domain(Xr(o.range())).invert):null)}))};return g.xScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.yScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o},p(g,r,"on"),p(g,t,"filter","handleSize"),g},Qr=function(e,t){if(null==e&&null==t)return!0;var n=e.domain(),r=t.domain();return n.length===r.length&&n.every((function(e,t){var n;return(null==e?void 0:e.valueOf())===(null===(n=r[t])||void 0===n?void 0:n.valueOf())}))},Jr=Symbol("d3fc-domain-zoom");e.annotationCanvasBand=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",i=function(e){return e.from},o=function(e){return e.to},a=function(){},s=ie().horizontalAlign("right").verticalAlign("top"),c=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var c=s.context(),l="horizontal"===r,u=l?t:e,d=(l?e:t).range(),f=d[1]-d[0],h=l?"x":"y",p=l?"y":"x",g=l?"height":"width",m=l?"width":"height";n.forEach((function(e,t){c.save(),c.beginPath(),c.strokeStyle="transparent",s[p](u(i(e))),s[h](d[0]),s[m](f),s[g](u(o(e))-u(i(e))),a(c,e,t),s.context(c)([e],t),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),c):i},c.toValue=function(){return arguments.length?(o=Jn(arguments.length<=0?void 0:arguments[0]),c):o},p(c,s,"context"),c},e.annotationCanvasCrosshair=function(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),i=n.scaleIdentity(),o=jn(),a=tr(),s=tr().orient("vertical"),c=n.scaleIdentity(),l=n.scaleIdentity(),u=$n().series([a,s,o]).xScale(c).yScale(l).mapping((function(e){return[e]})),d=function(n){n.forEach((function(n){c.range(r.range()),l.range(i.range()),o.crossValue(e).mainValue(t),a.value(t),s.value(e),u(n)}))};d.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],d):e},d.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],d):t},d.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],d):r},d.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],d):i};var f=_("label","decorate");return m(d,a,f,w("y")),m(d,s,f,w("x")),p(d,o,"decorate"),p(d,u,"context"),d},e.annotationCanvasGridline=function(){var e=function(){},t=function(){},n=nr(),r=nr(),i=c.line(),o=function(){var o=i.context(),a=n.scale(),s=r.scale();n().forEach((function(t,n){o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",e(o,t,n),i.context(o)(s.domain().map((function(e){return[a(t),s(e)]}))),o.fill(),o.stroke(),o.closePath(),o.restore()})),r().forEach((function(e,n){o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",t(o,e,n),i.context(o)(a.domain().map((function(t){return[a(t),s(e)]}))),o.fill(),o.stroke(),o.closePath(),o.restore()}))};return o.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},m(o,n,w("x")),m(o,r,w("y")),p(o,i,"context"),o},e.annotationCanvasLine=tr,e.annotationSvgBand=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",i=function(e){return e.from},o=function(e){return e.to},a=function(){},c=de("g","annotation-band"),l=ie().horizontalAlign("center").verticalAlign("center").x(0).y(0),u=function(n){if(ue(n)&&c.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var u="horizontal"===r,d=u?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},f=u?t:e,h=(u?e:t).range(),p=h[1]-h[0],g=u?"height":"width",m=function(){return d((h[1]+h[0])/2,(f(o.apply(void 0,arguments))+f(i.apply(void 0,arguments)))/2)};l[u?"width":"height"](p),l[g]((function(){return f(o.apply(void 0,arguments))-f(i.apply(void 0,arguments))})),n.each((function(e,t,n){var i=c(s.select(n[t]),e);i.enter().attr("transform",m).append("path").classed("band",!0),i.attr("class","annotation-band ".concat(r)).attr("transform",m).select("path").attr("d",(function(e,t){return l([e],t)})),a(i,e,t)}))};return u.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),u):i},u.toValue=function(){return arguments.length?(o=Jn(arguments.length<=0?void 0:arguments[0]),u):o},u},e.annotationSvgCrosshair=function(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),i=n.scaleIdentity(),o=function(){},a=de("g","annotation-crosshair"),c=Rn(),l=er(),u=er().orient("vertical"),d=n.scaleIdentity(),f=n.scaleIdentity(),h=Gn().series([l,u,c]).xScale(d).yScale(f).mapping((function(e){return[e]})),p=function(n){ue(n)&&a.transition(n),n.each((function(n,p,g){var m=a(s.select(g[p]),n);m.enter().style("pointer-events","none"),d.range(r.range()),f.range(i.range()),c.crossValue(e).mainValue(t),l.value(t),u.value(e),m.call(h),o(m,n,p)}))};p.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],p):e},p.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],p):t},p.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],p):r},p.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},p.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],p):o};var g=_("label");return m(p,l,g,w("y")),m(p,u,g,w("x")),p},e.annotationSvgGridline=function(){var e=function(){},t=function(){},n=nr(),r=nr(),i=de("line","gridline-y").key(rr),o=de("line","gridline-x").key(rr),a=function(a){ue(a)&&(i.transition(a),o.transition(a)),a.each((function(a,c,l){var u=l[c],d=s.select(l[c]),f=n.scale(),h=r.scale(),p=u.__x_scale__||f;u.__x_scale__=f.copy();var g=n(),m=i(d,g);m.enter().attr("x1",p).attr("x2",p).attr("y1",h.range()[0]).attr("y2",h.range()[1]).attr("stroke","#bbb"),m.attr("x1",f).attr("x2",f).attr("y1",h.range()[0]).attr("y2",h.range()[1]),m.exit().attr("x1",f).attr("x2",f),e(m,g,c);var b=u.__y_scale__||h;u.__y_scale__=h.copy();var v=r(),_=o(d,v);_.enter().attr("y1",b).attr("y2",b).attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("stroke","#bbb"),_.attr("y1",h).attr("y2",h).attr("x1",f.range()[0]).attr("x2",f.range()[1]),_.exit().attr("y1",h).attr("y2",h),t(_,v,c)}))};return a.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},m(a,i,y({key:"xKey"})),m(a,o,y({key:"yKey"})),m(a,n,w("x")),m(a,r,w("y")),a},e.annotationSvgLine=er,e.autoBandwidth=function(e){var n=.75,r=function(e){if(e.length<=1)return 10;e=e.sort(t.ascending).filter((function(e,t,n){return-1===n.indexOf(e,t+1)}));var r=t.pairs(e).map((function(e){return Math.abs(e[0]-e[1])})),i=t.min(r);return n*i},i=function(t,n,i){if(t.bandwidth)return t.bandwidth();var o,a=(Array.isArray(n)?(o=[]).concat.apply(o,F(n)):n).filter(e.defined()).map(i()).map(t);return r(a)},o=function(t){var n=function(t){if(e.xBandwidth&&e.yBandwidth)e.xBandwidth(i(e.xScale(),t,e.xValue)),e.yBandwidth(i(e.yScale(),t,e.yValue));else{var n=e.orient&&"horizontal"===e.orient()?e.yScale():e.xScale();e.bandwidth(i(n,t,e.crossValue))}};t instanceof s.selection?t.each((function(t,r,i){n(t),e(s.select(i[r]))})):(n(t),e(t))};return m(o,e),o.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o},e.axisBottom=fr,e.axisLabelOffset=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},i=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},o=function(n){var o=mr(e)(n),a=o.maxHeight,s=o.maxWidth,c=o.labelCount,l=e.scale().range()[1],u="auto"===t?Math.floor((r()?a:s)*c/l)+1:t,d=n.select("text"),f=d.attr("transform");d.attr("transform",(function(e,t){return"".concat(f," ").concat(function(e){return r()?"translate(".concat(e%u*s*i(),", 0)"):"translate(0, ".concat(e%u*a*i(),")")}(t))}))},a=function(t){return e(t)};return e.decorate((function(e){o(e),n(e)})),a.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.labelOffsetDepth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},m(a,e,v("decorate")),a},e.axisLabelRotate=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},i=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},o=function(){switch(e.orient()){case"top":case"right":return"start";default:return"end"}},a=function(n){var a=function(n){var a,s=mr(e)(n),c=s.maxHeight,l=s.maxWidth,u=s.labelCount*l;if("auto"===t){var d=e.scale().range()[1];a=d<u?90*Math.min(1,(u/d-.8)/2):0}else a=t;return{rotate:r()?Math.floor(i()*(90-a)):Math.floor(-a),maxHeight:c,maxWidth:l,anchor:a?o():"middle"}}(n),s=a.rotate,c=a.maxHeight,l=a.anchor,u=n.select("text"),d=u.attr("transform"),f=i()*Math.floor(c/2),h=r()?"translate(".concat(f,", 0)"):"translate(0, ".concat(f,")");u.style("text-anchor",l).attr("transform","".concat(d," ").concat(h," rotate(").concat(s," 0 0)"))},s=function(t){e(t)};return e.decorate((function(e){a(e),n(e)})),s.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.labelRotate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},m(s,e,v("decorate")),s},e.axisLeft=hr,e.axisOrdinalBottom=function(e){return gr("bottom",e)},e.axisOrdinalLeft=function(e){return gr("left",e)},e.axisOrdinalRight=function(e){return gr("right",e)},e.axisOrdinalTop=function(e){return gr("top",e)},e.axisRight=pr,e.axisTop=dr,e.brush=function(){return Kr("xy")},e.brushX=function(){return Kr("x")},e.brushY=function(){return Kr("y")},e.bucket=te,e.chartCanvasCartesian=$r,e.chartCartesian=Ur,e.chartSvgCartesian=Gr,e.dataJoin=de,e.discontinuityIdentity=G,e.discontinuityRange=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,t){return e>t[0]&&e<t[1]},i=function(e,t){return e[0]>=t[0]&&e[1]<=t[1]},o={distance:function(e,n){e=o.clampUp(e),n=o.clampDown(n);var r=t.filter((function(t){return i(t,[e,n])})).map((function(e){return e[1]-e[0]}));return n-e-r.reduce((function(e,t){return e+t}),0)}},a=function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t};return o.offset=function(e,n){if(n>0){var r=function(){for(var r=o.clampUp(e),i=n;i>0;){var s=t.filter((function(e){return e[0]>r})).sort((function(e,t){return e[0]-t[0]}));if(s.length){var c=s[0],l=c[0]-r;l>i?(r=a(r,i),i=0):(r=c[1],i-=l)}else r=a(r,i),i=0}return{v:r}}();if("object"===T(r))return r.v}else{var i=function(){for(var r=o.clampDown(e),i=n;i<0;){var s=t.filter((function(e){return e[1]<r})).sort((function(e,t){return t[0]-e[0]}));if(s.length){var c=s[0],l=c[1]-r;l<i?(r=a(r,i),i=0):(r=c[0],i-=l)}else r=a(r,i),i=0}return{v:r}}();if("object"===T(i))return i.v}},o.clampUp=function(e){return t.reduce((function(e,t){return r(e,t)?t[1]:e}),e)},o.clampDown=function(e){return t.reduce((function(e,t){return r(e,t)?t[0]:e}),e)},o.copy=function(){return o},o},e.discontinuitySkipUtcWeekends=function(){return X((function(e){return e.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},e.discontinuitySkipWeekends=function(){return X((function(e){return e.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},e.effectivelyZero=le,e.exclude=v,e.extentDate=Q,e.extentLinear=K,e.extentTime=Q,e.feedGdax=function(){var e="BTC-USD",t=null,n=null,r=null,i=function(){var i=[];null!=t&&i.push("start="+t.toISOString()),null!=n&&i.push("end="+n.toISOString()),null!=r&&i.push("granularity="+r);var a="https://api.gdax.com/products/"+e+"/candles?"+i.join("&");return o.json(a).then((function(e){return e.map((function(e){return{date:new Date(1e3*e[0]),open:e[3],high:e[2],low:e[1],close:e[4],volume:e[5]}}))}))};return i.product=function(t){return arguments.length?(e=t,i):e},i.start=function(e){return arguments.length?(t=e,i):t},i.end=function(e){return arguments.length?(n=e,i):n},i.granularity=function(e){return arguments.length?(r=e,i):r},i},e.group=function(){var e="",t="vertical",n=function(e,t){return Number(e[t])},r=function(r){return"vertical"===t?function(t){return Object.keys(t[0]).filter((function(t){return t!==e})).map((function(r){var i=t.filter((function(e){return e[r]})).map((function(t){var i=[t[e],n(t,r)];return i.data=t,i}));return i.key=r,i}))}(r):function(t){return t.map((function(t){var r=Object.keys(t).filter((function(t){return t!==e})).map((function(e){var r=[e,n(t,e)];return r.data=t,r}));return r.key=t[e],r}))}(r)};return r.key=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r},e.include=_,e.includeMap=y,e.indicatorBollingerBands=function(){var e=2,n=C().accumulator((function(n){var r=n&&t.deviation(n),i=n&&t.mean(n);return{average:i,upper:S(i+e*r),lower:S(i-e*r)}})),r=function(e){return n(e)};return r.multiplier=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},p(r,n,"period","value"),r},e.indicatorElderRay=function(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},i=A().period(13),o=function(o){return i.value(e),t.zip(o,i(o)).map((function(e){return{bullPower:S(n(e[0])-e[1]),bearPower:S(r(e[0])-e[1])}}))};return o.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},p(o,i,"period"),o},e.indicatorEnvelope=function(){var e=.1,t=x,n=function(n){return n.map((function(n){return{lower:S(t(n)*(1-e)),upper:S(t(n)*(1+e))}}))};return n.factor=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},e.indicatorExponentialMovingAverage=A,e.indicatorForceIndex=function(){var e=function(e,t){return e.volume},t=function(e,t){return e.close},n=A().period(13),r=C().period(2).defined((function(n){return null!=t(n)&&null!=e(n)})).accumulator((function(n){return n&&S((t(n[1])-t(n[0]))*e(n[1]))})),i=function(e){var t=r(e);return n(t)};return i.volumeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},p(i,n,"period"),i},e.indicatorMacd=function(){var e=x,n=A().period(12),r=A().period(26),i=A().period(9),o=function(o){n.value(e),r.value(e);var a=t.zip(n(o),r(o)).map((function(e){return void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0})),s=i(a);return t.zip(a,s).map((function(e){return{macd:e[0],signal:e[1],divergence:void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0}}))};return o.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},m(o,n,y({period:"fastPeriod"})),m(o,r,y({period:"slowPeriod"})),m(o,i,y({period:"signalPeriod"})),o},e.indicatorMovingAverage=Z,e.indicatorRelativeStrengthIndex=function(){var e=C().period(14),n=function(e){var t=j(e,2),n=t[0],r=t[1];return n<r?0:n-r},r=function(e){var t=j(e,2),n=t[0],r=t[1];return n>r?0:r-n},i=function(e,n){return void 0!==n?(i=n)+((r=e)[r.length-1]-i)/r.length:t.mean(e);var r,i},o=function(o){var a,s,c,l=function(e){if(e){if(void 0!==a){var o=t.pairs([a].concat(F(e)));return s=i(o.map(n),s),c=i(o.map(r),c),S(100-100/(1+(isNaN(a)?NaN:c/s)))}a=e[0]}else void 0!==a&&(a=NaN)};return e.accumulator(l),e(o)};return p(o,e,"period","value"),o},e.indicatorStochasticOscillator=function(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},i=C().period(5).defined((function(t){return null!=e(t)&&null!=n(t)&&null!=r(t)})).accumulator((function(i){var o=i&&t.max(i,n),a=i&&t.min(i,r);return S(i&&100*(e(i[i.length-1])-a)/(o-a))})),o=Z().period(3),a=function(e){var t=i(e),n=o(t);return t.map((function(e,t){return{k:e,d:n[t]}}))};return a.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},m(a,i,y({period:"kPeriod"})),m(a,o,y({period:"dPeriod"})),a},e.isTransition=ue,e.largestTriangleOneBucket=function(){var e=te(),n=function(e){return e},r=function(e){return e},i=function(i){if(e.bucketSize()>=i.length)return i;var o=function(e){var i=e.map((function(e){return[n(e),r(e)]}));return t.range(1,i.length-1).map((function(e){var t=i[e-1],n=i[e],r=i[e+1];return.5*Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}))}(i),a=e(o),s=e(i.slice(1,i.length-1)).map((function(e,n){var r=a[n],i=t.max(r);return e[r.indexOf(i)]}));return[].concat([i[0]],s,[i[i.length-1]])};return p(i,e,"bucketSize"),i.x=function(e){return arguments.length?(n=e,i):n},i.y=function(e){return arguments.length?(r=e,i):r},i},e.largestTriangleThreeBucket=function(){var e=function(e){return e},n=function(e){return e},r=te(),i=function(i){if(r.bucketSize()>=i.length)return i;var o=r(i.slice(1,i.length-1)),a=i[0],s=i[i.length-1],c=[].concat([a],o,[s]),l=e(a),u=n(a),d=o.map((function(r,i){var o=t.mean(c[i+1],e),a=t.mean(c[i+1],n),s=r.map((function(t){return[e(t),n(t)]})),d=s.map((function(e){return.5*Math.abs((l-o)*(e[1]-u)-(l-e[0])*(a-u))})),f=d.indexOf(t.max(d)),h=s[f];return l=h[0],u=h[1],r[f]}));return[].concat([i[0]],d,[i[i.length-1]])};return p(i,r,"bucketSize"),i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(e){return arguments.length?(n=e,i):n},i},e.layoutAnnealing=function(){var e,t=1e3,n=1,r=function(t,n,r){return he(r,n)+function(t){return e?t.width*t.height-fe(t,e):0}(t)+function(e){switch(e.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return e.width*e.height/8}return e.width*e.height/4}(t)},i=function(e){for(var i=t,o=ve().locationScore(r).winningScore((function(e,t){return Math.exp((t-e)/i)>Math.random()})).rectangles(e);i>0;){var a=_e(e);o=o((s=ge(e[a]))[_e(s)],a),i-=n}var s;return o.rectangles()};return i.temperature=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i},e.layoutBoundingBox=function(){var e=[0,0],t=function(t){return t.map((function(t,n){var r=t.x,i=t.y;return r+t.width>e[0]&&(r-=t.width),i+t.height>e[1]&&(i-=t.height),{height:t.height,width:t.width,x:r,y:i}}))};return t.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},e.layoutGreedy=function(){var e,t=function(t,n,r){return he(r,n)+function(t){return e?t.width*t.height-fe(t,e):0}(t)},n=function(e){var n=ve().locationScore(t).rectangles(e);return e.forEach((function(e,t){ge(e).forEach((function(e,r){n=n(e,t)}))})),n.rectangles()};return n.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},e.layoutLabel=function(e){var t=function(){},r=function(){return[0,0]},i=function(e,t){return[e.x,e.y]},o=e||function(e){return e},a=function(){},c=n.scaleIdentity(),l=n.scaleIdentity(),u=de("g","label"),d=function(e){e.each((function(e,n,d){var f=u(s.select(d[n]),e).call(a),h=f.nodes(),p=h.map((function(e,t){var n=s.select(e).datum(),o=i(n,t,h),a=[c(o[0]),l(o[1])],u=r(n,t,h);return{hidden:!1,x:a[0],y:a[1],width:u[0],height:u[1]}})),g=o(p);f.attr("style",(function(e,t){return"display:"+(g[t].hidden?"none":"inherit")})).attr("transform",(function(e,t){return"translate("+g[t].x+", "+g[t].y+")"})).attr("layout-width",(function(e,t){return g[t].width})).attr("layout-height",(function(e,t){return g[t].height})).attr("anchor-x",(function(e,t,n){return p[t].x-g[t].x})).attr("anchor-y",(function(e,t,n){return p[t].y-g[t].y})),f.call(a),t(f,e,n)}))};return m(d,u,_("key")),m(d,o),d.size=function(){return arguments.length?(r=ce(arguments.length<=0?void 0:arguments[0]),d):r},d.position=function(){return arguments.length?(i=ce(arguments.length<=0?void 0:arguments[0]),d):i},d.component=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],d):a},d.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],d):t},d.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d.yScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d},e.layoutRemoveOverlaps=function(e){var n=function(n){n=e(n);for(var r=function(){var e,r,i=n.filter((function(e){return!e.hidden})),o=i.map((function(e,t){return[e,he(i,t)]})),a=(r=function(e,t){return t[1]-e[1]},(e=o)[t.scan(e,r)]);if(!(a[1]>0))return"break";a[0].hidden=!0};"break"!==r(););return n};return m(n,e=e||function(e){return e}),n},e.layoutTextLabel=function(e){var t=2,n=function(e){return e},r=de("text"),i=de("rect"),o=de("circle"),a=function(e){e.each((function(e,a,c){var l=c[a],u=s.select(l),d=Number(l.getAttribute("layout-width")),f=Number(l.getAttribute("layout-height"));i(u,[e]).attr("width",d).attr("height",f);var h=Number(l.getAttribute("anchor-x")),p=Number(l.getAttribute("anchor-y"));o(u,[e]).attr("r",2).attr("cx",h).attr("cy",p);var g=r(u,[e]);g.enter().attr("dy","0.9em").attr("transform","translate(".concat(t,", ").concat(t,")")),g.text(n)}))};return a.padding=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.value=function(){return arguments.length?(n=ce(arguments.length<=0?void 0:arguments[0]),a):n},a},e.modeMedian=function(){var e=te(),n=function(e){return e},r=function(r){if(e.bucketSize()>r.length)return r;var i=t.extent(r,n),o=e(r.slice(1,r.length-1)).map((function(e,t){var r,o,a={},s=!0,c=e.map(n),l=c.filter((function(e){return e===i[0]||e===i[1]})).map((function(e){return c.indexOf(e)}))[0];return void 0!==l?e[l]:(c.forEach((function(e,t){void 0===a[e]&&(a[e]=0),a[e]++,a[e]>a[r]||void 0===r?(r=e,o=t,s=!0):a[e]===a[r]&&(s=!1)})),s?e[o]:e[Math.floor(e.length/2)])}));return[].concat([r[0]],o,[r[r.length-1]])};return p(r,e,"bucketSize"),r.value=function(e){return arguments.length?(n=e,r):n},r},e.pointer=function(){var e=u.dispatch("point");function t(t){var n=s.pointer(t);e.call("point",this,[{x:n[0],y:n[1]}])}function n(){e.call("point",this,[])}var r=function(e){e.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",n)};return p(r,e,"on"),r},e.prefix=w,e.randomFinancial=function(){var e=new Date,t=100,n=r.timeDay,o=1,a=r.timeYear,s=1,c=null,l=function(){var e=i.randomNormal(1,.1);return Math.ceil(1e3*e())},u=J(),d=function(e,t){var r,i,c=(r=e,i=a.offset(r,s)-r,(n.offset(r,o)-r)/i),d=u.period(c)(t),f={date:e,open:d[0],high:Math.max.apply(Math,d),low:Math.min.apply(Math,d),close:d[u.steps()]};return f.volume=l(f),f},f=function(r){var i,a,s;do{i=r?n.offset(r.date,o):new Date(e.getTime()),a=r?r.close:t,r=d(i,a),s=c&&!c(r)}while(s);return r},h=function(){var e,t={next:function(){var t=f(e);return e=t,t},take:function(e){return t.until((function(t,n){return!e||e<0||n===e}))},until:function(t){for(var n=[],r=0,i=f(e),o=t&&!t(i,r);o;)n.push(i),i=f(e=i),r+=1,o=t&&!t(i,r);return n}};return t},p=function(e){return h().take(e)};if(p.stream=h,"function"!=typeof Symbol||"symbol"!==T(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return p[Symbol.iterator]=function(){var e=h();return{next:function(){return{value:e.next(),done:!1}}}},p.startDate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],p):e},p.startPrice=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],p):t},p.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.intervalStep=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],p):o},p.unitInterval=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],p):a},p.unitIntervalStep=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.filter=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.volume=function(){return arguments.length?(l=ee(arguments.length<=0?void 0:arguments[0]),p):l},m(p,u),p},e.randomGeometricBrownianMotion=J,e.randomSkipWeekends=function(e){var t=e.date.getDay();return!(0===t||6===t)},e.rebind=p,e.rebindAll=m,e.scaleDiscontinuous=function e(t){var r=this;arguments.length||(t=n.scaleIdentity());var i=G(),o=function(e){var n=t.domain(),r=t.range(),o=i.distance(n[0],n[1]);return i.distance(n[0],e)/o*(r[1]-r[0])+r[0]};return o.invert=function(e){var n=t.domain(),r=t.range(),o=(e-r[0])/(r[1]-r[0])*i.distance(n[0],n[1]);return i.offset(n[0],o)},o.domain=function(){if(!arguments.length)return t.domain();var e=arguments.length<=0?void 0:arguments[0],n=i.clampUp(e[0]),r=i.clampDown(e[1]);return t.domain([n,r]),o},o.nice=function(){t.nice();var e=t.domain(),n=i.clampUp(e[0]),r=i.clampDown(e[1]);return t.domain([n,r]),o},o.ticks=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return $(t.ticks.apply(r,n),i)},o.copy=function(){return e(t.copy()).discontinuityProvider(i.copy())},o.discontinuityProvider=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},m(o,t,_("range","rangeRound","interpolate","clamp","tickFormat")),o},e.seriesCanvasArea=function(){var e=Me(),t=c.area(),n=function(n){var r=t.context();t.defined(e.defined());var i=n.map(e.values);t.x((function(e,t){return i[t].transposedX})).y((function(e,t){return i[t].transposedY}));var o="vertical"===e.orient()?"y":"x";t[o+"0"]((function(e,t){return i[t].y0})),t[o+"1"]((function(e,t){return i[t].y})),r.beginPath(),r.fillStyle=Te,r.strokeStyle="transparent",e.decorate()(r,n),t(n),r.fill(),r.stroke(),r.closePath()};return m(n,e,v("bandwidth","align")),p(n,t,"curve","context"),n},e.seriesCanvasBar=function(){var e=Me(),t=ie().x(0).y(0),n=function(n){var r=t.context(),i=n.filter(e.defined()).map(e.values);"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center")),i.forEach((function(n,i){var o;r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),r.fillStyle=Ee,r.strokeStyle="transparent",e.decorate()(r,n.d,i),(o=t,"vertical"===e.orient()?o.height:o.width)(-n.height),function(t){return"vertical"===e.orient()?t.width:t.height}(t)(n.width),t([n]),r.fill(),r.stroke(),r.closePath(),r.restore()}))};return m(n,e),p(n,t,"context"),n},e.seriesCanvasBoxPlot=function(){var e=qn(),t=ae().value(0),n=function(n){var r=n.filter(e.defined()),i=t.context();t.orient(e.orient()),r.forEach((function(n,r){i.save();var o=e.values(n,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),i.fillStyle=Te,i.strokeStyle=Ae,e.decorate()(i,n,r),t.median(o.median).upperQuartile(o.upperQuartile).lowerQuartile(o.lowerQuartile).high(o.high).width(o.width).low(o.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return m(n,e),p(n,t,"cap","context"),n},e.seriesCanvasCandlestick=function(){return Un(oe())},e.seriesCanvasErrorBar=function(){var e=Fn(),t=se().value(0),n=function(n){var r=n.filter(e.defined()),i=t.context();t.orient(e.orient()),r.forEach((function(n,r){i.save();var o=e.values(n,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),i.strokeStyle=Ae,i.fillStyle=Te,e.decorate()(i,n,r),t.high(o.high).width(o.width).low(o.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return m(n,e),p(n,t,"context"),n},e.seriesCanvasGrouped=function(e){var t=Kn(),n=function(n){n.forEach((function(r,i){var o="horizontal"!==e.orient(),a=function(e,r){var a=t.offsetScaleForDatum(n,e,r);return(o?t.xScale():t.yScale())(e)+a(i)+a.bandwidth()/2};o?(e.xScale(a),e.yScale(t.yScale())):(e.yScale(a),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,r){return t.offsetScaleForDatum(n,e,r).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,i)})),e(r)}))};return m(n,e,v("decorate","xScale","yScale")),m(n,t,v("offsetScaleForDatum")),n},e.seriesCanvasHeatmap=function(){var e=Qn(),t=function(t){var n=t.filter(e.defined()),r=e.colorInterpolate(),i=e.colorScale(n),o=e.pathGenerator.context();n.forEach((function(t,n){o.save(),o.beginPath();var a=e.values(t,n);o.translate(a.x,a.y),o.fillStyle=r(i(a.colorValue)),o.strokeStyle="transparent",e.decorate()(o,t,n),e.pathGenerator.height(a.height).width(a.width)([t]),o.fill(),o.stroke(),o.closePath(),o.restore()}))};return p(t,e.pathGenerator,"context"),m(t,e),t},e.seriesCanvasLine=Pe,e.seriesCanvasMulti=$n,e.seriesCanvasOhlc=function(){return Un(re())},e.seriesCanvasPoint=jn,e.seriesCanvasRepeat=function(){var e="vertical",t=Pe(),n=$n(),r=function(r){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),n(r)};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},m(r,n,v("series","mapping")),r},e.seriesSvgArea=function(){var e=Me(),t=c.area(),n=de("path","area"),r=function(r){ue(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,i,o){var a=r.map(e.values);t.x((function(e,t){return a[t].transposedX})).y((function(e,t){return a[t].transposedY}));var c="vertical"===e.orient()?"y":"x";t[c+"0"]((function(e,t){return a[t].y0})),t[c+"1"]((function(e,t){return a[t].y}));var l=n(s.select(o[i]),[r]);l.enter().attr("fill",Te),l.attr("d",t),e.decorate()(l,r,i)}))};return m(r,e,v("bandwidth","align")),p(r,n,"key"),p(r,t,"curve"),r},e.seriesSvgBar=function(){var e=ie().x(0).y(0),t=Me(),n=de("g","bar"),r=function(e){return"vertical"===t.orient()?e.width:e.height},i=function(e){return"translate("+e[0]+", "+e[1]+")"},o=function(o){ue(o)&&n.transition(o),o.each((function(o,a,c){var l=t.orient();if("vertical"!==l&&"horizontal"!==l)throw new Error("The bar series does not support an orientation of "+l);var u=o.filter(t.defined()),d=u.map(t.values);e.width(0).height(0),"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center"));var f=n(s.select(c[a]),u);f.enter().attr("transform",(function(e,t){return i(d[t].baseOrigin)})).attr("class","bar "+t.orient()).attr("fill",Ee).append("path").attr("d",(function(t,n){return r(e)(d[n].width),e([t])})),f.attr("transform",(function(e,t){return i(d[t].origin)})).select("path").attr("d",(function(n,i){return r(e)(d[i].width),(o=e,"vertical"===t.orient()?o.height:o.width)(-d[i].height),e([n]);var o})),t.decorate()(f,u,a)}))};return m(o,t),p(o,n,"key"),o},e.seriesSvgBoxPlot=function(){var e=qn(),t=de("g","box-plot"),n=ae().value(0),r=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){ue(i)&&t.transition(i);var o,a=(o=i,function(e){return ue(o)?e.transition(o):e});i.each((function(i,o,c){var l=i.filter(e.defined()),u=t(s.select(c[o]),l);u.enter().attr("stroke",Ae).attr("fill",Te).attr("transform",(function(t,n){return r(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),u.each((function(t,i,o){var c=e.values(t,i);n.median(c.median).upperQuartile(c.upperQuartile).lowerQuartile(c.lowerQuartile).width(c.width).high(c.high).low(c.low),a(s.select(o[i])).attr("transform",r(c)).select("path").attr("d",n([t]))})),e.decorate()(u,i,o)}))};return m(i,e),p(i,t,"key"),p(i,n,"cap"),i},e.seriesSvgCandlestick=function(){return Wn(oe(),"candlestick")},e.seriesSvgErrorBar=function(){var e=Fn(),t=de("g","error-bar"),n=se().value(0),r=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){ue(i)&&t.transition(i);var o,a=(o=i,function(e){return ue(o)?e.transition(o):e});i.each((function(i,o,c){var l=i.filter(e.defined()),u=l.map(e.values),d=t(s.select(c[o]),l);d.enter().attr("stroke",Ae).attr("fill",Te).attr("transform",(function(t,n){return r(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),d.each((function(e,t,i){var o=u[t];n.high(o.high).low(o.low).width(o.width),a(s.select(i[t])).attr("transform",r(o)+" scale(1)").select("path").attr("d",n([e]))})),e.decorate()(d,i,o)}))};return m(i,e),p(i,t,"key"),i},e.seriesSvgGrouped=function(e){var t=Kn(),n=de("g","grouped"),r=function(r){ue(r)&&n.transition(r),r.each((function(r,i,o){var a=n(s.select(o[i]),r);a.enter().append("g"),a.select("g").each((function(n,i,o){var a=s.select(o[i]),c="horizontal"!==e.orient(),l=function(e,n){var o=t.offsetScaleForDatum(r,e,n);return(c?t.xScale():t.yScale())(e)+o(i)+o.bandwidth()/2};c?(e.xScale(l),e.yScale(t.yScale())):(e.yScale(l),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,n){return t.offsetScaleForDatum(r,e,n).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,i)})),a.call(e)}))}))};return m(r,e,v("decorate","xScale","yScale")),m(r,t,v("offsetScaleForDatum")),r},e.seriesSvgHeatmap=function(){var e=Qn(),t=de("g","box"),n=function(n){n.each((function(n,r,i){var o=n.filter(e.defined()),a=e.colorValue(),c=e.colorInterpolate(),l=e.colorScale(o),u=t(s.select(i[r]),o);u.enter().append("path").attr("stroke","transparent"),u.attr("transform",(function(t,n){return"translate("+(r=e.values(t,n)).x+", "+r.y+")";var r})).select("path").attr("d",(function(t,n){return e.pathGenerator.width(e.values(t,n).width).height(e.values(t,n).height)([t])})).attr("fill",(function(e,t){return c(l(a(e,t)))})),e.decorate()(u,n,r)}))};return m(n,e),n},e.seriesSvgLine=ze,e.seriesSvgMulti=Gn,e.seriesSvgOhlc=function(){return Wn(re(),"ohlc")},e.seriesSvgPoint=Rn,e.seriesSvgRepeat=function(){var e="vertical",t=ze(),n=Gn(),r=function(r){return r.each((function(r,i,o){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),s.select(o[i]).call(n)}))};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},m(r,n,v("series","mapping")),r},e.seriesWebglArea=function(){var e=Me(),t=Mn(0,1),n=t.offset(1),r=Mn(0,1),i=r.offset(1),o=Mn(0,1),a=o.offset(1),s=Mn(0,1).type(Jt.UNSIGNED_BYTE),c=s.offset(1),l=sn().crossValueAttribute(t).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(i).baseValueAttribute(o).baseNextValueAttribute(a).definedAttribute(s).definedNextAttribute(c),u=function(e,t){return!1},d=Nn,f=[],h=null,g=null,b=function(n){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var i=d(e.xScale()),a=d(e.yScale()),c=!u(f,n);c&&(f=n,s.value((function(t,n){return e.defined()(t,n)})).data(n)),(c||i.scale!==h)&&(h=i.scale,t.value((function(t,n){return i.scale(e.crossValue()(t,n))})).data(n)),(c||a.scale!==g)&&(g=a.scale,o.value((function(t,n){return a.scale(e.baseValue()(t,n))})).data(n),r.value((function(t,n){return a.scale(e.mainValue()(t,n))})).data(n)),l.xScale(i.webglScale).yScale(a.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),l(n.length)};return b.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.scaleMapper=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},m(b,e,v("bandwidth","align")),p(b,l,"context","pixelRatio"),b},e.seriesWebglBar=function(){var e=Me(),t=on(),n=on(),r=on(),i=on().type(Jt.UNSIGNED_SHORT),o=on().type(Jt.UNSIGNED_BYTE),a=bn().crossValueAttribute(t).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(i).definedAttribute(o),s=function(e,t){return!1},c=Nn,l=[],u=null,d=null,f=function(f){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),p=c(e.yScale()),g=!s(l,f);g&&(l=f,i.value((function(t,n){return e.bandwidth()(t,n)})).data(f),o.value((function(t,n){return e.defined()(t,n)})).data(f)),(g||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(f)),(g||p.scale!==d)&&(d=p.scale,r.value((function(t,n){return p.scale(e.baseValue()(t,n))})).data(f),n.value((function(t,n){return p.scale(e.mainValue()(t,n))})).data(f)),a.xScale(h.webglScale).yScale(p.webglScale).decorate((function(t){return e.decorate()(t,f,0)})),a(f.length)};return f.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},m(f,e,v("align")),p(f,a,"context","pixelRatio"),f},e.seriesWebglBoxPlot=function(){var e=qn(),t=on(),n=on(),r=on(),i=on(),o=on(),a=on(),s=on().type(Jt.UNSIGNED_SHORT),c=on().type(Jt.UNSIGNED_SHORT),l=on().type(Jt.UNSIGNED_BYTE),u=kn().crossValueAttribute(t).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(i).lowerQuartileValueAttribute(o).lowValueAttribute(a).bandwidthAttribute(s).capAttribute(c).definedAttribute(l),d=function(e,t){return!1},f=Nn,h=[],g=null,b=null,_=ye(20),y=function(p){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var m=f(e.xScale()),v=f(e.yScale()),y=!d(h,p);y&&(h=p,s.value((function(t,n){return e.bandwidth()(t,n)})).data(p),c.value((function(e,t){return _(e,t)})).data(p),l.value((function(t,n){return e.defined()(t,n)})).data(p)),(y||m.scale!==g)&&(g=m.scale,t.value((function(t,n){return m.scale(e.crossValue()(t,n))})).data(p)),(y||v.scale!==b)&&(b=v.scale,n.value((function(t,n){return v.scale(e.highValue()(t,n))})).data(p),r.value((function(t,n){return v.scale(e.upperQuartileValue()(t,n))})).data(p),i.value((function(t,n){return v.scale(e.medianValue()(t,n))})).data(p),o.value((function(t,n){return v.scale(e.lowerQuartileValue()(t,n))})).data(p),a.value((function(t,n){return v.scale(e.lowValue()(t,n))})).data(p)),u.xScale(m.webglScale).yScale(v.webglScale).decorate((function(t){return e.decorate()(t,p,0)})),u(p.length)};return y.cap=function(){return arguments.length?(_=ye(arguments.length<=0?void 0:arguments[0]),y):_},y.equals=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},m(y,e,v("align")),p(y,u,"context","lineWidth","pixelRatio"),y},e.seriesWebglCandlestick=function(){return Yn(wn())},e.seriesWebglErrorBar=function(){var e=Fn(),t=on(),n=on(),r=on(),i=on().type(Jt.UNSIGNED_SHORT),o=on().type(Jt.UNSIGNED_BYTE),a=_n().crossValueAttribute(t).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(i).definedAttribute(o),s=function(e,t){return!1},c=Nn,l=[],u=null,d=null,f=function(f){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),p=c(e.yScale()),g=!s(l,f);g&&(l=f,i.value((function(t,n){return e.bandwidth()(t,n)})).data(f),o.value((function(t,n){return e.defined()(t,n)})).data(f)),(g||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(f)),(g||p.scale!==d)&&(d=p.scale,n.value((function(t,n){return p.scale(e.highValue()(t,n))})).data(f),r.value((function(t,n){return p.scale(e.lowValue()(t,n))})).data(f)),a.xScale(h.webglScale).yScale(p.webglScale).decorate((function(t){return e.decorate()(t,f,0)})),a(f.length)};return f.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},m(f,e,v("align")),p(f,a,"context","lineWidth","pixelRatio"),f},e.seriesWebglLine=Vn,e.seriesWebglMulti=Xn,e.seriesWebglOhlc=function(){return Yn(gn())},e.seriesWebglPoint=function(){var e=Me(),t=ye(64),n=c.symbolCircle,r=on(),i=on(),o=on().type(Jt.UNSIGNED_SHORT),a=on().type(Jt.UNSIGNED_BYTE),s=ln().crossValueAttribute(r).mainValueAttribute(i).sizeAttribute(o).definedAttribute(a),l=function(e,t){return!1},u=Nn,d=[],f=null,h=null,g=function(c){var p=u(e.xScale()),g=u(e.yScale()),m=!l(d,c);m&&(d=c,o.value((function(e,n){return t(e,n)})).data(c),a.value((function(t,n){return e.defined()(t,n)})).data(c)),(m||p.scale!==f)&&(f=p.scale,"vertical"===e.orient()?r.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(c):r.value((function(t,n){return p.scale(e.mainValue()(t,n))})).data(c)),(m||g.scale!==h)&&(h=g.scale,"vertical"===e.orient()?i.value((function(t,n){return g.scale(e.mainValue()(t,n))})).data(c):i.value((function(t,n){return g.scale(e.crossValue()(t,n))})).data(c)),s.xScale(p.webglScale).yScale(g.webglScale).type(On(n)).decorate((function(t){return e.decorate()(t,c,0)})),s(c.length)};return g.size=function(){return arguments.length?(t=ye(arguments.length<=0?void 0:arguments[0]),g):t},g.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},m(g,e,v("baseValue","bandwidth","align")),p(g,s,"context","pixelRatio"),g},e.seriesWebglRepeat=function(){var e="vertical",t=function(){return Vn()},n=Xn(),r=[],i=function(i){if("vertical"===e){var o=r;r=i[0].map((function(e,n){return n<o.length?o[n]:t()})),n.series(r).mapping((function(e,t){return e.map((function(e){return e[t]}))}))}else{var a=r;r=i.map((function(e,n){return n<a.length?a[n]:t()})),n.series(r).mapping((function(e,t){return e[t]}))}n(i)};return i.series=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.length?(t="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],i):t},i.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r=[],i):e},m(i,n,v("series","mapping")),i},e.shapeBar=ie,e.shapeBoxPlot=ae,e.shapeCandlestick=oe,e.shapeErrorBar=se,e.shapeOhlc=re,e.webglAdjacentAttribute=Mn,e.webglAttribute=on,e.webglBaseAttribute=nn,e.webglBufferBuilder=De,e.webglElementIndices=fn,e.webglFillColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=on().size(4),n=e,r=!0,i=function(e){if(e.vertexShader().appendHeaderIfNotExists(Fe).appendBodyIfNotExists(He),e.fragmentShader().appendHeaderIfNotExists(qt).appendBodyIfNotExists(Zt),Array.isArray(n))e.buffers().attribute("aFillColor",Bn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aFillColor",t)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},p(i,t,"data"),i},e.webglProgramBuilder=Be,e.webglScaleLinear=Sn,e.webglScaleLog=Cn,e.webglScaleMapper=Nn,e.webglScalePow=An,e.webglSeriesArea=sn,e.webglSeriesBar=bn,e.webglSeriesBoxPlot=kn,e.webglSeriesCandlestick=wn,e.webglSeriesErrorBar=_n,e.webglSeriesLine=hn,e.webglSeriesOhlc=gn,e.webglSeriesPoint=ln,e.webglShaderBuilder=Ve,e.webglStrokeColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=on().size(4),n=e,r=!0,i=function(e){if(e.vertexShader().appendHeaderIfNotExists(We).appendBodyIfNotExists(Ue),e.fragmentShader().appendHeaderIfNotExists(Gt).appendBodyIfNotExists($t),Array.isArray(n))e.buffers().attribute("aStrokeColor",Bn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aStrokeColor",t)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},p(i,t,"data"),i},e.webglSymbolMapper=On,e.webglTypes=Jt,e.webglUniform=Le,e.zoom=function(){var e=u.dispatch("zoom"),t=f.zoom().on("zoom",(function(n){var r,i,o=n.transform,a=this,c=o,l=a[Jr],u=l.originalXScale,d=l.previousXScale,h=l.xScale,p=l.originalYScale,g=l.previousYScale,m=l.yScale,b=l.previousTransform;Qr(d,h)&&Qr(g,m)||(u=null==h?void 0:h.copy(),p=null==m?void 0:m.copy(),r=o,i=b,c=f.zoomIdentity.scale(r.k/i.k).translate(r.x-i.x,r.y-i.y)),null!=h&&(d=c.rescaleX(u.range(h.range())),h.domain(d.domain())),null!=m&&(g=c.rescaleY(p.range(m.range())),m.domain(g.domain())),b=c,a[Jr]={originalXScale:u,previousXScale:d,xScale:h,originalYScale:p,previousYScale:g,yScale:m,previousTransform:b},c!==o&&t.transform(s.select(a),c),e.call("zoom")})),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),e.each((function(e,t,i){var o=i[t][Jr];null!=o&&o.xScale===n&&o.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var a=null==n?void 0:n.copy(),s=null==r?void 0:r.copy();i[t][Jr]={originalXScale:a,previousXScale:a,xScale:n,originalYScale:s,previousYScale:s,yScale:r,previousTransform:f.zoomIdentity}})).call(t)};return p(n,e,"on"),p(n,t,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(3233),n(7767),n(7845),n(1860),n(9677),n(400),n(4641),n(8098),n(9818),n(4582),n(174),n(797))},6623:(e,t)=>{var n,r;(r=r||{}).stringify=(n={"visit_linear-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return n.visit_gradient(e)},"visit_radial-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return n.visit_gradient(e)},visit_gradient:function(e){var t=n.visit(e.orientation);return t&&(t+=", "),e.type+"("+t+n.visit(e.colorStops)+")"},visit_shape:function(e){var t=e.value,r=n.visit(e.at),i=n.visit(e.style);return i&&(t+=" "+i),r&&(t+=" at "+r),t},"visit_default-radial":function(e){var t="",r=n.visit(e.at);return r&&(t+=r),t},"visit_extent-keyword":function(e){var t=e.value,r=n.visit(e.at);return r&&(t+=" at "+r),t},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return n.visit(e.value.x)+" "+n.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return n.visit_color(e.value,e)},visit_hex:function(e){return n.visit_color("#"+e.value,e)},visit_rgb:function(e){return n.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return n.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,t){var r=e,i=n.visit(t.length);return i&&(r+=" "+i),r},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var t="",r=e.length;return e.forEach((function(e,i){t+=n.visit(e),i<r-1&&(t+=", ")})),t},visit:function(e){if(!e)return"";if(e instanceof Array)return n.visit_array(e,"");if(e.type){var t=n["visit_"+e.type];if(t)return t(e);throw Error("Missing visitor visit_"+e.type)}throw Error("Invalid node.")}},function(e){return n.visit(e)}),(r=r||{}).parse=function(){var e=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,t=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,o=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,a=/^(left|center|right|top|bottom)/i,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,d=/^\(/,f=/^\)/,h=/^,/,p=/^\#([0-9a-fA-F]+)/,g=/^([a-zA-Z]+)/,m=/^rgb/i,b=/^rgba/i,v=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,_="";function y(e){var t=new Error(_+": "+e);throw t.source=_,t}function w(){return x("linear-gradient",e,M)||x("repeating-linear-gradient",t,M)||x("radial-gradient",n,S)||x("repeating-radial-gradient",r,S)}function x(e,t,n){return k(t,(function(t){var r=n();return r&&(O(h)||y("Missing comma before color stops")),{type:e,orientation:r,colorStops:z(P)}}))}function k(e,t){var n=O(e);if(n){O(d)||y("Missing (");var r=t(n);return O(f)||y("Missing )"),r}}function M(){return N("directional",i,1)||N("angular",u,1)}function S(){var e,t,n=C();return n&&((e=[]).push(n),t=_,O(h)&&((n=C())?e.push(n):_=t)),e}function C(){var e,t,n=((t=N("shape",/^(circle)/i,0))&&(t.style=L()||A()),t||((e=N("shape",/^(ellipse)/i,0))&&(e.style=D()||A()),e));if(n)n.at=T();else{var r=A();if(r){n=r;var i=T();i&&(n.at=i)}else{var o=E();o&&(n={type:"default-radial",at:o})}}return n}function A(){return N("extent-keyword",o,1)}function T(){if(N("position",/^at/,0)){var e=E();return e||y("Missing positioning value"),e}}function E(){var e={x:D(),y:D()};if(e.x||e.y)return{type:"position",value:e}}function z(e){var t=e(),n=[];if(t)for(n.push(t);O(h);)(t=e())?n.push(t):y("One extra comma");return n}function P(){var e=N("hex",p,1)||k(b,(function(){return{type:"rgba",value:z(I)}}))||k(m,(function(){return{type:"rgb",value:z(I)}}))||N("literal",g,0);return e||y("Expected color definition"),e.length=D(),e}function I(){return O(v)[1]}function D(){return N("%",c,1)||N("position-keyword",a,1)||L()}function L(){return N("px",s,1)||N("em",l,1)}function N(e,t,n){var r=O(t);if(r)return{type:e,value:r[n]}}function O(e){var t,n;return(n=/^[\n\r\t\s]+/.exec(_))&&B(n[0].length),(t=e.exec(_))&&B(t[0].length),t}function B(e){_=_.substr(e)}return function(e){return _=e.toString(),t=z(w),_.length>0&&y("Invalid input not EOF"),t;var t}}(),t.Q=r.parse,r.stringify},2718:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,H:()=>i});class r extends Map{constructor(e,t=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(o(this,e))}has(e){return super.has(o(this,e))}set(e,t){return super.set(a(this,e),t)}delete(e){return super.delete(s(this,e))}}class i extends Set{constructor(e,t=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(o(this,e))}add(e){return super.add(a(this,e))}delete(e){return super.delete(s(this,e))}}function o({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function a({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function s({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function c(e){return null!==e&&"object"==typeof e?e.valueOf():e}},8173:()=>{}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".index.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="nypd:",i.l=(n,r,o,a)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,s,c]=n,l=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);for(c&&c(i),t&&t(n);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[a[l]]=0},n=self.webpackChunknypd=self.webpackChunknypd||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i(6063)})();
//# sourceMappingURL=index.js.map